<nav class="action-container">
  <ol class="breadcrumb">
    <li class="breadcrumb-item" >
      @if (currentProject.type === 'currentProject') {
        <a [routerLink]="['/projects']">All Projects</a>
      }
      @if (currentProject.type === 'currentProjectNotification') {
        <a [routerLink]="['/project-notifications']">All Project Notifications</a>
      }
    </li>
    <li class="breadcrumb-item" >
      <a [routerLink]="[baseRouteUrl, currentProject.data._id]">{{currentProject.data.name}}</a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">
      Comment Periods
    </li>
  </ol>
  <div>
    <button type="button" class="btn btn-primary" (click)="addCommentPeriod()">
      <i class="material-icons">add</i>Add New Comment Period</button>
    </div>
  </nav>

  <main class="container-fluid-padding">
    <h1>{{currentProject.data.name}}</h1>

    @if (loading) {
      <div class="spinner-container">
        <div class="spinner-new rotating"></div>
      </div>
    }

    @if (tableParams.totalListItems > 0) {
      <app-table-template [columns]="commentPeriodTableColumns"
        [data]="commentPeriodTableData" (onColumnSort)='setColumnSort($event)'
        (onPageNumUpdate)='getPaginatedComments($event, null, null)'>
      </app-table-template>
    }

    @if (tableParams.totalListItems == 0) {
      <div>
        This project has no comment periods.
      </div>
    }
  </main>
