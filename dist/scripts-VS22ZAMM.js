(function(So,Oo){typeof exports=="object"&&typeof module<"u"?Oo(exports):typeof define=="function"&&define.amd?define(["exports"],Oo):Oo((So=typeof globalThis<"u"?globalThis:So||self).Popper={})})(this,(function(So){"use strict";function Oo(Q){if(Q==null)return window;if(Q.toString()!=="[object Window]"){var mt=Q.ownerDocument;return mt&&mt.defaultView||window}return Q}function Ji(Q){return Q instanceof Oo(Q).Element||Q instanceof Element}function Po(Q){return Q instanceof Oo(Q).HTMLElement||Q instanceof HTMLElement}function zu(Q){return typeof ShadowRoot<"u"&&(Q instanceof Oo(Q).ShadowRoot||Q instanceof ShadowRoot)}var Xt=Math.max,$r=Math.min,ot=Math.round;function ne(){var Q=navigator.userAgentData;return Q!=null&&Q.brands&&Array.isArray(Q.brands)?Q.brands.map((function(mt){return mt.brand+"/"+mt.version})).join(" "):navigator.userAgent}function ar(){return!/^((?!chrome|android).)*safari/i.test(ne())}function Tn(Q,mt,_t){mt===void 0&&(mt=!1),_t===void 0&&(_t=!1);var Ot=Q.getBoundingClientRect(),de=1,ht=1;mt&&Po(Q)&&(de=Q.offsetWidth>0&&ot(Ot.width)/Q.offsetWidth||1,ht=Q.offsetHeight>0&&ot(Ot.height)/Q.offsetHeight||1);var ue=(Ji(Q)?Oo(Q):window).visualViewport,ae=!ar()&&_t,me=(Ot.left+(ae&&ue?ue.offsetLeft:0))/de,ye=(Ot.top+(ae&&ue?ue.offsetTop:0))/ht,kt=Ot.width/de,le=Ot.height/ht;return{width:kt,height:le,top:ye,right:me+kt,bottom:ye+le,left:me,x:me,y:ye}}function Jt(Q){var mt=Oo(Q);return{scrollLeft:mt.pageXOffset,scrollTop:mt.pageYOffset}}function An(Q){return Q?(Q.nodeName||"").toLowerCase():null}function za(Q){return((Ji(Q)?Q.ownerDocument:Q.document)||window.document).documentElement}function yi(Q){return Tn(za(Q)).left+Jt(Q).scrollLeft}function Ir(Q){return Oo(Q).getComputedStyle(Q)}function qr(Q){var mt=Ir(Q),_t=mt.overflow,Ot=mt.overflowX,de=mt.overflowY;return/auto|scroll|overlay|hidden/.test(_t+de+Ot)}function Dn(Q,mt,_t){_t===void 0&&(_t=!1);var Ot,de,ht=Po(mt),ue=Po(mt)&&(function(le){var En=le.getBoundingClientRect(),$e=ot(En.width)/le.offsetWidth||1,Mn=ot(En.height)/le.offsetHeight||1;return $e!==1||Mn!==1})(mt),ae=za(mt),me=Tn(Q,ue,_t),ye={scrollLeft:0,scrollTop:0},kt={x:0,y:0};return(ht||!ht&&!_t)&&((An(mt)!=="body"||qr(ae))&&(ye=(Ot=mt)!==Oo(Ot)&&Po(Ot)?{scrollLeft:(de=Ot).scrollLeft,scrollTop:de.scrollTop}:Jt(Ot)),Po(mt)?((kt=Tn(mt,!0)).x+=mt.clientLeft,kt.y+=mt.clientTop):ae&&(kt.x=yi(ae))),{x:me.left+ye.scrollLeft-kt.x,y:me.top+ye.scrollTop-kt.y,width:me.width,height:me.height}}function vo(Q){var mt=Tn(Q),_t=Q.offsetWidth,Ot=Q.offsetHeight;return Math.abs(mt.width-_t)<=1&&(_t=mt.width),Math.abs(mt.height-Ot)<=1&&(Ot=mt.height),{x:Q.offsetLeft,y:Q.offsetTop,width:_t,height:Ot}}function Nn(Q){return An(Q)==="html"?Q:Q.assignedSlot||Q.parentNode||(zu(Q)?Q.host:null)||za(Q)}function Io(Q){return["html","body","#document"].indexOf(An(Q))>=0?Q.ownerDocument.body:Po(Q)&&qr(Q)?Q:Io(Nn(Q))}function fu(Q,mt){var _t;mt===void 0&&(mt=[]);var Ot=Io(Q),de=Ot===((_t=Q.ownerDocument)==null?void 0:_t.body),ht=Oo(Ot),ue=de?[ht].concat(ht.visualViewport||[],qr(Ot)?Ot:[]):Ot,ae=mt.concat(ue);return de?ae:ae.concat(fu(Nn(ue)))}function Je(Q){return["table","td","th"].indexOf(An(Q))>=0}function nn(Q){return Po(Q)&&Ir(Q).position!=="fixed"?Q.offsetParent:null}function Va(Q){for(var mt=Oo(Q),_t=nn(Q);_t&&Je(_t)&&Ir(_t).position==="static";)_t=nn(_t);return _t&&(An(_t)==="html"||An(_t)==="body"&&Ir(_t).position==="static")?mt:_t||(function(Ot){var de=/firefox/i.test(ne());if(/Trident/i.test(ne())&&Po(Ot)&&Ir(Ot).position==="fixed")return null;var ht=Nn(Ot);for(zu(ht)&&(ht=ht.host);Po(ht)&&["html","body"].indexOf(An(ht))<0;){var ue=Ir(ht);if(ue.transform!=="none"||ue.perspective!=="none"||ue.contain==="paint"||["transform","perspective"].indexOf(ue.willChange)!==-1||de&&ue.willChange==="filter"||de&&ue.filter&&ue.filter!=="none")return ht;ht=ht.parentNode}return null})(Q)||mt}var q="top",dr="bottom",Ge="right",Lr="left",Vu="auto",Ln=[q,dr,Ge,Lr],lo="start",mr="end",Dc="viewport",ju="popper",Vt=Ln.reduce((function(Q,mt){return Q.concat([mt+"-"+lo,mt+"-"+mr])}),[]),Cr=[].concat(Ln,[Vu]).reduce((function(Q,mt){return Q.concat([mt,mt+"-"+lo,mt+"-"+mr])}),[]),Ne=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function gt(Q){var mt=new Map,_t=new Set,Ot=[];function de(ht){_t.add(ht.name),[].concat(ht.requires||[],ht.requiresIfExists||[]).forEach((function(ue){if(!_t.has(ue)){var ae=mt.get(ue);ae&&de(ae)}})),Ot.push(ht)}return Q.forEach((function(ht){mt.set(ht.name,ht)})),Q.forEach((function(ht){_t.has(ht.name)||de(ht)})),Ot}function tr(Q,mt){var _t=mt.getRootNode&&mt.getRootNode();if(Q.contains(mt))return!0;if(_t&&zu(_t)){var Ot=mt;do{if(Ot&&Q.isSameNode(Ot))return!0;Ot=Ot.parentNode||Ot.host}while(Ot)}return!1}function uo(Q){return Object.assign({},Q,{left:Q.x,top:Q.y,right:Q.x+Q.width,bottom:Q.y+Q.height})}function We(Q,mt,_t){return mt===Dc?uo((function(Ot,de){var ht=Oo(Ot),ue=za(Ot),ae=ht.visualViewport,me=ue.clientWidth,ye=ue.clientHeight,kt=0,le=0;if(ae){me=ae.width,ye=ae.height;var En=ar();(En||!En&&de==="fixed")&&(kt=ae.offsetLeft,le=ae.offsetTop)}return{width:me,height:ye,x:kt+yi(Ot),y:le}})(Q,_t)):Ji(mt)?(function(Ot,de){var ht=Tn(Ot,!1,de==="fixed");return ht.top=ht.top+Ot.clientTop,ht.left=ht.left+Ot.clientLeft,ht.bottom=ht.top+Ot.clientHeight,ht.right=ht.left+Ot.clientWidth,ht.width=Ot.clientWidth,ht.height=Ot.clientHeight,ht.x=ht.left,ht.y=ht.top,ht})(mt,_t):uo((function(Ot){var de,ht=za(Ot),ue=Jt(Ot),ae=(de=Ot.ownerDocument)==null?void 0:de.body,me=Xt(ht.scrollWidth,ht.clientWidth,ae?ae.scrollWidth:0,ae?ae.clientWidth:0),ye=Xt(ht.scrollHeight,ht.clientHeight,ae?ae.scrollHeight:0,ae?ae.clientHeight:0),kt=-ue.scrollLeft+yi(Ot),le=-ue.scrollTop;return Ir(ae||ht).direction==="rtl"&&(kt+=Xt(ht.clientWidth,ae?ae.clientWidth:0)-me),{width:me,height:ye,x:kt,y:le}})(za(Q)))}function Jn(Q,mt,_t,Ot){var de=mt==="clippingParents"?(function(me){var ye=fu(Nn(me)),kt=["absolute","fixed"].indexOf(Ir(me).position)>=0&&Po(me)?Va(me):me;return Ji(kt)?ye.filter((function(le){return Ji(le)&&tr(le,kt)&&An(le)!=="body"})):[]})(Q):[].concat(mt),ht=[].concat(de,[_t]),ue=ht[0],ae=ht.reduce((function(me,ye){var kt=We(Q,ye,Ot);return me.top=Xt(kt.top,me.top),me.right=$r(kt.right,me.right),me.bottom=$r(kt.bottom,me.bottom),me.left=Xt(kt.left,me.left),me}),We(Q,ue,Ot));return ae.width=ae.right-ae.left,ae.height=ae.bottom-ae.top,ae.x=ae.left,ae.y=ae.top,ae}function on(Q){return Q.split("-")[0]}function Ko(Q){return Q.split("-")[1]}function bo(Q){return["top","bottom"].indexOf(Q)>=0?"x":"y"}function Pe(Q){var mt,_t=Q.reference,Ot=Q.element,de=Q.placement,ht=de?on(de):null,ue=de?Ko(de):null,ae=_t.x+_t.width/2-Ot.width/2,me=_t.y+_t.height/2-Ot.height/2;switch(ht){case q:mt={x:ae,y:_t.y-Ot.height};break;case dr:mt={x:ae,y:_t.y+_t.height};break;case Ge:mt={x:_t.x+_t.width,y:me};break;case Lr:mt={x:_t.x-Ot.width,y:me};break;default:mt={x:_t.x,y:_t.y}}var ye=ht?bo(ht):null;if(ye!=null){var kt=ye==="y"?"height":"width";switch(ue){case lo:mt[ye]=mt[ye]-(_t[kt]/2-Ot[kt]/2);break;case mr:mt[ye]=mt[ye]+(_t[kt]/2-Ot[kt]/2)}}return mt}function ja(Q){return Object.assign({},{top:0,right:0,bottom:0,left:0},Q)}function Cs(Q,mt){return mt.reduce((function(_t,Ot){return _t[Ot]=Q,_t}),{})}function Ua(Q,mt){mt===void 0&&(mt={});var _t=mt,Ot=_t.placement,de=Ot===void 0?Q.placement:Ot,ht=_t.strategy,ue=ht===void 0?Q.strategy:ht,ae=_t.boundary,me=ae===void 0?"clippingParents":ae,ye=_t.rootBoundary,kt=ye===void 0?Dc:ye,le=_t.elementContext,En=le===void 0?ju:le,$e=_t.altBoundary,Mn=$e!==void 0&&$e,pn=_t.padding,On=pn===void 0?0:pn,Co=ja(typeof On!="number"?On:Cs(On,Ln)),$n=En===ju?"reference":ju,Be=Q.rects.popper,ke=Q.elements[Mn?$n:En],ze=Jn(Ji(ke)?ke:ke.contextElement||za(Q.elements.popper),me,kt,ue),hn=Tn(Q.elements.reference),qn=Pe({reference:hn,element:Be,strategy:"absolute",placement:de}),Gn=uo(Object.assign({},Be,qn)),Xe=En===ju?Gn:hn,Eo={top:ze.top-Xe.top+Co.top,bottom:Xe.bottom-ze.bottom+Co.bottom,left:ze.left-Xe.left+Co.left,right:Xe.right-ze.right+Co.right},Fn=Q.modifiersData.offset;if(En===ju&&Fn){var er=Fn[de];Object.keys(Eo).forEach((function(wi){var wa=[Ge,dr].indexOf(wi)>=0?1:-1,Li=[q,dr].indexOf(wi)>=0?"y":"x";Eo[wi]+=er[Li]*wa}))}return Eo}var vl={placement:"bottom",modifiers:[],strategy:"absolute"};function si(){for(var Q=arguments.length,mt=new Array(Q),_t=0;_t<Q;_t++)mt[_t]=arguments[_t];return!mt.some((function(Ot){return!(Ot&&typeof Ot.getBoundingClientRect=="function")}))}function Uu(Q){Q===void 0&&(Q={});var mt=Q,_t=mt.defaultModifiers,Ot=_t===void 0?[]:_t,de=mt.defaultOptions,ht=de===void 0?vl:de;return function(ue,ae,me){me===void 0&&(me=ht);var ye,kt,le={placement:"bottom",orderedModifiers:[],options:Object.assign({},vl,ht),modifiersData:{},elements:{reference:ue,popper:ae},attributes:{},styles:{}},En=[],$e=!1,Mn={state:le,setOptions:function(On){var Co=typeof On=="function"?On(le.options):On;pn(),le.options=Object.assign({},ht,le.options,Co),le.scrollParents={reference:Ji(ue)?fu(ue):ue.contextElement?fu(ue.contextElement):[],popper:fu(ae)};var $n,Be,ke=(function(ze){var hn=gt(ze);return Ne.reduce((function(qn,Gn){return qn.concat(hn.filter((function(Xe){return Xe.phase===Gn})))}),[])})(($n=[].concat(Ot,le.options.modifiers),Be=$n.reduce((function(ze,hn){var qn=ze[hn.name];return ze[hn.name]=qn?Object.assign({},qn,hn,{options:Object.assign({},qn.options,hn.options),data:Object.assign({},qn.data,hn.data)}):hn,ze}),{}),Object.keys(Be).map((function(ze){return Be[ze]}))));return le.orderedModifiers=ke.filter((function(ze){return ze.enabled})),le.orderedModifiers.forEach((function(ze){var hn=ze.name,qn=ze.options,Gn=qn===void 0?{}:qn,Xe=ze.effect;if(typeof Xe=="function"){var Eo=Xe({state:le,name:hn,instance:Mn,options:Gn}),Fn=function(){};En.push(Eo||Fn)}})),Mn.update()},forceUpdate:function(){if(!$e){var On=le.elements,Co=On.reference,$n=On.popper;if(si(Co,$n)){le.rects={reference:Dn(Co,Va($n),le.options.strategy==="fixed"),popper:vo($n)},le.reset=!1,le.placement=le.options.placement,le.orderedModifiers.forEach((function(Xe){return le.modifiersData[Xe.name]=Object.assign({},Xe.data)}));for(var Be=0;Be<le.orderedModifiers.length;Be++)if(le.reset!==!0){var ke=le.orderedModifiers[Be],ze=ke.fn,hn=ke.options,qn=hn===void 0?{}:hn,Gn=ke.name;typeof ze=="function"&&(le=ze({state:le,options:qn,name:Gn,instance:Mn})||le)}else le.reset=!1,Be=-1}}},update:(ye=function(){return new Promise((function(On){Mn.forceUpdate(),On(le)}))},function(){return kt||(kt=new Promise((function(On){Promise.resolve().then((function(){kt=void 0,On(ye())}))}))),kt}),destroy:function(){pn(),$e=!0}};if(!si(ue,ae))return Mn;function pn(){En.forEach((function(On){return On()})),En=[]}return Mn.setOptions(me).then((function(On){!$e&&me.onFirstUpdate&&me.onFirstUpdate(On)})),Mn}}var eo={passive:!0},Qn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(Q){var mt=Q.state,_t=Q.instance,Ot=Q.options,de=Ot.scroll,ht=de===void 0||de,ue=Ot.resize,ae=ue===void 0||ue,me=Oo(mt.elements.popper),ye=[].concat(mt.scrollParents.reference,mt.scrollParents.popper);return ht&&ye.forEach((function(kt){kt.addEventListener("scroll",_t.update,eo)})),ae&&me.addEventListener("resize",_t.update,eo),function(){ht&&ye.forEach((function(kt){kt.removeEventListener("scroll",_t.update,eo)})),ae&&me.removeEventListener("resize",_t.update,eo)}},data:{}},ko={name:"popperOffsets",enabled:!0,phase:"read",fn:function(Q){var mt=Q.state,_t=Q.name;mt.modifiersData[_t]=Pe({reference:mt.rects.reference,element:mt.rects.popper,strategy:"absolute",placement:mt.placement})},data:{}},yo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nc(Q){var mt,_t=Q.popper,Ot=Q.popperRect,de=Q.placement,ht=Q.variation,ue=Q.offsets,ae=Q.position,me=Q.gpuAcceleration,ye=Q.adaptive,kt=Q.roundOffsets,le=Q.isFixed,En=ue.x,$e=En===void 0?0:En,Mn=ue.y,pn=Mn===void 0?0:Mn,On=typeof kt=="function"?kt({x:$e,y:pn}):{x:$e,y:pn};$e=On.x,pn=On.y;var Co=ue.hasOwnProperty("x"),$n=ue.hasOwnProperty("y"),Be=Lr,ke=q,ze=window;if(ye){var hn=Va(_t),qn="clientHeight",Gn="clientWidth";hn===Oo(_t)&&Ir(hn=za(_t)).position!=="static"&&ae==="absolute"&&(qn="scrollHeight",Gn="scrollWidth"),hn=hn,(de===q||(de===Lr||de===Ge)&&ht===mr)&&(ke=dr,pn-=(le&&hn===ze&&ze.visualViewport?ze.visualViewport.height:hn[qn])-Ot.height,pn*=me?1:-1),(de===Lr||(de===q||de===dr)&&ht===mr)&&(Be=Ge,$e-=(le&&hn===ze&&ze.visualViewport?ze.visualViewport.width:hn[Gn])-Ot.width,$e*=me?1:-1)}var Xe,Eo=Object.assign({position:ae},ye&&yo),Fn=kt===!0?(function(er,wi){var wa=er.x,Li=er.y,To=wi.devicePixelRatio||1;return{x:ot(wa*To)/To||0,y:ot(Li*To)/To||0}})({x:$e,y:pn},Oo(_t)):{x:$e,y:pn};return $e=Fn.x,pn=Fn.y,me?Object.assign({},Eo,((Xe={})[ke]=$n?"0":"",Xe[Be]=Co?"0":"",Xe.transform=(ze.devicePixelRatio||1)<=1?"translate("+$e+"px, "+pn+"px)":"translate3d("+$e+"px, "+pn+"px, 0)",Xe)):Object.assign({},Eo,((mt={})[ke]=$n?pn+"px":"",mt[Be]=Co?$e+"px":"",mt.transform="",mt))}var Wu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(Q){var mt=Q.state,_t=Q.options,Ot=_t.gpuAcceleration,de=Ot===void 0||Ot,ht=_t.adaptive,ue=ht===void 0||ht,ae=_t.roundOffsets,me=ae===void 0||ae,ye={placement:on(mt.placement),variation:Ko(mt.placement),popper:mt.elements.popper,popperRect:mt.rects.popper,gpuAcceleration:de,isFixed:mt.options.strategy==="fixed"};mt.modifiersData.popperOffsets!=null&&(mt.styles.popper=Object.assign({},mt.styles.popper,Nc(Object.assign({},ye,{offsets:mt.modifiersData.popperOffsets,position:mt.options.strategy,adaptive:ue,roundOffsets:me})))),mt.modifiersData.arrow!=null&&(mt.styles.arrow=Object.assign({},mt.styles.arrow,Nc(Object.assign({},ye,{offsets:mt.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:me})))),mt.attributes.popper=Object.assign({},mt.attributes.popper,{"data-popper-placement":mt.placement})},data:{}},be={name:"applyStyles",enabled:!0,phase:"write",fn:function(Q){var mt=Q.state;Object.keys(mt.elements).forEach((function(_t){var Ot=mt.styles[_t]||{},de=mt.attributes[_t]||{},ht=mt.elements[_t];Po(ht)&&An(ht)&&(Object.assign(ht.style,Ot),Object.keys(de).forEach((function(ue){var ae=de[ue];ae===!1?ht.removeAttribute(ue):ht.setAttribute(ue,ae===!0?"":ae)})))}))},effect:function(Q){var mt=Q.state,_t={popper:{position:mt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(mt.elements.popper.style,_t.popper),mt.styles=_t,mt.elements.arrow&&Object.assign(mt.elements.arrow.style,_t.arrow),function(){Object.keys(mt.elements).forEach((function(Ot){var de=mt.elements[Ot],ht=mt.attributes[Ot]||{},ue=Object.keys(mt.styles.hasOwnProperty(Ot)?mt.styles[Ot]:_t[Ot]).reduce((function(ae,me){return ae[me]="",ae}),{});Po(de)&&An(de)&&(Object.assign(de.style,ue),Object.keys(ht).forEach((function(ae){de.removeAttribute(ae)})))}))}},requires:["computeStyles"]},Fr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(Q){var mt=Q.state,_t=Q.options,Ot=Q.name,de=_t.offset,ht=de===void 0?[0,0]:de,ue=Cr.reduce((function(kt,le){return kt[le]=(function(En,$e,Mn){var pn=on(En),On=[Lr,q].indexOf(pn)>=0?-1:1,Co=typeof Mn=="function"?Mn(Object.assign({},$e,{placement:En})):Mn,$n=Co[0],Be=Co[1];return $n=$n||0,Be=(Be||0)*On,[Lr,Ge].indexOf(pn)>=0?{x:Be,y:$n}:{x:$n,y:Be}})(le,mt.rects,ht),kt}),{}),ae=ue[mt.placement],me=ae.x,ye=ae.y;mt.modifiersData.popperOffsets!=null&&(mt.modifiersData.popperOffsets.x+=me,mt.modifiersData.popperOffsets.y+=ye),mt.modifiersData[Ot]=ue}},no={left:"right",right:"left",bottom:"top",top:"bottom"};function _r(Q){return Q.replace(/left|right|bottom|top/g,(function(mt){return no[mt]}))}var ci={start:"end",end:"start"};function Js(Q){return Q.replace(/start|end/g,(function(mt){return ci[mt]}))}function Yo(Q,mt){mt===void 0&&(mt={});var _t=mt,Ot=_t.placement,de=_t.boundary,ht=_t.rootBoundary,ue=_t.padding,ae=_t.flipVariations,me=_t.allowedAutoPlacements,ye=me===void 0?Cr:me,kt=Ko(Ot),le=kt?ae?Vt:Vt.filter((function(Mn){return Ko(Mn)===kt})):Ln,En=le.filter((function(Mn){return ye.indexOf(Mn)>=0}));En.length===0&&(En=le);var $e=En.reduce((function(Mn,pn){return Mn[pn]=Ua(Q,{placement:pn,boundary:de,rootBoundary:ht,padding:ue})[on(pn)],Mn}),{});return Object.keys($e).sort((function(Mn,pn){return $e[Mn]-$e[pn]}))}var Bc={name:"flip",enabled:!0,phase:"main",fn:function(Q){var mt=Q.state,_t=Q.options,Ot=Q.name;if(!mt.modifiersData[Ot]._skip){for(var de=_t.mainAxis,ht=de===void 0||de,ue=_t.altAxis,ae=ue===void 0||ue,me=_t.fallbackPlacements,ye=_t.padding,kt=_t.boundary,le=_t.rootBoundary,En=_t.altBoundary,$e=_t.flipVariations,Mn=$e===void 0||$e,pn=_t.allowedAutoPlacements,On=mt.options.placement,Co=on(On),$n=me||(Co===On||!Mn?[_r(On)]:(function(so){if(on(so)===Vu)return[];var fo=_r(so);return[Js(so),fo,Js(fo)]})(On)),Be=[On].concat($n).reduce((function(so,fo){return so.concat(on(fo)===Vu?Yo(mt,{placement:fo,boundary:kt,rootBoundary:le,padding:ye,flipVariations:Mn,allowedAutoPlacements:pn}):fo)}),[]),ke=mt.rects.reference,ze=mt.rects.popper,hn=new Map,qn=!0,Gn=Be[0],Xe=0;Xe<Be.length;Xe++){var Eo=Be[Xe],Fn=on(Eo),er=Ko(Eo)===lo,wi=[q,dr].indexOf(Fn)>=0,wa=wi?"width":"height",Li=Ua(mt,{placement:Eo,boundary:kt,rootBoundary:le,altBoundary:En,padding:ye}),To=wi?er?Ge:Lr:er?dr:q;ke[wa]>ze[wa]&&(To=_r(To));var gu=_r(To),pu=[];if(ht&&pu.push(Li[Fn]<=0),ae&&pu.push(Li[To]<=0,Li[gu]<=0),pu.every((function(so){return so}))){Gn=Eo,qn=!1;break}hn.set(Eo,pu)}if(qn)for(var qe=function(so){var fo=Be.find((function(Zi){var Lo=hn.get(Zi);if(Lo)return Lo.slice(0,so).every((function($a){return $a}))}));if(fo)return Gn=fo,"break"},Wa=Mn?3:1;Wa>0&&qe(Wa)!=="break";Wa--);mt.placement!==Gn&&(mt.modifiersData[Ot]._skip=!0,mt.placement=Gn,mt.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Gr(Q,mt,_t){return Xt(Q,$r(mt,_t))}var Qi={name:"preventOverflow",enabled:!0,phase:"main",fn:function(Q){var mt=Q.state,_t=Q.options,Ot=Q.name,de=_t.mainAxis,ht=de===void 0||de,ue=_t.altAxis,ae=ue!==void 0&&ue,me=_t.boundary,ye=_t.rootBoundary,kt=_t.altBoundary,le=_t.padding,En=_t.tether,$e=En===void 0||En,Mn=_t.tetherOffset,pn=Mn===void 0?0:Mn,On=Ua(mt,{boundary:me,rootBoundary:ye,padding:le,altBoundary:kt}),Co=on(mt.placement),$n=Ko(mt.placement),Be=!$n,ke=bo(Co),ze=ke==="x"?"y":"x",hn=mt.modifiersData.popperOffsets,qn=mt.rects.reference,Gn=mt.rects.popper,Xe=typeof pn=="function"?pn(Object.assign({},mt.rects,{placement:mt.placement})):pn,Eo=typeof Xe=="number"?{mainAxis:Xe,altAxis:Xe}:Object.assign({mainAxis:0,altAxis:0},Xe),Fn=mt.modifiersData.offset?mt.modifiersData.offset[mt.placement]:null,er={x:0,y:0};if(hn){if(ht){var wi,wa=ke==="y"?q:Lr,Li=ke==="y"?dr:Ge,To=ke==="y"?"height":"width",gu=hn[ke],pu=gu+On[wa],qe=gu-On[Li],Wa=$e?-Gn[To]/2:0,so=$n===lo?qn[To]:Gn[To],fo=$n===lo?-Gn[To]:-qn[To],Zi=mt.elements.arrow,Lo=$e&&Zi?vo(Zi):{width:0,height:0},$a=mt.modifiersData["arrow#persistent"]?mt.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},pf=$a[wa],Ie=$a[Li],Fo=Gr(0,qn[To],Lo[To]),Rc=Be?qn[To]/2-Wa-Fo-pf-Eo.mainAxis:so-Fo-pf-Eo.mainAxis,Xr=Be?-qn[To]/2+Wa+Fo+Ie+Eo.mainAxis:fo+Fo+Ie+Eo.mainAxis,Hn=mt.elements.arrow&&Va(mt.elements.arrow),Ci=Hn?ke==="y"?Hn.clientTop||0:Hn.clientLeft||0:0,vn=(wi=Fn?.[ke])!=null?wi:0,Kr=gu+Xr-vn,bl=Gr($e?$r(pu,gu+Rc-vn-Ci):pu,gu,$e?Xt(qe,Kr):qe);hn[ke]=bl,er[ke]=bl-gu}if(ae){var ur,Te=ke==="x"?q:Lr,yl=ke==="x"?dr:Ge,li=hn[ze],Ct=ze==="y"?"height":"width",lt=li+On[Te],Ho=li-On[yl],Mc=[q,Lr].indexOf(Co)!==-1,hu=(ur=Fn?.[ze])!=null?ur:0,hf=Mc?lt:li-qn[Ct]-Gn[Ct]-hu+Eo.altAxis,_s=Mc?li+qn[Ct]+Gn[Ct]-hu-Eo.altAxis:Ho,Pc=$e&&Mc?(function(_i,$u,gr){var Ic=Gr(_i,$u,gr);return Ic>gr?gr:Ic})(hf,li,_s):Gr($e?hf:lt,li,$e?_s:Ho);hn[ze]=Pc,er[ze]=Pc-li}mt.modifiersData[Ot]=er}},requiresIfExists:["offset"]},xi={name:"arrow",enabled:!0,phase:"main",fn:function(Q){var mt,_t=Q.state,Ot=Q.name,de=Q.options,ht=_t.elements.arrow,ue=_t.modifiersData.popperOffsets,ae=on(_t.placement),me=bo(ae),ye=[Lr,Ge].indexOf(ae)>=0?"height":"width";if(ht&&ue){var kt=(function(Gn,Xe){return ja(typeof(Gn=typeof Gn=="function"?Gn(Object.assign({},Xe.rects,{placement:Xe.placement})):Gn)!="number"?Gn:Cs(Gn,Ln))})(de.padding,_t),le=vo(ht),En=me==="y"?q:Lr,$e=me==="y"?dr:Ge,Mn=_t.rects.reference[ye]+_t.rects.reference[me]-ue[me]-_t.rects.popper[ye],pn=ue[me]-_t.rects.reference[me],On=Va(ht),Co=On?me==="y"?On.clientHeight||0:On.clientWidth||0:0,$n=Mn/2-pn/2,Be=kt[En],ke=Co-le[ye]-kt[$e],ze=Co/2-le[ye]/2+$n,hn=Gr(Be,ze,ke),qn=me;_t.modifiersData[Ot]=((mt={})[qn]=hn,mt.centerOffset=hn-ze,mt)}},effect:function(Q){var mt=Q.state,_t=Q.options.element,Ot=_t===void 0?"[data-popper-arrow]":_t;Ot!=null&&(typeof Ot!="string"||(Ot=mt.elements.popper.querySelector(Ot)))&&tr(mt.elements.popper,Ot)&&(mt.elements.arrow=Ot)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function du(Q,mt,_t){return _t===void 0&&(_t={x:0,y:0}),{top:Q.top-mt.height-_t.y,right:Q.right-mt.width+_t.x,bottom:Q.bottom-mt.height+_t.y,left:Q.left-mt.width-_t.x}}function w(Q){return[q,Ge,dr,Lr].some((function(mt){return Q[mt]>=0}))}var mu={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(Q){var mt=Q.state,_t=Q.name,Ot=mt.rects.reference,de=mt.rects.popper,ht=mt.modifiersData.preventOverflow,ue=Ua(mt,{elementContext:"reference"}),ae=Ua(mt,{altBoundary:!0}),me=du(ue,Ot),ye=du(ae,de,ht),kt=w(me),le=w(ye);mt.modifiersData[_t]={referenceClippingOffsets:me,popperEscapeOffsets:ye,isReferenceHidden:kt,hasPopperEscaped:le},mt.attributes.popper=Object.assign({},mt.attributes.popper,{"data-popper-reference-hidden":kt,"data-popper-escaped":le})}},ag=Uu({defaultModifiers:[Qn,ko,Wu,be]}),Rd=[Qn,ko,Wu,be,Fr,Bc,Qi,xi,mu],Zn=Uu({defaultModifiers:Rd});So.applyStyles=be,So.arrow=xi,So.computeStyles=Wu,So.createPopper=Zn,So.createPopperLite=ag,So.defaultModifiers=Rd,So.detectOverflow=Ua,So.eventListeners=Qn,So.flip=Bc,So.hide=mu,So.offset=Fr,So.popperGenerator=Uu,So.popperOffsets=ko,So.preventOverflow=Qi,Object.defineProperty(So,"__esModule",{value:!0})}));/*!
  * Bootstrap v5.3.8 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */(function(So,Oo){typeof exports=="object"&&typeof module<"u"?module.exports=Oo(require("@popperjs/core")):typeof define=="function"&&define.amd?define(["@popperjs/core"],Oo):(So=typeof globalThis<"u"?globalThis:So||self).bootstrap=Oo(So.Popper)})(this,function(So){"use strict";function Oo(st){const k=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(st){for(const W in st)if(W!=="default"){const ct=Object.getOwnPropertyDescriptor(st,W);Object.defineProperty(k,W,ct.get?ct:{enumerable:!0,get:()=>st[W]})}}return k.default=st,Object.freeze(k)}const Ji=Oo(So),Po=new Map,zu={set(st,k,W){Po.has(st)||Po.set(st,new Map);const ct=Po.get(st);ct.has(k)||ct.size===0?ct.set(k,W):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(ct.keys())[0]}.`)},get:(st,k)=>Po.has(st)&&Po.get(st).get(k)||null,remove(st,k){if(!Po.has(st))return;const W=Po.get(st);W.delete(k),W.size===0&&Po.delete(st)}},Xt="transitionend",$r=st=>(st&&window.CSS&&window.CSS.escape&&(st=st.replace(/#([^\s"#']+)/g,(k,W)=>`#${CSS.escape(W)}`)),st),ot=st=>st==null?`${st}`:Object.prototype.toString.call(st).match(/\s([a-z]+)/i)[1].toLowerCase(),ne=st=>{st.dispatchEvent(new Event(Xt))},ar=st=>!(!st||typeof st!="object")&&(st.jquery!==void 0&&(st=st[0]),st.nodeType!==void 0),Tn=st=>ar(st)?st.jquery?st[0]:st:typeof st=="string"&&st.length>0?document.querySelector($r(st)):null,Jt=st=>{if(!ar(st)||st.getClientRects().length===0)return!1;const k=getComputedStyle(st).getPropertyValue("visibility")==="visible",W=st.closest("details:not([open])");if(!W)return k;if(W!==st){const ct=st.closest("summary");if(ct&&ct.parentNode!==W||ct===null)return!1}return k},An=st=>!st||st.nodeType!==Node.ELEMENT_NODE||!!st.classList.contains("disabled")||(st.disabled!==void 0?st.disabled:st.hasAttribute("disabled")&&st.getAttribute("disabled")!=="false"),za=st=>{if(!document.documentElement.attachShadow)return null;if(typeof st.getRootNode=="function"){const k=st.getRootNode();return k instanceof ShadowRoot?k:null}return st instanceof ShadowRoot?st:st.parentNode?za(st.parentNode):null},yi=()=>{},Ir=st=>{st.offsetHeight},qr=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Dn=[],vo=()=>document.documentElement.dir==="rtl",Nn=st=>{var k;k=()=>{const W=qr();if(W){const ct=st.NAME,$t=W.fn[ct];W.fn[ct]=st.jQueryInterface,W.fn[ct].Constructor=st,W.fn[ct].noConflict=()=>(W.fn[ct]=$t,st.jQueryInterface)}},document.readyState==="loading"?(Dn.length||document.addEventListener("DOMContentLoaded",()=>{for(const W of Dn)W()}),Dn.push(k)):k()},Io=(st,k=[],W=st)=>typeof st=="function"?st.call(...k):W,fu=(st,k,W=!0)=>{if(!W)return void Io(st);const ct=(ee=>{if(!ee)return 0;let{transitionDuration:Qe,transitionDelay:Uo}=window.getComputedStyle(ee);const Oi=Number.parseFloat(Qe),ce=Number.parseFloat(Uo);return Oi||ce?(Qe=Qe.split(",")[0],Uo=Uo.split(",")[0],1e3*(Number.parseFloat(Qe)+Number.parseFloat(Uo))):0})(k)+5;let $t=!1;const se=({target:ee})=>{ee===k&&($t=!0,k.removeEventListener(Xt,se),Io(st))};k.addEventListener(Xt,se),setTimeout(()=>{$t||ne(k)},ct)},Je=(st,k,W,ct)=>{const $t=st.length;let se=st.indexOf(k);return se===-1?!W&&ct?st[$t-1]:st[0]:(se+=W?1:-1,ct&&(se=(se+$t)%$t),st[Math.max(0,Math.min(se,$t-1))])},nn=/[^.]*(?=\..*)\.|.*/,Va=/\..*/,q=/::\d+$/,dr={};let Ge=1;const Lr={mouseenter:"mouseover",mouseleave:"mouseout"},Vu=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Ln(st,k){return k&&`${k}::${Ge++}`||st.uidEvent||Ge++}function lo(st){const k=Ln(st);return st.uidEvent=k,dr[k]=dr[k]||{},dr[k]}function mr(st,k,W=null){return Object.values(st).find(ct=>ct.callable===k&&ct.delegationSelector===W)}function Dc(st,k,W){const ct=typeof k=="string",$t=ct?W:k||W;let se=Ne(st);return Vu.has(se)||(se=st),[ct,$t,se]}function ju(st,k,W,ct,$t){if(typeof k!="string"||!st)return;let[se,ee,Qe]=Dc(k,W,ct);k in Lr&&(ee=(sn=>function(Hi){if(!Hi.relatedTarget||Hi.relatedTarget!==Hi.delegateTarget&&!Hi.delegateTarget.contains(Hi.relatedTarget))return sn.call(this,Hi)})(ee));const Uo=lo(st),Oi=Uo[Qe]||(Uo[Qe]={}),ce=mr(Oi,ee,se?W:null);if(ce)return void(ce.oneOff=ce.oneOff&&$t);const ua=Ln(ee,k.replace(nn,"")),kr=se?(function(Ta,sn,Hi){return function ec(Vc){const nc=Ta.querySelectorAll(sn);for(let{target:sa}=Vc;sa&&sa!==this;sa=sa.parentNode)for(const Qo of nc)if(Qo===sa)return tr(Vc,{delegateTarget:sa}),ec.oneOff&&gt.off(Ta,Vc.type,sn,Hi),Hi.apply(sa,[Vc])}})(st,W,ee):(function(Ta,sn){return function Hi(ec){return tr(ec,{delegateTarget:Ta}),Hi.oneOff&&gt.off(Ta,ec.type,sn),sn.apply(Ta,[ec])}})(st,ee);kr.delegationSelector=se?W:null,kr.callable=ee,kr.oneOff=$t,kr.uidEvent=ua,Oi[ua]=kr,st.addEventListener(Qe,kr,se)}function Vt(st,k,W,ct,$t){const se=mr(k[W],ct,$t);se&&(st.removeEventListener(W,se,!!$t),delete k[W][se.uidEvent])}function Cr(st,k,W,ct){const $t=k[W]||{};for(const[se,ee]of Object.entries($t))se.includes(ct)&&Vt(st,k,W,ee.callable,ee.delegationSelector)}function Ne(st){return st=st.replace(Va,""),Lr[st]||st}const gt={on(st,k,W,ct){ju(st,k,W,ct,!1)},one(st,k,W,ct){ju(st,k,W,ct,!0)},off(st,k,W,ct){if(typeof k!="string"||!st)return;const[$t,se,ee]=Dc(k,W,ct),Qe=ee!==k,Uo=lo(st),Oi=Uo[ee]||{},ce=k.startsWith(".");if(se===void 0){if(ce)for(const ua of Object.keys(Uo))Cr(st,Uo,ua,k.slice(1));for(const[ua,kr]of Object.entries(Oi)){const Ta=ua.replace(q,"");Qe&&!k.includes(Ta)||Vt(st,Uo,ee,kr.callable,kr.delegationSelector)}}else{if(!Object.keys(Oi).length)return;Vt(st,Uo,ee,se,$t?W:null)}},trigger(st,k,W){if(typeof k!="string"||!st)return null;const ct=qr();let $t=null,se=!0,ee=!0,Qe=!1;k!==Ne(k)&&ct&&($t=ct.Event(k,W),ct(st).trigger($t),se=!$t.isPropagationStopped(),ee=!$t.isImmediatePropagationStopped(),Qe=$t.isDefaultPrevented());const Uo=tr(new Event(k,{bubbles:se,cancelable:!0}),W);return Qe&&Uo.preventDefault(),ee&&st.dispatchEvent(Uo),Uo.defaultPrevented&&$t&&$t.preventDefault(),Uo}};function tr(st,k={}){for(const[W,ct]of Object.entries(k))try{st[W]=ct}catch{Object.defineProperty(st,W,{configurable:!0,get:()=>ct})}return st}function uo(st){if(st==="true")return!0;if(st==="false")return!1;if(st===Number(st).toString())return Number(st);if(st===""||st==="null")return null;if(typeof st!="string")return st;try{return JSON.parse(decodeURIComponent(st))}catch{return st}}function We(st){return st.replace(/[A-Z]/g,k=>`-${k.toLowerCase()}`)}const Jn={setDataAttribute(st,k,W){st.setAttribute(`data-bs-${We(k)}`,W)},removeDataAttribute(st,k){st.removeAttribute(`data-bs-${We(k)}`)},getDataAttributes(st){if(!st)return{};const k={},W=Object.keys(st.dataset).filter(ct=>ct.startsWith("bs")&&!ct.startsWith("bsConfig"));for(const ct of W){let $t=ct.replace(/^bs/,"");$t=$t.charAt(0).toLowerCase()+$t.slice(1),k[$t]=uo(st.dataset[ct])}return k},getDataAttribute:(st,k)=>uo(st.getAttribute(`data-bs-${We(k)}`))};class on{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(k){return k=this._mergeConfigObj(k),k=this._configAfterMerge(k),this._typeCheckConfig(k),k}_configAfterMerge(k){return k}_mergeConfigObj(k,W){const ct=ar(W)?Jn.getDataAttribute(W,"config"):{};return{...this.constructor.Default,...typeof ct=="object"?ct:{},...ar(W)?Jn.getDataAttributes(W):{},...typeof k=="object"?k:{}}}_typeCheckConfig(k,W=this.constructor.DefaultType){for(const[ct,$t]of Object.entries(W)){const se=k[ct],ee=ar(se)?"element":ot(se);if(!new RegExp($t).test(ee))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${ct}" provided type "${ee}" but expected type "${$t}".`)}}}class Ko extends on{constructor(k,W){super(),(k=Tn(k))&&(this._element=k,this._config=this._getConfig(W),zu.set(this._element,this.constructor.DATA_KEY,this))}dispose(){zu.remove(this._element,this.constructor.DATA_KEY),gt.off(this._element,this.constructor.EVENT_KEY);for(const k of Object.getOwnPropertyNames(this))this[k]=null}_queueCallback(k,W,ct=!0){fu(k,W,ct)}_getConfig(k){return k=this._mergeConfigObj(k,this._element),k=this._configAfterMerge(k),this._typeCheckConfig(k),k}static getInstance(k){return zu.get(Tn(k),this.DATA_KEY)}static getOrCreateInstance(k,W={}){return this.getInstance(k)||new this(k,typeof W=="object"?W:null)}static get VERSION(){return"5.3.8"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(k){return`${k}${this.EVENT_KEY}`}}const bo=st=>{let k=st.getAttribute("data-bs-target");if(!k||k==="#"){let W=st.getAttribute("href");if(!W||!W.includes("#")&&!W.startsWith("."))return null;W.includes("#")&&!W.startsWith("#")&&(W=`#${W.split("#")[1]}`),k=W&&W!=="#"?W.trim():null}return k?k.split(",").map(W=>$r(W)).join(","):null},Pe={find:(st,k=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(k,st)),findOne:(st,k=document.documentElement)=>Element.prototype.querySelector.call(k,st),children:(st,k)=>[].concat(...st.children).filter(W=>W.matches(k)),parents(st,k){const W=[];let ct=st.parentNode.closest(k);for(;ct;)W.push(ct),ct=ct.parentNode.closest(k);return W},prev(st,k){let W=st.previousElementSibling;for(;W;){if(W.matches(k))return[W];W=W.previousElementSibling}return[]},next(st,k){let W=st.nextElementSibling;for(;W;){if(W.matches(k))return[W];W=W.nextElementSibling}return[]},focusableChildren(st){const k=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(W=>`${W}:not([tabindex^="-"])`).join(",");return this.find(k,st).filter(W=>!An(W)&&Jt(W))},getSelectorFromElement(st){const k=bo(st);return k&&Pe.findOne(k)?k:null},getElementFromSelector(st){const k=bo(st);return k?Pe.findOne(k):null},getMultipleElementsFromSelector(st){const k=bo(st);return k?Pe.find(k):[]}},ja=(st,k="hide")=>{const W=`click.dismiss${st.EVENT_KEY}`,ct=st.NAME;gt.on(document,W,`[data-bs-dismiss="${ct}"]`,function($t){if(["A","AREA"].includes(this.tagName)&&$t.preventDefault(),An(this))return;const se=Pe.getElementFromSelector(this)||this.closest(`.${ct}`);st.getOrCreateInstance(se)[k]()})},Cs=".bs.alert",Ua=`close${Cs}`,vl=`closed${Cs}`;class si extends Ko{static get NAME(){return"alert"}close(){if(gt.trigger(this._element,Ua).defaultPrevented)return;this._element.classList.remove("show");const k=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,k)}_destroyElement(){this._element.remove(),gt.trigger(this._element,vl),this.dispose()}static jQueryInterface(k){return this.each(function(){const W=si.getOrCreateInstance(this);if(typeof k=="string"){if(W[k]===void 0||k.startsWith("_")||k==="constructor")throw new TypeError(`No method named "${k}"`);W[k](this)}})}}ja(si,"close"),Nn(si);const Uu='[data-bs-toggle="button"]';class eo extends Ko{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(k){return this.each(function(){const W=eo.getOrCreateInstance(this);k==="toggle"&&W[k]()})}}gt.on(document,"click.bs.button.data-api",Uu,st=>{st.preventDefault();const k=st.target.closest(Uu);eo.getOrCreateInstance(k).toggle()}),Nn(eo);const Qn=".bs.swipe",ko=`touchstart${Qn}`,yo=`touchmove${Qn}`,Nc=`touchend${Qn}`,Wu=`pointerdown${Qn}`,be=`pointerup${Qn}`,Fr={endCallback:null,leftCallback:null,rightCallback:null},no={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class _r extends on{constructor(k,W){super(),this._element=k,k&&_r.isSupported()&&(this._config=this._getConfig(W),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Fr}static get DefaultType(){return no}static get NAME(){return"swipe"}dispose(){gt.off(this._element,Qn)}_start(k){this._supportPointerEvents?this._eventIsPointerPenTouch(k)&&(this._deltaX=k.clientX):this._deltaX=k.touches[0].clientX}_end(k){this._eventIsPointerPenTouch(k)&&(this._deltaX=k.clientX-this._deltaX),this._handleSwipe(),Io(this._config.endCallback)}_move(k){this._deltaX=k.touches&&k.touches.length>1?0:k.touches[0].clientX-this._deltaX}_handleSwipe(){const k=Math.abs(this._deltaX);if(k<=40)return;const W=k/this._deltaX;this._deltaX=0,W&&Io(W>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(gt.on(this._element,Wu,k=>this._start(k)),gt.on(this._element,be,k=>this._end(k)),this._element.classList.add("pointer-event")):(gt.on(this._element,ko,k=>this._start(k)),gt.on(this._element,yo,k=>this._move(k)),gt.on(this._element,Nc,k=>this._end(k)))}_eventIsPointerPenTouch(k){return this._supportPointerEvents&&(k.pointerType==="pen"||k.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const ci=".bs.carousel",Js=".data-api",Yo="ArrowLeft",Bc="ArrowRight",Gr="next",Qi="prev",xi="left",du="right",w=`slide${ci}`,mu=`slid${ci}`,ag=`keydown${ci}`,Rd=`mouseenter${ci}`,Zn=`mouseleave${ci}`,Q=`dragstart${ci}`,mt=`load${ci}${Js}`,_t=`click${ci}${Js}`,Ot="carousel",de="active",ht=".active",ue=".carousel-item",ae=ht+ue,me={[Yo]:du,[Bc]:xi},ye={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},kt={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class le extends Ko{constructor(k,W){super(k,W),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Pe.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ot&&this.cycle()}static get Default(){return ye}static get DefaultType(){return kt}static get NAME(){return"carousel"}next(){this._slide(Gr)}nextWhenVisible(){!document.hidden&&Jt(this._element)&&this.next()}prev(){this._slide(Qi)}pause(){this._isSliding&&ne(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?gt.one(this._element,mu,()=>this.cycle()):this.cycle())}to(k){const W=this._getItems();if(k>W.length-1||k<0)return;if(this._isSliding)return void gt.one(this._element,mu,()=>this.to(k));const ct=this._getItemIndex(this._getActive());if(ct===k)return;const $t=k>ct?Gr:Qi;this._slide($t,W[k])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(k){return k.defaultInterval=k.interval,k}_addEventListeners(){this._config.keyboard&&gt.on(this._element,ag,k=>this._keydown(k)),this._config.pause==="hover"&&(gt.on(this._element,Rd,()=>this.pause()),gt.on(this._element,Zn,()=>this._maybeEnableCycle())),this._config.touch&&_r.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const W of Pe.find(".carousel-item img",this._element))gt.on(W,Q,ct=>ct.preventDefault());const k={leftCallback:()=>this._slide(this._directionToOrder(xi)),rightCallback:()=>this._slide(this._directionToOrder(du)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new _r(this._element,k)}_keydown(k){if(/input|textarea/i.test(k.target.tagName))return;const W=me[k.key];W&&(k.preventDefault(),this._slide(this._directionToOrder(W)))}_getItemIndex(k){return this._getItems().indexOf(k)}_setActiveIndicatorElement(k){if(!this._indicatorsElement)return;const W=Pe.findOne(ht,this._indicatorsElement);W.classList.remove(de),W.removeAttribute("aria-current");const ct=Pe.findOne(`[data-bs-slide-to="${k}"]`,this._indicatorsElement);ct&&(ct.classList.add(de),ct.setAttribute("aria-current","true"))}_updateInterval(){const k=this._activeElement||this._getActive();if(!k)return;const W=Number.parseInt(k.getAttribute("data-bs-interval"),10);this._config.interval=W||this._config.defaultInterval}_slide(k,W=null){if(this._isSliding)return;const ct=this._getActive(),$t=k===Gr,se=W||Je(this._getItems(),ct,$t,this._config.wrap);if(se===ct)return;const ee=this._getItemIndex(se),Qe=ua=>gt.trigger(this._element,ua,{relatedTarget:se,direction:this._orderToDirection(k),from:this._getItemIndex(ct),to:ee});if(Qe(w).defaultPrevented||!ct||!se)return;const Uo=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(ee),this._activeElement=se;const Oi=$t?"carousel-item-start":"carousel-item-end",ce=$t?"carousel-item-next":"carousel-item-prev";se.classList.add(ce),Ir(se),ct.classList.add(Oi),se.classList.add(Oi),this._queueCallback(()=>{se.classList.remove(Oi,ce),se.classList.add(de),ct.classList.remove(de,ce,Oi),this._isSliding=!1,Qe(mu)},ct,this._isAnimated()),Uo&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Pe.findOne(ae,this._element)}_getItems(){return Pe.find(ue,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(k){return vo()?k===xi?Qi:Gr:k===xi?Gr:Qi}_orderToDirection(k){return vo()?k===Qi?xi:du:k===Qi?du:xi}static jQueryInterface(k){return this.each(function(){const W=le.getOrCreateInstance(this,k);if(typeof k!="number"){if(typeof k=="string"){if(W[k]===void 0||k.startsWith("_")||k==="constructor")throw new TypeError(`No method named "${k}"`);W[k]()}}else W.to(k)})}}gt.on(document,_t,"[data-bs-slide], [data-bs-slide-to]",function(st){const k=Pe.getElementFromSelector(this);if(!k||!k.classList.contains(Ot))return;st.preventDefault();const W=le.getOrCreateInstance(k),ct=this.getAttribute("data-bs-slide-to");return ct?(W.to(ct),void W._maybeEnableCycle()):Jn.getDataAttribute(this,"slide")==="next"?(W.next(),void W._maybeEnableCycle()):(W.prev(),void W._maybeEnableCycle())}),gt.on(window,mt,()=>{const st=Pe.find('[data-bs-ride="carousel"]');for(const k of st)le.getOrCreateInstance(k)}),Nn(le);const En=".bs.collapse",$e=`show${En}`,Mn=`shown${En}`,pn=`hide${En}`,On=`hidden${En}`,Co=`click${En}.data-api`,$n="show",Be="collapse",ke="collapsing",ze=`:scope .${Be} .${Be}`,hn='[data-bs-toggle="collapse"]',qn={parent:null,toggle:!0},Gn={parent:"(null|element)",toggle:"boolean"};class Xe extends Ko{constructor(k,W){super(k,W),this._isTransitioning=!1,this._triggerArray=[];const ct=Pe.find(hn);for(const $t of ct){const se=Pe.getSelectorFromElement($t),ee=Pe.find(se).filter(Qe=>Qe===this._element);se!==null&&ee.length&&this._triggerArray.push($t)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return qn}static get DefaultType(){return Gn}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let k=[];if(this._config.parent&&(k=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter($t=>$t!==this._element).map($t=>Xe.getOrCreateInstance($t,{toggle:!1}))),k.length&&k[0]._isTransitioning||gt.trigger(this._element,$e).defaultPrevented)return;for(const $t of k)$t.hide();const W=this._getDimension();this._element.classList.remove(Be),this._element.classList.add(ke),this._element.style[W]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const ct=`scroll${W[0].toUpperCase()+W.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ke),this._element.classList.add(Be,$n),this._element.style[W]="",gt.trigger(this._element,Mn)},this._element,!0),this._element.style[W]=`${this._element[ct]}px`}hide(){if(this._isTransitioning||!this._isShown()||gt.trigger(this._element,pn).defaultPrevented)return;const k=this._getDimension();this._element.style[k]=`${this._element.getBoundingClientRect()[k]}px`,Ir(this._element),this._element.classList.add(ke),this._element.classList.remove(Be,$n);for(const W of this._triggerArray){const ct=Pe.getElementFromSelector(W);ct&&!this._isShown(ct)&&this._addAriaAndCollapsedClass([W],!1)}this._isTransitioning=!0,this._element.style[k]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(ke),this._element.classList.add(Be),gt.trigger(this._element,On)},this._element,!0)}_isShown(k=this._element){return k.classList.contains($n)}_configAfterMerge(k){return k.toggle=!!k.toggle,k.parent=Tn(k.parent),k}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const k=this._getFirstLevelChildren(hn);for(const W of k){const ct=Pe.getElementFromSelector(W);ct&&this._addAriaAndCollapsedClass([W],this._isShown(ct))}}_getFirstLevelChildren(k){const W=Pe.find(ze,this._config.parent);return Pe.find(k,this._config.parent).filter(ct=>!W.includes(ct))}_addAriaAndCollapsedClass(k,W){if(k.length)for(const ct of k)ct.classList.toggle("collapsed",!W),ct.setAttribute("aria-expanded",W)}static jQueryInterface(k){const W={};return typeof k=="string"&&/show|hide/.test(k)&&(W.toggle=!1),this.each(function(){const ct=Xe.getOrCreateInstance(this,W);if(typeof k=="string"){if(ct[k]===void 0)throw new TypeError(`No method named "${k}"`);ct[k]()}})}}gt.on(document,Co,hn,function(st){(st.target.tagName==="A"||st.delegateTarget&&st.delegateTarget.tagName==="A")&&st.preventDefault();for(const k of Pe.getMultipleElementsFromSelector(this))Xe.getOrCreateInstance(k,{toggle:!1}).toggle()}),Nn(Xe);const Eo="dropdown",Fn=".bs.dropdown",er=".data-api",wi="ArrowUp",wa="ArrowDown",Li=`hide${Fn}`,To=`hidden${Fn}`,gu=`show${Fn}`,pu=`shown${Fn}`,qe=`click${Fn}${er}`,Wa=`keydown${Fn}${er}`,so=`keyup${Fn}${er}`,fo="show",Zi='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Lo=`${Zi}.${fo}`,$a=".dropdown-menu",pf=vo()?"top-end":"top-start",Ie=vo()?"top-start":"top-end",Fo=vo()?"bottom-end":"bottom-start",Rc=vo()?"bottom-start":"bottom-end",Xr=vo()?"left-start":"right-start",Hn=vo()?"right-start":"left-start",Ci={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},vn={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Kr extends Ko{constructor(k,W){super(k,W),this._popper=null,this._parent=this._element.parentNode,this._menu=Pe.next(this._element,$a)[0]||Pe.prev(this._element,$a)[0]||Pe.findOne($a,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Ci}static get DefaultType(){return vn}static get NAME(){return Eo}toggle(){return this._isShown()?this.hide():this.show()}show(){if(An(this._element)||this._isShown())return;const k={relatedTarget:this._element};if(!gt.trigger(this._element,gu,k).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const W of[].concat(...document.body.children))gt.on(W,"mouseover",yi);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(fo),this._element.classList.add(fo),gt.trigger(this._element,pu,k)}}hide(){if(An(this._element)||!this._isShown())return;const k={relatedTarget:this._element};this._completeHide(k)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(k){if(!gt.trigger(this._element,Li,k).defaultPrevented){if("ontouchstart"in document.documentElement)for(const W of[].concat(...document.body.children))gt.off(W,"mouseover",yi);this._popper&&this._popper.destroy(),this._menu.classList.remove(fo),this._element.classList.remove(fo),this._element.setAttribute("aria-expanded","false"),Jn.removeDataAttribute(this._menu,"popper"),gt.trigger(this._element,To,k)}}_getConfig(k){if(typeof(k=super._getConfig(k)).reference=="object"&&!ar(k.reference)&&typeof k.reference.getBoundingClientRect!="function")throw new TypeError(`${Eo.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return k}_createPopper(){if(Ji===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let k=this._element;this._config.reference==="parent"?k=this._parent:ar(this._config.reference)?k=Tn(this._config.reference):typeof this._config.reference=="object"&&(k=this._config.reference);const W=this._getPopperConfig();this._popper=Ji.createPopper(k,this._menu,W)}_isShown(){return this._menu.classList.contains(fo)}_getPlacement(){const k=this._parent;if(k.classList.contains("dropend"))return Xr;if(k.classList.contains("dropstart"))return Hn;if(k.classList.contains("dropup-center"))return"top";if(k.classList.contains("dropdown-center"))return"bottom";const W=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return k.classList.contains("dropup")?W?Ie:pf:W?Rc:Fo}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:k}=this._config;return typeof k=="string"?k.split(",").map(W=>Number.parseInt(W,10)):typeof k=="function"?W=>k(W,this._element):k}_getPopperConfig(){const k={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Jn.setDataAttribute(this._menu,"popper","static"),k.modifiers=[{name:"applyStyles",enabled:!1}]),{...k,...Io(this._config.popperConfig,[void 0,k])}}_selectMenuItem({key:k,target:W}){const ct=Pe.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter($t=>Jt($t));ct.length&&Je(ct,W,k===wa,!ct.includes(W)).focus()}static jQueryInterface(k){return this.each(function(){const W=Kr.getOrCreateInstance(this,k);if(typeof k=="string"){if(W[k]===void 0)throw new TypeError(`No method named "${k}"`);W[k]()}})}static clearMenus(k){if(k.button===2||k.type==="keyup"&&k.key!=="Tab")return;const W=Pe.find(Lo);for(const ct of W){const $t=Kr.getInstance(ct);if(!$t||$t._config.autoClose===!1)continue;const se=k.composedPath(),ee=se.includes($t._menu);if(se.includes($t._element)||$t._config.autoClose==="inside"&&!ee||$t._config.autoClose==="outside"&&ee||$t._menu.contains(k.target)&&(k.type==="keyup"&&k.key==="Tab"||/input|select|option|textarea|form/i.test(k.target.tagName)))continue;const Qe={relatedTarget:$t._element};k.type==="click"&&(Qe.clickEvent=k),$t._completeHide(Qe)}}static dataApiKeydownHandler(k){const W=/input|textarea/i.test(k.target.tagName),ct=k.key==="Escape",$t=[wi,wa].includes(k.key);if(!$t&&!ct||W&&!ct)return;k.preventDefault();const se=this.matches(Zi)?this:Pe.prev(this,Zi)[0]||Pe.next(this,Zi)[0]||Pe.findOne(Zi,k.delegateTarget.parentNode),ee=Kr.getOrCreateInstance(se);if($t)return k.stopPropagation(),ee.show(),void ee._selectMenuItem(k);ee._isShown()&&(k.stopPropagation(),ee.hide(),se.focus())}}gt.on(document,Wa,Zi,Kr.dataApiKeydownHandler),gt.on(document,Wa,$a,Kr.dataApiKeydownHandler),gt.on(document,qe,Kr.clearMenus),gt.on(document,so,Kr.clearMenus),gt.on(document,qe,Zi,function(st){st.preventDefault(),Kr.getOrCreateInstance(this).toggle()}),Nn(Kr);const bl="backdrop",ur="show",Te=`mousedown.bs.${bl}`,yl={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},li={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ct extends on{constructor(k){super(),this._config=this._getConfig(k),this._isAppended=!1,this._element=null}static get Default(){return yl}static get DefaultType(){return li}static get NAME(){return bl}show(k){if(!this._config.isVisible)return void Io(k);this._append();const W=this._getElement();this._config.isAnimated&&Ir(W),W.classList.add(ur),this._emulateAnimation(()=>{Io(k)})}hide(k){this._config.isVisible?(this._getElement().classList.remove(ur),this._emulateAnimation(()=>{this.dispose(),Io(k)})):Io(k)}dispose(){this._isAppended&&(gt.off(this._element,Te),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const k=document.createElement("div");k.className=this._config.className,this._config.isAnimated&&k.classList.add("fade"),this._element=k}return this._element}_configAfterMerge(k){return k.rootElement=Tn(k.rootElement),k}_append(){if(this._isAppended)return;const k=this._getElement();this._config.rootElement.append(k),gt.on(k,Te,()=>{Io(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(k){fu(k,this._getElement(),this._config.isAnimated)}}const lt=".bs.focustrap",Ho=`focusin${lt}`,Mc=`keydown.tab${lt}`,hu="backward",hf={autofocus:!0,trapElement:null},_s={autofocus:"boolean",trapElement:"element"};class Pc extends on{constructor(k){super(),this._config=this._getConfig(k),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return hf}static get DefaultType(){return _s}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),gt.off(document,lt),gt.on(document,Ho,k=>this._handleFocusin(k)),gt.on(document,Mc,k=>this._handleKeydown(k)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,gt.off(document,lt))}_handleFocusin(k){const{trapElement:W}=this._config;if(k.target===document||k.target===W||W.contains(k.target))return;const ct=Pe.focusableChildren(W);ct.length===0?W.focus():this._lastTabNavDirection===hu?ct[ct.length-1].focus():ct[0].focus()}_handleKeydown(k){k.key==="Tab"&&(this._lastTabNavDirection=k.shiftKey?hu:"forward")}}const _i=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",$u=".sticky-top",gr="padding-right",Ic="margin-right";class vf{constructor(){this._element=document.body}getWidth(){const k=document.documentElement.clientWidth;return Math.abs(window.innerWidth-k)}hide(){const k=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,gr,W=>W+k),this._setElementAttributes(_i,gr,W=>W+k),this._setElementAttributes($u,Ic,W=>W-k)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,gr),this._resetElementAttributes(_i,gr),this._resetElementAttributes($u,Ic)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(k,W,ct){const $t=this.getWidth();this._applyManipulationCallback(k,se=>{if(se!==this._element&&window.innerWidth>se.clientWidth+$t)return;this._saveInitialAttribute(se,W);const ee=window.getComputedStyle(se).getPropertyValue(W);se.style.setProperty(W,`${ct(Number.parseFloat(ee))}px`)})}_saveInitialAttribute(k,W){const ct=k.style.getPropertyValue(W);ct&&Jn.setDataAttribute(k,W,ct)}_resetElementAttributes(k,W){this._applyManipulationCallback(k,ct=>{const $t=Jn.getDataAttribute(ct,W);$t!==null?(Jn.removeDataAttribute(ct,W),ct.style.setProperty(W,$t)):ct.style.removeProperty(W)})}_applyManipulationCallback(k,W){if(ar(k))W(k);else for(const ct of Pe.find(k,this._element))W(ct)}}const Si=".bs.modal",Md=`hide${Si}`,Ss=`hidePrevented${Si}`,Pd=`hidden${Si}`,Id=`show${Si}`,Ld=`shown${Si}`,vu=`resize${Si}`,ta=`click.dismiss${Si}`,Fi=`mousedown.dismiss${Si}`,Qs=`keydown.dismiss${Si}`,Fd=`click${Si}.data-api`,Hd="modal-open",bf="show",qu="modal-static",yf={backdrop:!0,focus:!0,keyboard:!0},ug={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ks extends Ko{constructor(k,W){super(k,W),this._dialog=Pe.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new vf,this._addEventListeners()}static get Default(){return yf}static get DefaultType(){return ug}static get NAME(){return"modal"}toggle(k){return this._isShown?this.hide():this.show(k)}show(k){this._isShown||this._isTransitioning||gt.trigger(this._element,Id,{relatedTarget:k}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Hd),this._adjustDialog(),this._backdrop.show(()=>this._showElement(k)))}hide(){this._isShown&&!this._isTransitioning&&(gt.trigger(this._element,Md).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(bf),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){gt.off(window,Si),gt.off(this._dialog,Si),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ct({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Pc({trapElement:this._element})}_showElement(k){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const W=Pe.findOne(".modal-body",this._dialog);W&&(W.scrollTop=0),Ir(this._element),this._element.classList.add(bf),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,gt.trigger(this._element,Ld,{relatedTarget:k})},this._dialog,this._isAnimated())}_addEventListeners(){gt.on(this._element,Qs,k=>{k.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),gt.on(window,vu,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),gt.on(this._element,Fi,k=>{gt.one(this._element,ta,W=>{this._element===k.target&&this._element===W.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Hd),this._resetAdjustments(),this._scrollBar.reset(),gt.trigger(this._element,Pd)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(gt.trigger(this._element,Ss).defaultPrevented)return;const k=this._element.scrollHeight>document.documentElement.clientHeight,W=this._element.style.overflowY;W==="hidden"||this._element.classList.contains(qu)||(k||(this._element.style.overflowY="hidden"),this._element.classList.add(qu),this._queueCallback(()=>{this._element.classList.remove(qu),this._queueCallback(()=>{this._element.style.overflowY=W},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const k=this._element.scrollHeight>document.documentElement.clientHeight,W=this._scrollBar.getWidth(),ct=W>0;if(ct&&!k){const $t=vo()?"paddingLeft":"paddingRight";this._element.style[$t]=`${W}px`}if(!ct&&k){const $t=vo()?"paddingRight":"paddingLeft";this._element.style[$t]=`${W}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(k,W){return this.each(function(){const ct=ks.getOrCreateInstance(this,k);if(typeof k=="string"){if(ct[k]===void 0)throw new TypeError(`No method named "${k}"`);ct[k](W)}})}}gt.on(document,Fd,'[data-bs-toggle="modal"]',function(st){const k=Pe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&st.preventDefault(),gt.one(k,Id,ct=>{ct.defaultPrevented||gt.one(k,Pd,()=>{Jt(this)&&this.focus()})});const W=Pe.findOne(".modal.show");W&&ks.getInstance(W).hide(),ks.getOrCreateInstance(k).toggle(this)}),ja(ks),Nn(ks);const Gu=".bs.offcanvas",sg=".data-api",xl=`load${Gu}${sg}`,wl="show",ea="showing",Cl="hiding",zd=".offcanvas.show",Lc=`show${Gu}`,_l=`shown${Gu}`,Ca=`hide${Gu}`,xf=`hidePrevented${Gu}`,fi=`hidden${Gu}`,Vd=`resize${Gu}`,_a=`click${Gu}${sg}`,bu=`keydown.dismiss${Gu}`,Zs={backdrop:!0,keyboard:!0,scroll:!1},ki={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Yr extends Ko{constructor(k,W){super(k,W),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Zs}static get DefaultType(){return ki}static get NAME(){return"offcanvas"}toggle(k){return this._isShown?this.hide():this.show(k)}show(k){this._isShown||gt.trigger(this._element,Lc,{relatedTarget:k}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new vf().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(ea),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(wl),this._element.classList.remove(ea),gt.trigger(this._element,_l,{relatedTarget:k})},this._element,!0))}hide(){this._isShown&&(gt.trigger(this._element,Ca).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Cl),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(wl,Cl),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new vf().reset(),gt.trigger(this._element,fi)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const k=!!this._config.backdrop;return new Ct({className:"offcanvas-backdrop",isVisible:k,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:k?()=>{this._config.backdrop!=="static"?this.hide():gt.trigger(this._element,xf)}:null})}_initializeFocusTrap(){return new Pc({trapElement:this._element})}_addEventListeners(){gt.on(this._element,bu,k=>{k.key==="Escape"&&(this._config.keyboard?this.hide():gt.trigger(this._element,xf))})}static jQueryInterface(k){return this.each(function(){const W=Yr.getOrCreateInstance(this,k);if(typeof k=="string"){if(W[k]===void 0||k.startsWith("_")||k==="constructor")throw new TypeError(`No method named "${k}"`);W[k](this)}})}}gt.on(document,_a,'[data-bs-toggle="offcanvas"]',function(st){const k=Pe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&st.preventDefault(),An(this))return;gt.one(k,fi,()=>{Jt(this)&&this.focus()});const W=Pe.findOne(zd);W&&W!==k&&Yr.getInstance(W).hide(),Yr.getOrCreateInstance(k).toggle(this)}),gt.on(window,xl,()=>{for(const st of Pe.find(zd))Yr.getOrCreateInstance(st).show()}),gt.on(window,Vd,()=>{for(const st of Pe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(st).position!=="fixed"&&Yr.getOrCreateInstance(st).hide()}),ja(Yr),Nn(Yr);const jd={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Xu=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),cg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Ku=(st,k)=>{const W=st.nodeName.toLowerCase();return k.includes(W)?!Xu.has(W)||!!cg.test(st.nodeValue):k.filter(ct=>ct instanceof RegExp).some(ct=>ct.test(W))},xo={allowList:jd,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},Ud={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},wf={entry:"(string|element|function|null)",selector:"(string|element)"};class Th extends on{constructor(k){super(),this._config=this._getConfig(k)}static get Default(){return xo}static get DefaultType(){return Ud}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(k=>this._resolvePossibleFunction(k)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(k){return this._checkContent(k),this._config.content={...this._config.content,...k},this}toHtml(){const k=document.createElement("div");k.innerHTML=this._maybeSanitize(this._config.template);for(const[$t,se]of Object.entries(this._config.content))this._setContent(k,se,$t);const W=k.children[0],ct=this._resolvePossibleFunction(this._config.extraClass);return ct&&W.classList.add(...ct.split(" ")),W}_typeCheckConfig(k){super._typeCheckConfig(k),this._checkContent(k.content)}_checkContent(k){for(const[W,ct]of Object.entries(k))super._typeCheckConfig({selector:W,entry:ct},wf)}_setContent(k,W,ct){const $t=Pe.findOne(ct,k);$t&&((W=this._resolvePossibleFunction(W))?ar(W)?this._putElementInTemplate(Tn(W),$t):this._config.html?$t.innerHTML=this._maybeSanitize(W):$t.textContent=W:$t.remove())}_maybeSanitize(k){return this._config.sanitize?(function(W,ct,$t){if(!W.length)return W;if($t&&typeof $t=="function")return $t(W);const se=new window.DOMParser().parseFromString(W,"text/html"),ee=[].concat(...se.body.querySelectorAll("*"));for(const Qe of ee){const Uo=Qe.nodeName.toLowerCase();if(!Object.keys(ct).includes(Uo)){Qe.remove();continue}const Oi=[].concat(...Qe.attributes),ce=[].concat(ct["*"]||[],ct[Uo]||[]);for(const ua of Oi)Ku(ua,ce)||Qe.removeAttribute(ua.nodeName)}return se.body.innerHTML})(k,this._config.allowList,this._config.sanitizeFn):k}_resolvePossibleFunction(k){return Io(k,[void 0,this])}_putElementInTemplate(k,W){if(this._config.html)return W.innerHTML="",void W.append(k);W.textContent=k.textContent}}const Ao=new Set(["sanitize","allowList","sanitizeFn"]),nr="fade",Cf="show",Dy=".tooltip-inner",mo=".modal",di="hide.bs.modal",na="hover",oa="focus",Jo="click",Ee={AUTO:"auto",TOP:"top",RIGHT:vo()?"left":"right",BOTTOM:"bottom",LEFT:vo()?"right":"left"},Fc={allowList:jd,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},lg={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Sa extends Ko{constructor(k,W){if(Ji===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(k,W),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Fc}static get DefaultType(){return lg}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),gt.off(this._element.closest(mo),di,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const k=gt.trigger(this._element,this.constructor.eventName("show")),W=(za(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(k.defaultPrevented||!W)return;this._disposePopper();const ct=this._getTipElement();this._element.setAttribute("aria-describedby",ct.getAttribute("id"));const{container:$t}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||($t.append(ct),gt.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(ct),ct.classList.add(Cf),"ontouchstart"in document.documentElement)for(const se of[].concat(...document.body.children))gt.on(se,"mouseover",yi);this._queueCallback(()=>{gt.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!gt.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(Cf),"ontouchstart"in document.documentElement)for(const k of[].concat(...document.body.children))gt.off(k,"mouseover",yi);this._activeTrigger[Jo]=!1,this._activeTrigger[oa]=!1,this._activeTrigger[na]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),gt.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(k){const W=this._getTemplateFactory(k).toHtml();if(!W)return null;W.classList.remove(nr,Cf),W.classList.add(`bs-${this.constructor.NAME}-auto`);const ct=($t=>{do $t+=Math.floor(1e6*Math.random());while(document.getElementById($t));return $t})(this.constructor.NAME).toString();return W.setAttribute("id",ct),this._isAnimated()&&W.classList.add(nr),W}setContent(k){this._newContent=k,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(k){return this._templateFactory?this._templateFactory.changeContent(k):this._templateFactory=new Th({...this._config,content:k,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Dy]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(k){return this.constructor.getOrCreateInstance(k.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(nr)}_isShown(){return this.tip&&this.tip.classList.contains(Cf)}_createPopper(k){const W=Io(this._config.placement,[this,k,this._element]),ct=Ee[W.toUpperCase()];return Ji.createPopper(this._element,k,this._getPopperConfig(ct))}_getOffset(){const{offset:k}=this._config;return typeof k=="string"?k.split(",").map(W=>Number.parseInt(W,10)):typeof k=="function"?W=>k(W,this._element):k}_resolvePossibleFunction(k){return Io(k,[this._element,this._element])}_getPopperConfig(k){const W={placement:k,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:ct=>{this._getTipElement().setAttribute("data-popper-placement",ct.state.placement)}}]};return{...W,...Io(this._config.popperConfig,[void 0,W])}}_setListeners(){const k=this._config.trigger.split(" ");for(const W of k)if(W==="click")gt.on(this._element,this.constructor.eventName("click"),this._config.selector,ct=>{const $t=this._initializeOnDelegatedTarget(ct);$t._activeTrigger[Jo]=!($t._isShown()&&$t._activeTrigger[Jo]),$t.toggle()});else if(W!=="manual"){const ct=W===na?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),$t=W===na?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");gt.on(this._element,ct,this._config.selector,se=>{const ee=this._initializeOnDelegatedTarget(se);ee._activeTrigger[se.type==="focusin"?oa:na]=!0,ee._enter()}),gt.on(this._element,$t,this._config.selector,se=>{const ee=this._initializeOnDelegatedTarget(se);ee._activeTrigger[se.type==="focusout"?oa:na]=ee._element.contains(se.relatedTarget),ee._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},gt.on(this._element.closest(mo),di,this._hideModalHandler)}_fixTitle(){const k=this._element.getAttribute("title");k&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",k),this._element.setAttribute("data-bs-original-title",k),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(k,W){clearTimeout(this._timeout),this._timeout=setTimeout(k,W)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(k){const W=Jn.getDataAttributes(this._element);for(const ct of Object.keys(W))Ao.has(ct)&&delete W[ct];return k={...W,...typeof k=="object"&&k?k:{}},k=this._mergeConfigObj(k),k=this._configAfterMerge(k),this._typeCheckConfig(k),k}_configAfterMerge(k){return k.container=k.container===!1?document.body:Tn(k.container),typeof k.delay=="number"&&(k.delay={show:k.delay,hide:k.delay}),typeof k.title=="number"&&(k.title=k.title.toString()),typeof k.content=="number"&&(k.content=k.content.toString()),k}_getDelegateConfig(){const k={};for(const[W,ct]of Object.entries(this._config))this.constructor.Default[W]!==ct&&(k[W]=ct);return k.selector=!1,k.trigger="manual",k}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(k){return this.each(function(){const W=Sa.getOrCreateInstance(this,k);if(typeof k=="string"){if(W[k]===void 0)throw new TypeError(`No method named "${k}"`);W[k]()}})}}Nn(Sa);const Wd=".popover-header",Ae=".popover-body",$d={...Sa.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},oe={...Sa.DefaultType,content:"(null|string|element|function)"};class Es extends Sa{static get Default(){return $d}static get DefaultType(){return oe}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Wd]:this._getTitle(),[Ae]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(k){return this.each(function(){const W=Es.getOrCreateInstance(this,k);if(typeof k=="string"){if(W[k]===void 0)throw new TypeError(`No method named "${k}"`);W[k]()}})}}Nn(Es);const tc=".bs.scrollspy",_f=`activate${tc}`,Do=`click${tc}`,fg=`load${tc}.data-api`,Hr="active",Un="[href]",Sl=".nav-link",qa=`${Sl}, .nav-item > ${Sl}, .list-group-item`,dg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},ra={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class ka extends Ko{constructor(k,W){super(k,W),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return dg}static get DefaultType(){return ra}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const k of this._observableSections.values())this._observer.observe(k)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(k){return k.target=Tn(k.target)||document.body,k.rootMargin=k.offset?`${k.offset}px 0px -30%`:k.rootMargin,typeof k.threshold=="string"&&(k.threshold=k.threshold.split(",").map(W=>Number.parseFloat(W))),k}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(gt.off(this._config.target,Do),gt.on(this._config.target,Do,Un,k=>{const W=this._observableSections.get(k.target.hash);if(W){k.preventDefault();const ct=this._rootElement||window,$t=W.offsetTop-this._element.offsetTop;if(ct.scrollTo)return void ct.scrollTo({top:$t,behavior:"smooth"});ct.scrollTop=$t}}))}_getNewObserver(){const k={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(W=>this._observerCallback(W),k)}_observerCallback(k){const W=ee=>this._targetLinks.get(`#${ee.target.id}`),ct=ee=>{this._previousScrollData.visibleEntryTop=ee.target.offsetTop,this._process(W(ee))},$t=(this._rootElement||document.documentElement).scrollTop,se=$t>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=$t;for(const ee of k){if(!ee.isIntersecting){this._activeTarget=null,this._clearActiveClass(W(ee));continue}const Qe=ee.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(se&&Qe){if(ct(ee),!$t)return}else se||Qe||ct(ee)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const k=Pe.find(Un,this._config.target);for(const W of k){if(!W.hash||An(W))continue;const ct=Pe.findOne(decodeURI(W.hash),this._element);Jt(ct)&&(this._targetLinks.set(decodeURI(W.hash),W),this._observableSections.set(W.hash,ct))}}_process(k){this._activeTarget!==k&&(this._clearActiveClass(this._config.target),this._activeTarget=k,k.classList.add(Hr),this._activateParents(k),gt.trigger(this._element,_f,{relatedTarget:k}))}_activateParents(k){if(k.classList.contains("dropdown-item"))Pe.findOne(".dropdown-toggle",k.closest(".dropdown")).classList.add(Hr);else for(const W of Pe.parents(k,".nav, .list-group"))for(const ct of Pe.prev(W,qa))ct.classList.add(Hr)}_clearActiveClass(k){k.classList.remove(Hr);const W=Pe.find(`${Un}.${Hr}`,k);for(const ct of W)ct.classList.remove(Hr)}static jQueryInterface(k){return this.each(function(){const W=ka.getOrCreateInstance(this,k);if(typeof k=="string"){if(W[k]===void 0||k.startsWith("_")||k==="constructor")throw new TypeError(`No method named "${k}"`);W[k]()}})}}gt.on(window,fg,()=>{for(const st of Pe.find('[data-bs-spy="scroll"]'))ka.getOrCreateInstance(st)}),Nn(ka);const Yu=".bs.tab",qd=`hide${Yu}`,Sf=`hidden${Yu}`,Ga=`show${Yu}`,mg=`shown${Yu}`,go=`click${Yu}`,Ju=`keydown${Yu}`,Sr=`load${Yu}`,Jr="ArrowLeft",Hc="ArrowRight",Bt="ArrowUp",mi="ArrowDown",_e="Home",Os="End",zo="active",Xa="fade",zc="show",Ei=".dropdown-toggle",bn=`:not(${Ei})`,Qu='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',kf=`.nav-link${bn}, .list-group-item${bn}, [role="tab"]${bn}, ${Qu}`,Xn=`.${zo}[data-bs-toggle="tab"], .${zo}[data-bs-toggle="pill"], .${zo}[data-bs-toggle="list"]`;class Ea extends Ko{constructor(k){super(k),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),gt.on(this._element,Ju,W=>this._keydown(W)))}static get NAME(){return"tab"}show(){const k=this._element;if(this._elemIsActive(k))return;const W=this._getActiveElem(),ct=W?gt.trigger(W,qd,{relatedTarget:k}):null;gt.trigger(k,Ga,{relatedTarget:W}).defaultPrevented||ct&&ct.defaultPrevented||(this._deactivate(W,k),this._activate(k,W))}_activate(k,W){k&&(k.classList.add(zo),this._activate(Pe.getElementFromSelector(k)),this._queueCallback(()=>{k.getAttribute("role")==="tab"?(k.removeAttribute("tabindex"),k.setAttribute("aria-selected",!0),this._toggleDropDown(k,!0),gt.trigger(k,mg,{relatedTarget:W})):k.classList.add(zc)},k,k.classList.contains(Xa)))}_deactivate(k,W){k&&(k.classList.remove(zo),k.blur(),this._deactivate(Pe.getElementFromSelector(k)),this._queueCallback(()=>{k.getAttribute("role")==="tab"?(k.setAttribute("aria-selected",!1),k.setAttribute("tabindex","-1"),this._toggleDropDown(k,!1),gt.trigger(k,Sf,{relatedTarget:W})):k.classList.remove(zc)},k,k.classList.contains(Xa)))}_keydown(k){if(![Jr,Hc,Bt,mi,_e,Os].includes(k.key))return;k.stopPropagation(),k.preventDefault();const W=this._getChildren().filter($t=>!An($t));let ct;if([_e,Os].includes(k.key))ct=W[k.key===_e?0:W.length-1];else{const $t=[Hc,mi].includes(k.key);ct=Je(W,k.target,$t,!0)}ct&&(ct.focus({preventScroll:!0}),Ea.getOrCreateInstance(ct).show())}_getChildren(){return Pe.find(kf,this._parent)}_getActiveElem(){return this._getChildren().find(k=>this._elemIsActive(k))||null}_setInitialAttributes(k,W){this._setAttributeIfNotExists(k,"role","tablist");for(const ct of W)this._setInitialAttributesOnChild(ct)}_setInitialAttributesOnChild(k){k=this._getInnerElement(k);const W=this._elemIsActive(k),ct=this._getOuterElement(k);k.setAttribute("aria-selected",W),ct!==k&&this._setAttributeIfNotExists(ct,"role","presentation"),W||k.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(k,"role","tab"),this._setInitialAttributesOnTargetPanel(k)}_setInitialAttributesOnTargetPanel(k){const W=Pe.getElementFromSelector(k);W&&(this._setAttributeIfNotExists(W,"role","tabpanel"),k.id&&this._setAttributeIfNotExists(W,"aria-labelledby",`${k.id}`))}_toggleDropDown(k,W){const ct=this._getOuterElement(k);if(!ct.classList.contains("dropdown"))return;const $t=(se,ee)=>{const Qe=Pe.findOne(se,ct);Qe&&Qe.classList.toggle(ee,W)};$t(Ei,zo),$t(".dropdown-menu",zc),ct.setAttribute("aria-expanded",W)}_setAttributeIfNotExists(k,W,ct){k.hasAttribute(W)||k.setAttribute(W,ct)}_elemIsActive(k){return k.classList.contains(zo)}_getInnerElement(k){return k.matches(kf)?k:Pe.findOne(kf,k)}_getOuterElement(k){return k.closest(".nav-item, .list-group-item")||k}static jQueryInterface(k){return this.each(function(){const W=Ea.getOrCreateInstance(this);if(typeof k=="string"){if(W[k]===void 0||k.startsWith("_")||k==="constructor")throw new TypeError(`No method named "${k}"`);W[k]()}})}}gt.on(document,go,Qu,function(st){["A","AREA"].includes(this.tagName)&&st.preventDefault(),An(this)||Ea.getOrCreateInstance(this).show()}),gt.on(window,Sr,()=>{for(const st of Pe.find(Xn))Ea.getOrCreateInstance(st)}),Nn(Ea);const yu=".bs.toast",ia=`mouseover${yu}`,rt=`mouseout${yu}`,wo=`focusin${yu}`,Gd=`focusout${yu}`,Vo=`hide${yu}`,aa=`hidden${yu}`,po=`show${yu}`,co=`shown${yu}`,Zu="hide",xu="show",ge="showing",jo={animation:"boolean",autohide:"boolean",delay:"number"},Ah={animation:!0,autohide:!0,delay:5e3};class Oa extends Ko{constructor(k,W){super(k,W),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Ah}static get DefaultType(){return jo}static get NAME(){return"toast"}show(){gt.trigger(this._element,po).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Zu),Ir(this._element),this._element.classList.add(xu,ge),this._queueCallback(()=>{this._element.classList.remove(ge),gt.trigger(this._element,co),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(gt.trigger(this._element,Vo).defaultPrevented||(this._element.classList.add(ge),this._queueCallback(()=>{this._element.classList.add(Zu),this._element.classList.remove(ge,xu),gt.trigger(this._element,aa)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(xu),super.dispose()}isShown(){return this._element.classList.contains(xu)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(k,W){switch(k.type){case"mouseover":case"mouseout":this._hasMouseInteraction=W;break;case"focusin":case"focusout":this._hasKeyboardInteraction=W}if(W)return void this._clearTimeout();const ct=k.relatedTarget;this._element===ct||this._element.contains(ct)||this._maybeScheduleHide()}_setListeners(){gt.on(this._element,ia,k=>this._onInteraction(k,!0)),gt.on(this._element,rt,k=>this._onInteraction(k,!1)),gt.on(this._element,wo,k=>this._onInteraction(k,!0)),gt.on(this._element,Gd,k=>this._onInteraction(k,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(k){return this.each(function(){const W=Oa.getOrCreateInstance(this,k);if(typeof k=="string"){if(W[k]===void 0)throw new TypeError(`No method named "${k}"`);W[k](this)}})}}return ja(Oa),Nn(Oa),{Alert:si,Button:eo,Carousel:le,Collapse:Xe,Dropdown:Kr,Modal:ks,Offcanvas:Yr,Popover:Es,ScrollSpy:ka,Tab:Ea,Toast:Oa,Tooltip:Sa}}),(function(){"use strict";function So(t){if(t===null)return"null";if(t===void 0)return"undefined";var n=typeof t;return n=="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":n=="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":n}function Oo(t){return yi(function(n,r){if(n.length!==r.length)return!1;for(var a=n.length,s=0;s<a;s++)if(!t.eq(n[s],r[s]))return!1;return!0})}function Ji(t){return yi(function(n,r){var a,s,l,d=Object.keys(n),m=Object.keys(r);if(s=Oo(Ir),l=function(y){return _=a,Array.prototype.slice.call(y).sort(_);var _},!yi(function(y,_){return s.eq(l(y),l(_))}).eq(d,m))return!1;for(var h=d.length,p=0;p<h;p++){var x=d[p];if(!t.eq(n[x],r[x]))return!1}return!0})}function Po(t){return function(n){return a=typeof(r=n),(r===null?"null":a=="object"&&(Array.prototype.isPrototypeOf(r)||r.constructor&&r.constructor.name==="Array")?"array":a=="object"&&(String.prototype.isPrototypeOf(r)||r.constructor&&r.constructor.name==="String")?"string":a)===t;var r,a}}function zu(t){return function(n){return typeof n===t}}function Xt(t){return function(n){return t===n}}function $r(t){return t==null}function ot(t){return!$r(t)}function ne(){}function ar(t,n){return function(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];return t(n.apply(null,r))}}function Tn(t,n){return function(r){return t(n(r))}}function Jt(t){return function(){return t}}function An(t){return t}function za(t,n){return t===n}var yi=function(t){return{eq:t}},Ir=yi(function(t,n){return t===n}),qr=yi(function(t,n){if(t===n)return!0;var r=So(t);return r===So(n)&&(["undefined","boolean","number","string","function","xml","null"].indexOf(r)!==-1?t===n:r==="array"?Oo(qr).eq(t,n):r==="object"&&Ji(qr).eq(t,n))}),Dn=Po("string"),vo=Po("object"),Nn=Po("array"),Io=Xt(null),fu=zu("boolean"),Je=Xt(void 0),nn=zu("function"),Va=zu("number");function q(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var l=n.concat(a);return t.apply(null,l)}}function dr(t){return function(n){return!t(n)}}function Ge(t){return t()}function Lr(t){t()}function Vu(){return mr}var Ln=Jt(!1),lo=Jt(!0),mr={fold:function(t,n){return t()},isSome:Ln,isNone:lo,getOr:An,getOrThunk:Dc,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:Jt(null),getOrUndefined:Jt(void 0),or:An,orThunk:Dc,map:Vu,each:ne,bind:Vu,exists:Ln,forall:lo,filter:function(){return mr},toArray:function(){return[]},toString:Jt("none()")};function Dc(t){return t()}function ju(t,n){return ag.call(t,n)}function Vt(t,n){return-1<ju(t,n)}function Cr(t,n){for(var r=0,a=t.length;r<a;r++)if(n(t[r],r))return!0;return!1}function Ne(t,n){for(var r=t.length,a=new Array(r),s=0;s<r;s++){var l=t[s];a[s]=n(l,s)}return a}function gt(t,n){for(var r=0,a=t.length;r<a;r++)n(t[r],r)}function tr(t,n){for(var r=t.length-1;0<=r;r--)n(t[r],r)}function uo(t,n){for(var r=[],a=[],s=0,l=t.length;s<l;s++){var d=t[s];(n(d,s)?r:a).push(d)}return{pass:r,fail:a}}function We(t,n){for(var r=[],a=0,s=t.length;a<s;a++){var l=t[a];n(l,a)&&r.push(l)}return r}function Jn(t,n,r){return tr(t,function(a,s){r=n(r,a,s)}),r}function on(t,n,r){return gt(t,function(a,s){r=n(r,a,s)}),r}function Ko(t,n,r){for(var a=0,s=t.length;a<s;a++){var l=t[a];if(n(l,a))return w.some(l);if(r(l,a))break}return w.none()}function bo(t,n){return Ko(t,n,Ln)}function Pe(t,n){for(var r=0,a=t.length;r<a;r++)if(n(t[r],r))return w.some(r);return w.none()}function ja(t,n){return(function(r){for(var a=[],s=0,l=r.length;s<l;++s){if(!Nn(r[s]))throw new Error("Arr.flatten item "+s+" was not an array, input: "+r);Rd.apply(a,r[s])}return a})(Ne(t,n))}function Cs(t,n){for(var r=0,a=t.length;r<a;++r)if(n(t[r],r)!==!0)return!1;return!0}function Ua(t){var n=mu.call(t,0);return n.reverse(),n}function vl(t,n){return We(t,function(r){return!Vt(n,r)})}function si(t,n){var r=mu.call(t,0);return r.sort(n),r}function Uu(t,n){return 0<=n&&n<t.length?w.some(t[n]):w.none()}function eo(t){return Uu(t,0)}function Qn(t){return Uu(t,t.length-1)}function ko(t,n){for(var r=0;r<t.length;r++){var a=n(t[r],r);if(a.isSome())return a}return w.none()}function yo(t,n){for(var r=Q(t),a=0,s=r.length;a<s;a++){var l=r[a];n(t[l],l)}}function Nc(t,n){return _t(t,function(r,a){return{k:a,v:n(r,a)}})}function Wu(t){return function(n,r){t[r]=n}}function be(t,n,r,a){return yo(t,function(s,l){(n(s,l)?r:a)(s,l)}),1}function Fr(t,n){var r={};return be(t,n,Wu(r),ne),r}function no(t,n){return Ot(t,n)?w.from(t[n]):w.none()}function _r(t,n){return Ot(t,n)&&t[n]!==void 0&&t[n]!==null}function ci(t,n,r){var a,s;if(!t)return!1;if(r=r||t,t.length!==void 0){for(a=0,s=t.length;a<s;a++)if(n.call(r,t[a],a,t)===!1)return!1}else for(a in t)if(Ot(t,a)&&n.call(r,t[a],a,t)===!1)return!1;return!0}function Js(t,n){var r=[];return ci(t,function(a,s){r.push(n(a,s,t))}),r}function Yo(t,n){var r=[];return ci(t,function(a,s){n&&!n(a,s,t)||r.push(a)}),r}function Bc(t,n){if(t){for(var r=0,a=t.length;r<a;r++)if(t[r]===n)return r}return-1}function Gr(t,n,r,a){for(var s=Je(r)?t[0]:r,l=0;l<t.length;l++)s=n.call(a,s,t[l],l);return s}function Qi(t,n,r){for(var a=0,s=t.length;a<s;a++)if(n.call(r,t[a],a,t))return a;return-1}function xi(t){return t[t.length-1]}var du=function(t){function n(){return s}function r(l){return l(t)}var a=Jt(t),s={fold:function(l,d){return d(t)},isSome:lo,isNone:Ln,getOr:a,getOrThunk:a,getOrDie:a,getOrNull:a,getOrUndefined:a,or:n,orThunk:n,map:function(l){return du(l(t))},each:function(l){l(t)},bind:r,exists:r,forall:r,filter:function(l){return l(t)?s:mr},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return s},w={some:du,none:Vu,from:function(t){return t==null?mr:du(t)}},mu=Array.prototype.slice,ag=Array.prototype.indexOf,Rd=Array.prototype.push,Zn=nn(Array.from)?Array.from:function(t){return mu.call(t)},Q=Object.keys,mt=Object.hasOwnProperty,_t=function(t,n){var r={};return yo(t,function(a,s){var l=n(a,s);r[l.k]=l.v}),r},Ot=function(t,n){return mt.call(t,n)},de=Array.isArray,ht=function(){return(ht=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++)for(var s in n=arguments[r])Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s]);return t}).apply(this,arguments)};function ue(t,n,r){if(r||arguments.length===2)for(var a,s=0,l=n.length;s<l;s++)!a&&s in n||((a=a||Array.prototype.slice.call(n,0,s))[s]=n[s]);return t.concat(a||Array.prototype.slice.call(n))}function ae(t){var n,r=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return r||(r=!0,n=t.apply(null,a)),n}}function me(t,n){var r=String(n).toLowerCase();return bo(t,function(a){return a.search(r)})}function ye(t,n){return t.indexOf(n)!==-1}function kt(t){return function(n){return n.replace(t,"")}}function le(t){return 0<t.length}function En(t){return!le(t)}function $e(t){return function(n){return ye(n,t)}}function Mn(t){return window.matchMedia(t).matches}function pn(t){return t==null?"":(""+t).replace(yl,"")}function On(t,n){return n?!(n!=="array"||!de(t))||typeof t===n:t!==void 0}function Co(t,n){for(var r=[],a=function(l){return r.push(l),n(l)},s=n(t);(s=s.bind(a)).isSome(););return r}function $n(t,n){var r=t.dom;if(r.nodeType!==1)return!1;var a=r;if(a.matches!==void 0)return a.matches(n);if(a.msMatchesSelector!==void 0)return a.msMatchesSelector(n);if(a.webkitMatchesSelector!==void 0)return a.webkitMatchesSelector(n);if(a.mozMatchesSelector!==void 0)return a.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")}function Be(t){return t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11||t.childElementCount===0}function ke(t,n){return t.dom===n.dom}function ze(t,n){return Fo().browser.isIE()?(r=t.dom,a=n.dom,s=Node.DOCUMENT_POSITION_CONTAINED_BY,(r.compareDocumentPosition(a)&s)!=0):(l=t.dom)!==(d=n.dom)&&l.contains(d);var r,a,s,l,d}function hn(){return Eo(0,0)}function qn(t){function n(s){return function(){return r===s}}var r=t.current,a=t.version;return{current:r,version:a,isEdge:n("Edge"),isChrome:n("Chrome"),isIE:n("IE"),isOpera:n("Opera"),isFirefox:n(pu),isSafari:n("Safari")}}function Gn(t){function n(s){return function(){return r===s}}var r=t.current,a=t.version;return{current:r,version:a,isWindows:n(so),isiOS:n("iOS"),isAndroid:n(fo),isOSX:n("OSX"),isLinux:n("Linux"),isSolaris:n(Zi),isFreeBSD:n(Lo),isChromeOS:n($a)}}function Xe(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}}var Eo=function(t,n){return{major:t,minor:n}},Fn={nu:Eo,detect:function(t,n){var r,a,s=String(n).toLowerCase();return t.length===0?hn():(a=(function(d,m){for(var h=0;h<d.length;h++){var p=d[h];if(p.test(m))return p}})(t,r=s))?Eo(l(1),l(2)):{major:0,minor:0};function l(d){return Number(r.replace(a,"$"+d))}},unknown:hn},er=function(t,n){return(r=n)===""||t.length>=r.length&&t.substr(0,0+r.length)===r;var r},wi=kt(/^\s+|\s+$/g),wa=kt(/^\s+/g),Li=kt(/\s+$/g),To=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,gu={browsers:Jt([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return ye(t,"edge/")&&ye(t,"chrome")&&ye(t,"safari")&&ye(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,To],search:function(t){return ye(t,"chrome")&&!ye(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return ye(t,"msie")||ye(t,"trident")}},{name:"Opera",versionRegexes:[To,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:$e("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:$e("firefox")},{name:"Safari",versionRegexes:[To,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(ye(t,"safari")||ye(t,"mobile/"))&&ye(t,"applewebkit")}}]),oses:Jt([{name:"Windows",search:$e("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return ye(t,"iphone")||ye(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:$e("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:$e("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:$e("linux"),versionRegexes:[]},{name:"Solaris",search:$e("sunos"),versionRegexes:[]},{name:"FreeBSD",search:$e("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:$e("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},pu="Firefox",qe=function(){return qn({current:void 0,version:Fn.unknown()})},Wa=qn,so=(Jt("Edge"),Jt("Chrome"),Jt("IE"),Jt("Opera"),Jt(pu),Jt("Safari"),"Windows"),fo="Android",Zi="Solaris",Lo="FreeBSD",$a="ChromeOS",pf=function(){return Gn({current:void 0,version:Fn.unknown()})},Ie=Gn,Fo=(Jt(so),Jt("iOS"),Jt(fo),Jt("Linux"),Jt("OSX"),Jt(Zi),Jt(Lo),Jt($a),ae(function(){return t=navigator.userAgent,n=w.from(navigator.userAgentData),r=Mn,A=gu.browsers(),B=gu.oses(),N=n.bind(function(H){return G=A,ko(H.brands,function(Z){var V=Z.brand.toLowerCase();return bo(G,function($){var X;return V===((X=$.brand)===null||X===void 0?void 0:X.toLowerCase())}).map(function($){return{current:$.name,version:Fn.nu(parseInt(Z.version,10),0)}})});var G}).orThunk(function(){return me(A,H=t).map(function(G){var Z=Fn.detect(G.versionRegexes,H);return{current:G.name,version:Z}});var H}).fold(qe,Wa),P=me(B,a=t).map(function(H){var G=Fn.detect(H.versionRegexes,a);return{current:H.name,version:G}}).fold(pf,Ie),{browser:N,os:P,deviceType:(l=N,d=t,m=r,h=(s=P).isiOS()&&/ipad/i.test(d)===!0,p=s.isiOS()&&!h,y=(x=s.isiOS()||s.isAndroid())||m("(pointer:coarse)"),_=h||!p&&x&&m("(min-device-width:768px)"),E=p||x&&!_,T=l.isSafari()&&s.isiOS()&&/safari/i.test(d)===!1,{isiPad:Jt(h),isiPhone:Jt(p),isTablet:Jt(_),isPhone:Jt(E),isTouch:Jt(y),isAndroid:s.isAndroid,isiOS:s.isiOS,isWebView:Jt(T),isDesktop:Jt(!E&&!_&&!T)})};var t,n,r,a,s,l,d,m,h,p,x,y,_,E,T,A,B,N,P})),Rc=navigator.userAgent,Xr=Fo(),Hn=Xr.browser,Ci=Xr.os,vn=Xr.deviceType,Kr=/WebKit/.test(Rc)&&!Hn.isEdge(),bl="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,ur=Rc.indexOf("Windows Phone")!==-1,Te={opera:Hn.isOpera(),webkit:Kr,ie:!(!Hn.isIE()&&!Hn.isEdge())&&Hn.version.major,gecko:Hn.isFirefox(),mac:Ci.isOSX()||Ci.isiOS(),iOS:vn.isiPad()||vn.isiPhone(),android:Ci.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Hn.isIE()?document.documentMode||7:10,fileApi:bl,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Hn.isIE(),desktop:vn.isDesktop(),windowsPhone:ur,browser:{current:Hn.current,version:Hn.version,isChrome:Hn.isChrome,isEdge:Hn.isEdge,isFirefox:Hn.isFirefox,isIE:Hn.isIE,isOpera:Hn.isOpera,isSafari:Hn.isSafari},os:{current:Ci.current,version:Ci.version,isAndroid:Ci.isAndroid,isChromeOS:Ci.isChromeOS,isFreeBSD:Ci.isFreeBSD,isiOS:Ci.isiOS,isLinux:Ci.isLinux,isOSX:Ci.isOSX,isSolaris:Ci.isSolaris,isWindows:Ci.isWindows},deviceType:{isDesktop:vn.isDesktop,isiPad:vn.isiPad,isiPhone:vn.isiPhone,isPhone:vn.isPhone,isTablet:vn.isTablet,isTouch:vn.isTouch,isWebView:vn.isWebView}},yl=/^\s*|\s*$/g,li=function(t,n,r,a){a=a||this,t&&ci(t=r?t[r]:t,function(s,l){return n.call(a,s,l,r)!==!1&&void li(s,n,r,a)})},Ct={trim:pn,isArray:de,is:On,toArray:function(t){if(de(t))return t;for(var n=[],r=0,a=t.length;r<a;r++)n[r]=t[r];return n},makeMap:function(t,n,r){var a;for(n=n||",",r=r||{},a=(t=typeof(t=t||[])=="string"?t.split(n):t).length;a--;)r[t[a]]={};return r},each:ci,map:Js,grep:Yo,inArray:Bc,hasOwn:Ot,extend:function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];for(var a=0;a<n.length;a++){var s,l,d=n[a];for(s in d)!Ot(d,s)||(l=d[s])!==void 0&&(t[s]=l)}return t},create:function(t,n,r){var a,s,l,d=this,m=0,h=(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t))[3].match(/(^|\.)(\w+)$/i)[2],p=d.createNS(t[3].replace(/\.\w+$/,""),r);if(!p[h]){if(t[2]==="static")return p[h]=n,void(this.onCreate&&this.onCreate(t[2],t[3],p[h]));n[h]||(n[h]=function(){},m=1),p[h]=n[h],d.extend(p[h].prototype,n),t[5]&&(a=d.resolve(t[5]).prototype,s=t[5].match(/\.(\w+)$/i)[1],l=p[h],p[h]=m?function(){return a[s].apply(this,arguments)}:function(){return this.parent=a[s],l.apply(this,arguments)},p[h].prototype[h]=p[h],d.each(a,function(x,y){p[h].prototype[y]=a[y]}),d.each(n,function(x,y){a[y]?p[h].prototype[y]=function(){return this.parent=a[y],x.apply(this,arguments)}:y!==h&&(p[h].prototype[y]=x)})),d.each(n.static,function(x,y){p[h][y]=x})}},walk:li,createNS:function(t,n){var r,a;for(n=n||window,t=t.split("."),r=0;r<t.length;r++)n[a=t[r]]||(n[a]={}),n=n[a];return n},resolve:function(t,n){var r,a;for(n=n||window,r=0,a=(t=t.split(".")).length;r<a&&(n=n[t[r]]);r++);return n},explode:function(t,n){return!t||On(t,"array")?t:Js(t.split(n||","),pn)},_addCacheSuffix:function(t){var n=Te.cacheSuffix;return n&&(t+=(t.indexOf("?")===-1?"?":"&")+n),t}},lt={fromHtml:function(t,n){var r=(n||document).createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||1<r.childNodes.length)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Xe(r.childNodes[0])},fromTag:function(t,n){var r=(n||document).createElement(t);return Xe(r)},fromText:function(t,n){var r=(n||document).createTextNode(t);return Xe(r)},fromDom:Xe,fromPoint:function(t,n,r){return w.from(t.dom.elementFromPoint(n,r)).map(Xe)}};function Ho(t){return t.dom.nodeName.toLowerCase()}function Mc(t){return t.dom.nodeType}function hu(t){return function(n){return Mc(n)===t}}function hf(t){return lt.fromDom(t.dom.ownerDocument)}function _s(t){return Cf(t)?t:hf(t)}function Pc(t){return lt.fromDom(_s(t).dom.defaultView)}function _i(t){return w.from(t.dom.parentNode).map(lt.fromDom)}function $u(t){return w.from(t.dom.previousSibling).map(lt.fromDom)}function gr(t){return w.from(t.dom.nextSibling).map(lt.fromDom)}function Ic(t){return Ua(Co(t,$u))}function vf(t){return Co(t,gr)}function Si(t,n){var r=t.dom.childNodes;return w.from(r[n]).map(lt.fromDom)}function Md(t){return Si(t,0)}function Ss(t){return Si(t,t.dom.childNodes.length-1)}function Pd(t){return t.dom.childNodes.length}function Id(t){return Dy(t)&&ot(t.dom.host)}function Ld(t){return Id(t)?t:(function(){var n=_s(t).dom.head;if(n==null)throw new Error("Head is not available yet");return lt.fromDom(n)})()}function vu(t){return lt.fromDom(t.dom.host)}function ta(t,n){_i(t).each(function(r){r.dom.insertBefore(n.dom,t.dom)})}function Fi(t,n){gr(t).fold(function(){_i(t).each(function(r){Jo(r,n)})},function(r){ta(r,n)})}function Qs(t,n){Md(t).fold(function(){Jo(t,n)},function(r){t.dom.insertBefore(n.dom,r.dom)})}function Fd(t,n){gt(n,function(r){Jo(t,r)})}function Hd(t){t.dom.textContent="",gt(mo(t),function(n){Ee(n)})}function bf(t){var n,r=mo(t);0<r.length&&(n=t,gt(r,function(a){ta(n,a)})),Ee(t)}function qu(t,n){return t!==void 0?t:n!==void 0?n:0}function yf(t){var n=t!==void 0?t.dom:document,r=n.body.scrollLeft||n.documentElement.scrollLeft,a=n.body.scrollTop||n.documentElement.scrollTop;return Sa(r,a)}function ug(t,n,r){var a=(r!==void 0?r.dom:document).defaultView;a&&a.scrollTo(t,n)}function ks(t,n){Fo().browser.isSafari()&&nn(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(n)}function Gu(t,n,r,a){return{x:t,y:n,width:r,height:a,right:t+r,bottom:n+a}}function sg(t){var n=t===void 0?window:t,r=n.document,a=yf(lt.fromDom(r)),s=n===void 0?window:n;return(Fo().browser.isFirefox()?w.none():w.from(s.visualViewport)).fold(function(){var l=n.document.documentElement,d=l.clientWidth,m=l.clientHeight;return Gu(a.left,a.top,d,m)},function(l){return Gu(Math.max(l.pageLeft,a.left),Math.max(l.pageTop,a.top),l.width,l.height)})}function xl(t){return function(n){return!!n&&n.nodeType===t}}function wl(t){return t&&!Object.getPrototypeOf(t)}function ea(t){var n=t.map(function(r){return r.toLowerCase()});return function(r){if(r&&r.nodeName){var a=r.nodeName.toLowerCase();return Vt(n,a)}return!1}}function Cl(t,n){var r=n.toLowerCase().split(" ");return function(a){if(Ae(a))for(var s=0;s<r.length;s++){var l=a.ownerDocument.defaultView.getComputedStyle(a,null);if((l?l.getPropertyValue(t):null)===r[s])return!0}return!1}}function zd(t){return function(n){return Ae(n)&&n.hasAttribute(t)}}function Lc(t){return Ae(t)&&t.hasAttribute("data-mce-bogus")}function _l(t){return Ae(t)&&t.tagName==="TABLE"}function Ca(t){return function(n){return!!(Ae(n)&&(n.contentEditable===t||n.getAttribute("data-mce-contenteditable")===t))}}function xf(t,n,r){return r===void 0&&(r=za),t.exists(function(a){return r(a,n)})}function fi(t,n,r){return t.isSome()&&n.isSome()?w.some(r(t.getOrDie(),n.getOrDie())):w.none()}function Vd(t){return t.style!==void 0&&nn(t.style.getPropertyValue)}function _a(t,n,r){if(!(Dn(r)||fu(r)||Va(r)))throw console.error("Invalid call to Attribute.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")}function bu(t,n,r){_a(t.dom,n,r)}function Zs(t,n){var r=t.dom;yo(n,function(a,s){_a(r,s,a)})}function ki(t,n){var r=t.dom.getAttribute(n);return r===null?void 0:r}function Yr(t,n){return w.from(ki(t,n))}function jd(t,n){var r=t.dom;return r&&r.hasAttribute&&r.hasAttribute(n)}function Xu(t,n){t.dom.removeAttribute(n)}function cg(t,n){var r=t.dom;yo(n,function(a,s){(function(l,d,m){if(!Dn(m))throw console.error("Invalid call to CSS.set. Property ",d,":: Value ",m,":: Element ",l),new Error("CSS value must be a string: "+m);Vd(l)&&l.style.setProperty(d,m)})(r,s,a)})}function Ku(t,n){var r=t.dom,a=window.getComputedStyle(r).getPropertyValue(n);return a!==""||Fc(t)?a:dg(r,n)}function xo(t,n){var r=t.dom,a=dg(r,n);return w.from(a).filter(function(s){return 0<s.length})}function Ud(t){var n={},r=t.dom;if(Vd(r))for(var a=0;a<r.style.length;a++){var s=r.style.item(a);n[s]=r.style[s]}return n}function wf(t){return bo(t,Ao)}function Th(t,n){return t.children&&Vt(t.children,n)}typeof window<"u"||Function("return this;")();var Ao=hu(1),nr=hu(3),Cf=hu(9),Dy=hu(11),mo=function(t){return Ne(t.dom.childNodes,lt.fromDom)},di=nn(Element.prototype.attachShadow)&&nn(Node.prototype.getRootNode),na=Jt(di),oa=di?function(t){return lt.fromDom(t.dom.getRootNode())}:_s,Jo=function(t,n){t.dom.appendChild(n.dom)},Ee=function(t){var n=t.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},Fc=function(t){var n=nr(t)?t.dom.parentNode:t.dom;if(n==null||n.ownerDocument===null)return!1;var r=n.ownerDocument,a=lt.fromDom(n),s=oa(a);return(Id(s)?w.some(s):w.none()).fold(function(){return r.body.contains(n)},Tn(Fc,vu))},lg=function(t,n){return{left:t,top:n,translate:function(r,a){return lg(t+r,n+a)}}},Sa=lg,Wd=function(t){var n,r=t.dom,a=r.ownerDocument.body;return a===r?Sa(a.offsetLeft,a.offsetTop):Fc(t)?(n=r.getBoundingClientRect(),Sa(n.left,n.top)):Sa(0,0)},Ae=xl(1),$d=ea(["textarea","input"]),oe=xl(3),Es=xl(8),tc=xl(9),_f=xl(11),Do=ea(["br"]),fg=ea(["img"]),Hr=Ca("true"),Un=Ca("false"),Sl=ea(["td","th"]),qa=ea(["video","audio","object","embed"]),dg=function(t,n){return Vd(t)?t.style.getPropertyValue(n):""},ra=Fo().browser,ka={},Yu={exports:ka};function qd(t){setTimeout(function(){throw t},0)}(function(){var t=this,n=function(){var r,a,s,l={exports:{}};function d(){}function m(A){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof A!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],E(A,this)}function h(A,B){for(;A._state===3;)A=A._value;A._state!==0?(A._handled=!0,m._immediateFn(function(){var N,P=A._state===1?B.onFulfilled:B.onRejected;if(P!==null){try{N=P(A._value)}catch(H){return void x(B.promise,H)}p(B.promise,N)}else(A._state===1?p:x)(B.promise,A._value)})):A._deferreds.push(B)}function p(A,B){try{if(B===A)throw new TypeError("A promise cannot be resolved with itself.");if(B&&(typeof B=="object"||typeof B=="function")){var N=B.then;if(B instanceof m)return A._state=3,A._value=B,void y(A);if(typeof N=="function")return void E((P=N,H=B,function(){P.apply(H,arguments)}),A)}A._state=1,A._value=B,y(A)}catch(G){x(A,G)}var P,H}function x(A,B){A._state=2,A._value=B,y(A)}function y(A){A._state===2&&A._deferreds.length===0&&m._immediateFn(function(){A._handled||m._unhandledRejectionFn(A._value)});for(var B=0,N=A._deferreds.length;B<N;B++)h(A,A._deferreds[B]);A._deferreds=null}function _(A,B,N){this.onFulfilled=typeof A=="function"?A:null,this.onRejected=typeof B=="function"?B:null,this.promise=N}function E(A,B){var N=!1;try{A(function(P){N||(N=!0,p(B,P))},function(P){N||(N=!0,x(B,P))})}catch(P){if(N)return;N=!0,x(B,P)}}r=l,a=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=setTimeout,m.prototype.catch=function(A){return this.then(null,A)},m.prototype.then=function(A,B){var N=new this.constructor(d);return h(this,new _(A,B,N)),N},m.all=function(A){var B=Array.prototype.slice.call(A);return new m(function(N,P){if(B.length===0)return N([]);for(var H=B.length,G=0;G<B.length;G++)(function Z(V,$){try{if($&&(typeof $=="object"||typeof $=="function")){var X=$.then;if(typeof X=="function")return X.call($,function(it){Z(V,it)},P),0}B[V]=$,--H==0&&N(B)}catch(it){P(it)}})(G,B[G])})},m.resolve=function(A){return A&&typeof A=="object"&&A.constructor===m?A:new m(function(B){B(A)})},m.reject=function(A){return new m(function(B,N){N(A)})},m.race=function(A){return new m(function(B,N){for(var P=0,H=A.length;P<H;P++)A[P].then(B,N)})},m._immediateFn=typeof setImmediate=="function"?function(A){setImmediate(A)}:function(A){s(A,0)},m._unhandledRejectionFn=function(A){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",A)},m._setImmediateFn=function(A){m._immediateFn=A},m._setUnhandledRejectionFn=function(A){m._unhandledRejectionFn=A},r.exports?r.exports=m:a.Promise||(a.Promise=m);var T=l.exports;return{boltExport:(typeof window<"u"?window:Function("return this;")()).Promise||T}};typeof ka=="object"&&Yu!==void 0?Yu.exports=n():(t=typeof globalThis<"u"?globalThis:t||self).EphoxContactWrapper=n()})();function Sf(t){return Sr(function(){return new mg(t)})}function Ga(t){if(!Nn(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var n=[],r={};return gt(t,function(a,s){var l=Q(a);if(l.length!==1)throw new Error("one and only one name per case");var d=l[0],m=a[d];if(r[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Nn(m))throw new Error("case arguments must be an array");n.push(d),r[d]=function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];var x=h.length;if(x!==m.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+m.length+" ("+m+"), got "+x);return{fold:function(){for(var y=[],_=0;_<arguments.length;_++)y[_]=arguments[_];if(y.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+y.length);return y[s].apply(null,h)},match:function(y){var _=Q(y);if(n.length!==_.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+_.join(","));if(!Cs(n,function(E){return Vt(_,E)}))throw new Error("Not all branches were specified when using match. Specified: "+_.join(", ")+`
Required: `+n.join(", "));return y[d].apply(null,h)},log:function(y){console.log(y,{constructors:n,constructor:d,params:h})}}}}),r}var mg=Yu.exports.boltExport,go=function(t){function n(d){s()?l(d):a.push(d)}var r=w.none(),a=[],s=function(){return r.isSome()},l=function(d){r.each(function(m){setTimeout(function(){d(m)},0)})};return t(function(d){s()||(r=w.some(d),gt(a,l),a=[])}),{get:n,map:function(d){return go(function(m){n(function(h){m(d(h))})})},isReady:s}},Ju={nu:go,pure:function(t){return go(function(n){n(t)})}},Sr=function(t){function n(r){t().then(r,qd)}return{map:function(r){return Sr(function(){return t().then(r)})},bind:function(r){return Sr(function(){return t().then(function(a){return r(a).toPromise()})})},anonBind:function(r){return Sr(function(){return t().then(function(){return r.toPromise()})})},toLazy:function(){return Ju.nu(n)},toCached:function(){var r=null;return Sr(function(){return r=r===null?t():r})},toPromise:t,get:n}},Jr=function(t){return{isValue:lo,isError:Ln,getOr:Jt(t),getOrThunk:Jt(t),getOrDie:Jt(t),or:function(n){return Jr(t)},orThunk:function(n){return Jr(t)},fold:function(n,r){return r(t)},map:function(n){return Jr(n(t))},mapError:function(n){return Jr(t)},each:function(n){n(t)},bind:function(n){return n(t)},exists:function(n){return n(t)},forall:function(n){return n(t)},toOptional:function(){return w.some(t)}}},Hc=function(t){return{isValue:Ln,isError:lo,getOr:An,getOrThunk:function(n){return n()},getOrDie:function(){return n=String(t),(function(){throw new Error(n)})();var n},or:An,orThunk:function(n){return n()},fold:function(n,r){return n(t)},map:function(n){return Hc(t)},mapError:function(n){return Hc(n(t))},each:ne,bind:function(n){return Hc(t)},exists:Ln,forall:lo,toOptional:w.none}},Bt={value:Jr,error:Hc,fromOption:function(t,n){return t.fold(function(){return Hc(n)},Jr)}};function mi(t){return t.fold(An,An)}function _e(t,n,r,a,s){return t(r,a)?w.some(r):nn(s)&&s(r)?w.none():n(r,a,s)}function Os(t,n,r){for(var a=t.dom,s=nn(r)?r:Ln;a.parentNode;){var a=a.parentNode,l=lt.fromDom(a);if(n(l))return w.some(l);if(s(l))break}return w.none()}function zo(t,n,r){return _e(function(a,s){return s(a)},Os,t,n,r)}function Xa(t,n,r){return Os(t,function(a){return $n(a,n)},r)}function zc(t,n){return r=n,Be(a=t===void 0?document:t.dom)?w.none():w.from(a.querySelector(r)).map(lt.fromDom);var r,a}function Ei(t,n,r){return _e($n,Xa,t,n,r)}function bn(t,n){return typeof n!="number"&&(n=0),setTimeout(t,n)}function Qu(t,n){return typeof n!="number"&&(n=1),setInterval(t,n)}function kf(t,n){function r(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];clearTimeout(a),a=bn(function(){t.apply(this,s)},n)}var a;return r.stop=function(){clearTimeout(a)},r}function Xn(t,n){function r(x,y,_){var E,T=Ct._addCacheSuffix(x),A=no(d,T).getOrThunk(function(){return{id:"mce-u"+l++,passed:[],failed:[],count:0}});function B($,X){for(var it=$.length;it--;)$[it]();A.status=X,A.passed=[],A.failed=[],E&&(E.onload=null,E.onerror=null,E=null)}function N(){return B(A.passed,2),0}function P(){return B(A.failed,3)}(d[T]=A).count++;var H,G,Z,V=function(){var $=V;!(function(){for(var X=t.styleSheets,it=X.length;it--;){var dt=X[it].ownerNode;if(dt&&dt.id===E.id)return N(),1}})()&&(Date.now()-G<p?wo.setTimeout($):P())};y&&A.passed.push(y),_&&A.failed.push(_),A.status!==1&&(A.status!==2?A.status!==3?(A.status=1,Zs(H=lt.fromTag("link",h.dom),{rel:"stylesheet",type:"text/css",id:A.id}),G=Date.now(),n.contentCssCors&&bu(H,"crossOrigin","anonymous"),n.referrerPolicy&&bu(H,"referrerpolicy",n.referrerPolicy),(E=H.dom).onload=V,E.onerror=P,Z=H,Jo(Ld(m),Z),bu(H,"href",T)):P():N())}function a(x){return Sf(function(y){r(x,ar(y,Jt(Bt.value(x))),ar(y,Jt(Bt.error(x))))})}function s(x){var y=Ct._addCacheSuffix(x);no(d,y).each(function(_){var E;--_.count==0&&(delete d[y],E=_.id,zc(Ld(m),"#"+E).each(Ee))})}n===void 0&&(n={});var l=0,d={},m=lt.fromDom(t),h=_s(m),p=n.maxLoadTime||5e3;return{load:r,loadAll:function(x,y,_){var E,T=Ne(x,a);E=T,Sf(function(A){var B=[],N=0;E.length===0?A([]):gt(E,function(P,H){var G;P.get((G=H,function(Z){B[G]=Z,++N>=E.length&&A(B)}))})}).get(function(A){var B=uo(A,function(N){return N.isValue()});0<B.fail.length?_(B.fail.map(mi)):y(B.pass.map(mi))})},unload:s,unloadAll:function(x){gt(x,function(y){s(y)})},_setReferrerPolicy:function(x){n.referrerPolicy=x}}}Ga([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Ea,yu,ia=function(t,n){return bo(t.dom.childNodes,function(r){return n(lt.fromDom(r))}).map(lt.fromDom)},rt=window.Promise||mg,wo={requestAnimationFrame:function(t,n){Ea?Ea.then(t):Ea=new rt(function(r){(function(a,s){for(var l=window.requestAnimationFrame,d=["ms","moz","webkit"],m=0;m<d.length&&!l;m++)l=window[d[m]+"RequestAnimationFrame"];(l=l||function(h){window.setTimeout(h,0)})(a,s)})(r,n=n||document.body)}).then(t)},setTimeout:bn,setInterval:Qu,setEditorTimeout:function(t,n,r){return bn(function(){t.removed||n()},r)},setEditorInterval:function(t,n,r){var a=Qu(function(){t.removed?clearInterval(a):n()},r);return a},debounce:kf,throttle:kf,clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)}},Gd=(yu=new WeakMap,{forElement:function(t,n){var r=oa(t).dom;return w.from(yu.get(r)).getOrThunk(function(){var a=Xn(r,n);return yu.set(r,a),a})}}),Vo=(aa.prototype.current=function(){return this.node},aa.prototype.next=function(t){return this.node=this.findSibling(this.node,"firstChild","nextSibling",t),this.node},aa.prototype.prev=function(t){return this.node=this.findSibling(this.node,"lastChild","previousSibling",t),this.node},aa.prototype.prev2=function(t){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",t),this.node},aa.prototype.findSibling=function(t,n,r,a){var s,l;if(t){if(!a&&t[n])return t[n];if(t!==this.rootNode){if(s=t[r])return s;for(l=t.parentNode;l&&l!==this.rootNode;l=l.parentNode)if(s=l[r])return s}}},aa.prototype.findPreviousNode=function(t,n,r,a){var s,l,d;if(t&&(s=t[r],!this.rootNode||s!==this.rootNode)){if(s){if(!a){for(d=s[n];d;d=d[n])if(!d[n])return d}return s}return(l=t.parentNode)&&l!==this.rootNode?l:void 0}},aa);function aa(t,n){this.node=t,this.rootNode=n,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}function po(t){var n;return function(r){return n=n||(function(a,s){for(var l={},d=0,m=a.length;d<m;d++){var h=a[d];l[String(h)]=s(h,d)}return l})(t,lo),Ot(n,Ho(r))}}function co(t){return Ao(t)&&!Ts(t)}function Zu(t){return Ao(t)&&Ho(t)==="br"}function xu(t){return As(t)&&(t=t.parentNode),Nh(t)&&t.hasAttribute("data-mce-caret")}function ge(t){return As(t)&&Rt(t.data)}function jo(t){return xu(t)||ge(t)}function Ah(t){return t.firstChild!==t.lastChild||!Do(t.firstChild)}function Oa(t){var n=t.container();return!!oe(n)&&(n.data.charAt(t.offset())===Qr||t.isAtStart()&&ge(n.previousSibling))}function st(t){var n=t.container();return!!oe(n)&&(n.data.charAt(t.offset()-1)===Qr||t.isAtEnd()&&ge(n.nextSibling))}function k(t){return t&&t.hasAttribute("data-mce-caret")?(Lc(r=(n=t.getElementsByTagName("br"))[n.length-1])&&r.parentNode.removeChild(r),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null;var n,r}function W(t){return xu(t.startContainer)}function ct(t){return!Ry(t)&&(El(t)?!fe(t.parentNode):Yd(t)||pg(t)||Bh(t)||Rh(t))}function $t(t,n){return ct(t)&&(function(r,a){for(r=r.parentNode;r&&r!==a;r=r.parentNode){if(Rh(r))return!1;if(Tf(r))return!0}return!0})(t,n)}function se(t){return Mh.test(t)}function ee(t,n){return ct(t)&&(d=n,(oe(l=t)&&se(l.data)&&(r=l,a=lt.fromDom(d),Xa(lt.fromDom(r),"pre,code",q(ke,a)).isSome()===!1))===!1)||Ae(s=t)&&s.nodeName==="A"&&!s.hasAttribute("href")&&(s.hasAttribute("name")||s.hasAttribute("id"))||BC(t);var r,a,s,l,d}function Qe(t,n){return(function(r,a){var s=0;if(ee(r,r))return!1;var l=r.firstChild;if(!l)return!0;var d=new Vo(l,r);do{if(a){if(My(l)){l=d.next(!0);continue}if(Ds(l)){l=d.next();continue}}if(Do(l))s++,l=d.next();else{if(ee(l,r))return!1;l=d.next()}}while(l);return s<=1})(t.dom,n=n===void 0||n)}function Uo(t,n){return ot(t)&&(ee(t,n)||co(lt.fromDom(t)))}function Oi(t){return t.nodeName.toLowerCase()==="span"&&t.getAttribute("data-mce-type")==="bookmark"}function ce(t,n){var r,a,s,l={};if(t){for(t=t.split(","),n=n||10,r=0;r<t.length;r+=2)a=String.fromCharCode(parseInt(t[r],n)),Cu[a]||(s="&"+t[r+1]+";",l[a]=s,l[s]=a);return l}}function ua(t,n){return t.replace(n?Jd:Af,function(r){return Cu[r]||r})}function kr(t,n){return t.replace(n?Jd:Af,function(r){return 1<r.length?"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";":Cu[r]||"&#"+r.charCodeAt(0)+";"})}function Ta(t,n,r){return r=r||jc,t.replace(n?Jd:Af,function(a){return Cu[a]||r[a]||a})}function sn(t,n){return(t=Ct.trim(t))?t.split(n||" "):[]}function Hi(t,n){var r=Qd(t," ",Qd(t.toUpperCase()," "));return Uc(r,n)}function ec(t){return Hi("td th li dt dd figcaption caption details summary",t.getTextBlockElements())}function Vc(t,n){var r;return t&&(r={},Ai(t=typeof t=="string"?{"*":t}:t,function(a,s){r[s]=r[s.toUpperCase()]=(n==="map"?Qd:Iy)(a,/[, ]/)})),r}function nc(t){function n(Dt,qt,xe){var Oe=t[Dt];return Oe?Oe=Qd(Oe,/[, ]/,Qd(Oe.toUpperCase(),/[, ]/)):(Oe=Df[Dt])||(Oe=Hi(qt,xe),Df[Dt]=Oe),Oe}var r,a,s,l,d,m,h,p,x={},y={},_=[],E={},T={},A=(r=(t=t||{}).schema,p={},Df[r]||(a="id accesskey class dir lang style tabindex title role",s="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",l="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",r!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",s+=" article aside details dialog figure main header footer hgroup section nav",l+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),r!=="html5-strict"&&(a+=" xml:lang",l=[l,h="acronym applet basefont big font strike tt"].join(" "),Ai(sn(h),function(Dt){B(Dt,"",l)}),s=[s,m="center dir isindex noframes"].join(" "),d=[s,l].join(" "),Ai(sn(m),function(Dt){B(Dt,"",d)})),d=d||[s,l].join(" "),B("html","manifest","head body"),B("head","","base command link meta noscript script style title"),B("title hr noscript br"),B("base","href target"),B("link","href rel media hreflang type sizes hreflang"),B("meta","name http-equiv content charset"),B("style","media type scoped"),B("script","src async defer type charset"),B("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",d),B("address dt dd div caption","",d),B("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",l),B("blockquote","cite",d),B("ol","reversed start type","li"),B("ul","","li"),B("li","value",d),B("dl","","dt dd"),B("a","href target rel media hreflang type",l),B("q","cite",l),B("ins del","cite datetime",d),B("img","src sizes srcset alt usemap ismap width height"),B("iframe","src name width height",d),B("embed","src type width height"),B("object","data type typemustmatch name usemap form width height",[d,"param"].join(" ")),B("param","name value"),B("map","name",[d,"area"].join(" ")),B("area","alt coords shape href target rel media hreflang type"),B("table","border","caption colgroup thead tfoot tbody tr"+(r==="html4"?" col":"")),B("colgroup","span","col"),B("col","span"),B("tbody thead tfoot","","tr"),B("tr","","td th"),B("td","colspan rowspan headers",d),B("th","colspan rowspan headers scope abbr",d),B("form","accept-charset action autocomplete enctype method name novalidate target",d),B("fieldset","disabled form name",[d,"legend"].join(" ")),B("label","form for",l),B("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),B("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",r==="html4"?d:l),B("select","disabled form multiple name required size","option optgroup"),B("optgroup","disabled label","option"),B("option","disabled label selected value"),B("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),B("menu","type label",[d,"li"].join(" ")),B("noscript","",d),r!=="html4"&&(B("wbr"),B("ruby","",[l,"rt rp"].join(" ")),B("figcaption","",d),B("mark rt rp summary bdi","",l),B("canvas","width height",d),B("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[d,"track source"].join(" ")),B("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[d,"track source"].join(" ")),B("picture","","img source"),B("source","src srcset type media sizes"),B("track","kind src srclang label default"),B("datalist","",[l,"option"].join(" ")),B("article section nav aside main header footer","",d),B("hgroup","","h1 h2 h3 h4 h5 h6"),B("figure","",[d,"figcaption"].join(" ")),B("time","datetime",l),B("dialog","open",d),B("command","type label icon disabled checked radiogroup command"),B("output","for form name",l),B("progress","value max",l),B("meter","value min max low high optimum",l),B("details","open",[d,"summary"].join(" ")),B("keygen","autofocus challenge disabled form keytype name")),r!=="html5-strict"&&(N("script","language xml:space"),N("style","xml:space"),N("object","declare classid code codebase codetype archive standby align border hspace vspace"),N("embed","align name hspace vspace"),N("param","valuetype type"),N("a","charset name rev shape coords"),N("br","clear"),N("applet","codebase archive code object alt name width height align hspace vspace"),N("img","name longdesc align border hspace vspace"),N("iframe","longdesc frameborder marginwidth marginheight scrolling align"),N("font basefont","size color face"),N("input","usemap align"),N("select"),N("textarea"),N("h1 h2 h3 h4 h5 h6 div p legend caption","align"),N("ul","type compact"),N("li","type"),N("ol dl menu dir","compact"),N("pre","width xml:space"),N("hr","align noshade size width"),N("isindex","prompt"),N("table","summary width frame rules cellspacing cellpadding align bgcolor"),N("col","width align char charoff valign"),N("colgroup","width align char charoff valign"),N("thead","align char charoff valign"),N("tr","align char charoff valign bgcolor"),N("th","axis align char charoff valign nowrap bgcolor width height"),N("form","accept"),N("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),N("tfoot","align char charoff valign"),N("tbody","align char charoff valign"),N("area","nohref"),N("body","background bgcolor text link vlink alink")),r!=="html4"&&(N("input button select textarea","autofocus"),N("input textarea","placeholder"),N("a","download"),N("link script img","crossorigin"),N("img","loading"),N("iframe","sandbox seamless allowfullscreen loading")),Ai(sn("a form meter progress dfn"),function(Dt){p[Dt]&&delete p[Dt].children[Dt]}),delete p.caption.children.table,delete p.script,Df[r]=p));function B(Dt,qt,xe){function Oe(Ro,ai){for(var hi={},lr=0,ui=Ro.length;lr<ui;lr++)hi[Ro[lr]]=ai||{};return hi}var Kn,Ve;qt=qt||"",typeof(xe=xe||[])=="string"&&(xe=sn(xe));for(var Se=sn(Dt),xn=Se.length;xn--;)Ve={attributes:Oe(Kn=sn([a,qt].join(" "))),attributesOrder:Kn,children:Oe(xe,_k)},p[Se[xn]]=Ve}function N(Dt,qt){for(var xe,Oe,Kn,Ve=sn(Dt),Se=Ve.length,xn=sn(qt);Se--;)for(xe=p[Ve[Se]],Oe=0,Kn=xn.length;Oe<Kn;Oe++)xe.attributes[xn[Oe]]={},xe.attributesOrder.push(xn[Oe])}t.verify_html===!1&&(t.valid_elements="*[*]");var P=Vc(t.valid_styles),H=Vc(t.invalid_styles,"map"),G=Vc(t.valid_classes,"map"),Z=n("whitespace_elements","pre script noscript style textarea video audio iframe object code"),V=n("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),$=n("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),X=n("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),it="td th iframe video audio object script code",dt=n("non_empty_elements",it+" pre",$),wt=n("move_caret_before_on_enter_elements",it+" table",$),bt=n("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),tt=n("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",bt),et=n("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");function at(Dt){return new RegExp("^"+Dt.replace(/([?+*])/g,".$1")+"$")}function ft(Dt){var qt,xe,Oe,Kn,Ve,Se,xn,Ro,ai,hi,lr,ui,Ec,Oc,Od,uu,cf,Td,xC=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,wC=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,CC=/[*?+]/;if(Dt){var _C=sn(Dt,",");for(x["@"]&&(uu=x["@"].attributes,cf=x["@"].attributesOrder),qt=0,xe=_C.length;qt<xe;qt++)if(Ve=xC.exec(_C[qt])){if(Oc=Ve[1],ai=Ve[2],Od=Ve[3],Ro=Ve[5],Se={attributes:ui={},attributesOrder:Ec=[]},Oc==="#"&&(Se.paddEmpty=!0),Oc==="-"&&(Se.removeEmpty=!0),Ve[4]==="!"&&(Se.removeEmptyAttrs=!0),uu&&(yo(uu,function(ZS,tk){ui[tk]=ZS}),Ec.push.apply(Ec,cf)),Ro)for(Oe=0,Kn=(Ro=sn(Ro,"|")).length;Oe<Kn;Oe++)(Ve=wC.exec(Ro[Oe]))&&(xn={},lr=Ve[1],hi=Ve[2].replace(/[\\:]:/g,":"),Oc=Ve[3],Td=Ve[4],lr==="!"&&(Se.attributesRequired=Se.attributesRequired||[],Se.attributesRequired.push(hi),xn.required=!0),lr!=="-"?(Oc&&(Oc==="="&&(Se.attributesDefault=Se.attributesDefault||[],Se.attributesDefault.push({name:hi,value:Td}),xn.defaultValue=Td),Oc===":"&&(Se.attributesForced=Se.attributesForced||[],Se.attributesForced.push({name:hi,value:Td}),xn.forcedValue=Td),Oc==="<"&&(xn.validValues=Qd(Td,"?"))),CC.test(hi)?(Se.attributePatterns=Se.attributePatterns||[],xn.pattern=at(hi),Se.attributePatterns.push(xn)):(ui[hi]||Ec.push(hi),ui[hi]=xn)):(delete ui[hi],Ec.splice(uc(Ec,hi),1)));uu||ai!=="@"||(uu=ui,cf=Ec),Od&&(Se.outputName=ai,x[Od]=Se),CC.test(ai)?(Se.pattern=at(ai),_.push(Se)):x[ai]=Se}}}function It(Dt){x={},_=[],ft(Dt),Ai(A,function(qt,xe){y[xe]=qt.children})}function Wt(Dt){var qt=/^(~)?(.+)$/;Dt&&(Df.text_block_elements=Df.block_elements=null,Ai(sn(Dt,","),function(xe){var Oe,Kn=qt.exec(xe),Ve=Kn[1]==="~",Se=Ve?"span":"div",xn=Kn[2];y[xn]=y[Se],E[xn]=Se,Ve||(tt[xn.toUpperCase()]={},tt[xn]={}),x[xn]||(Oe=x[Se],delete(Oe=Uc({},Oe)).removeEmptyAttrs,delete Oe.removeEmpty,x[xn]=Oe),Ai(y,function(Ro,ai){Ro[Se]&&(y[ai]=Ro=Uc({},y[ai]),Ro[xn]=Ro[Se])})}))}function Pt(Dt){var qt=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Df[t.schema]=null,Dt&&Ai(sn(Dt,","),function(xe){var Oe,Kn,Ve=qt.exec(xe);Ve&&(Kn=Ve[1],Oe=Kn?y[Ve[2]]:y[Ve[2]]={"#comment":{}},Oe=y[Ve[2]],Ai(sn(Ve[3],"|"),function(Se){Kn==="-"?delete Oe[Se]:Oe[Se]={}}))})}function jt(Dt){var qt,xe=x[Dt];if(xe)return xe;for(qt=_.length;qt--;)if((xe=_[qt]).pattern.test(Dt))return xe}Ai((t.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(Dt){T[Dt]=new RegExp("</"+Dt+"[^>]*>","gi")}),t.valid_elements?It(t.valid_elements):(Ai(A,function(Dt,qt){x[qt]={attributes:Dt.attributes,attributesOrder:Dt.attributesOrder},y[qt]=Dt.children}),t.schema!=="html5"&&Ai(sn("strong/b em/i"),function(Dt){var qt=sn(Dt,"/");x[qt[1]].outputName=qt[0]}),Ai(et,function(Dt,qt){x[qt]&&(t.padd_empty_block_inline_children&&(x[qt].paddInEmptyBlock=!0),x[qt].removeEmpty=!0)}),Ai(sn("ol ul blockquote a table tbody"),function(Dt){x[Dt]&&(x[Dt].removeEmpty=!0)}),Ai(sn("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(Dt){x[Dt].paddEmpty=!0}),Ai(sn("span"),function(Dt){x[Dt].removeEmptyAttrs=!0})),Wt(t.custom_elements),Pt(t.valid_children),ft(t.extended_valid_elements),Pt("+ol[ul|ol],+ul[ul|ol]"),Ai({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Dt,qt){x[qt]&&(x[qt].parentsRequired=sn(Dt))}),t.invalid_elements&&Ai(Iy(t.invalid_elements),function(Dt){x[Dt]&&delete x[Dt]}),jt("span")||ft("span[!data-mce-type|*]");var Ht=Jt(P),Ut=Jt(H),zt=Jt(G),te=Jt(X),At=Jt(tt),Yt=Jt(bt),Ft=Jt(et),ie=Jt($),re=Jt(V),Ye=Jt(dt),Y=Jt(wt),nt=Jt(Z),St=Jt(T),Mt=Jt(E);return{children:y,elements:x,getValidStyles:Ht,getValidClasses:zt,getBlockElements:At,getInvalidStyles:Ut,getShortEndedElements:ie,getTextBlockElements:Yt,getTextInlineElements:Ft,getBoolAttrs:te,getElementRule:jt,getSelfClosingElements:re,getNonEmptyElements:Ye,getMoveCaretBeforeOnEnterElements:Y,getWhiteSpaceElements:nt,getSpecialElements:St,isValidChild:function(Dt,qt){var xe=y[Dt.toLowerCase()];return!(!xe||!xe[qt.toLowerCase()])},isValid:function(Dt,qt){var xe,Oe,Kn=jt(Dt);if(Kn){if(!qt||Kn.attributes[qt])return!0;if(xe=Kn.attributePatterns){for(Oe=xe.length;Oe--;)if(xe[Oe].pattern.test(Dt))return!0}}return!1},getCustomElements:Mt,addValidElements:ft,setValidElements:It,addCustomElements:Wt,addValidChildren:Pt}}function sa(t,n,r,a){function s(l){return 1<(l=parseInt(l,10).toString(16)).length?l:"0"+l}return"#"+s(n)+s(r)+s(a)}function Qo(t,n){var r,a,s=this,l=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,d=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,m=/\s*([^:]+):\s*([^;]+);?/g,h=/\s+$/,p={},x=Dh;t=t||{},n&&(r=n.getValidStyles(),a=n.getInvalidStyles());for(var y=(`\\" \\' \\; \\: ; : `+x).split(" "),_=0;_<y.length;_++)p[y[_]]=x+_,p[x+_]=y[_];return{toHex:function(E){return E.replace(l,sa)},parse:function(E){function T(at,ft,It){var Wt=bt[at+"-top"+ft];if(Wt){var Pt=bt[at+"-right"+ft];if(Pt){var jt=bt[at+"-bottom"+ft];if(jt){var Ht=bt[at+"-left"+ft];if(Ht){var Ut=[Wt,Pt,jt,Ht];for(_=Ut.length-1;_--&&Ut[_]===Ut[_+1];);-1<_&&It||(bt[at+ft]=_===-1?Ut[0]:Ut.join(" "),delete bt[at+"-top"+ft],delete bt[at+"-right"+ft],delete bt[at+"-bottom"+ft],delete bt[at+"-left"+ft])}}}}}function A(at){var ft,It=bt[at];if(It){for(ft=(It=It.split(" ")).length;ft--;)if(It[ft]!==It[0])return;return bt[at]=It[0],1}}function B(at){return X=!0,p[at]}function N(at,ft){return X&&(at=at.replace(/\uFEFF[0-9]/g,function(It){return p[It]})),ft?at:at.replace(/\\([\'\";:])/g,"$1")}function P(at){return String.fromCharCode(parseInt(at.slice(1),16))}function H(at){return at.replace(/\\[0-9a-f]+/gi,P)}function G(at,ft,It,Wt,Pt,jt){if(Pt=Pt||jt)return"'"+(Pt=N(Pt)).replace(/\'/g,"\\'")+"'";if(ft=N(ft||It||Wt),!t.allow_script_urls){var Ht=ft.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Ht)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(Ht))return""}return"url('"+(ft=tt?tt.call(et,ft,"style"):ft).replace(/\'/g,"\\'")+"')"}var Z,V,$,X,it,dt,wt,bt={},tt=t.url_converter,et=t.url_converter_scope||s;if(E){for(E=(E=E.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,B).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(at){return at.replace(/[;:]/g,B)});Z=m.exec(E);)m.lastIndex=Z.index+Z[0].length,V=Z[1].replace(h,"").toLowerCase(),$=Z[2].replace(h,""),V&&$&&(V=H(V),$=H($),V.indexOf(x)===-1&&V.indexOf('"')===-1&&(t.allow_script_urls||V!=="behavior"&&!/expression\s*\(|\/\*|\*\//.test($))&&(V==="font-weight"&&$==="700"?$="bold":V!=="color"&&V!=="background-color"||($=$.toLowerCase()),$=($=$.replace(l,sa)).replace(d,G),bt[V]=X?N($,!0):$));T("border","",!0),T("border","-width"),T("border","-color"),T("border","-style"),T("padding",""),T("margin",""),dt="border-style",wt="border-color",A(it="border-width")&&A(dt)&&A(wt)&&(bt.border=bt[it]+" "+bt[dt]+" "+bt[wt],delete bt[it],delete bt[dt],delete bt[wt]),bt.border==="medium none"&&delete bt.border,bt["border-image"]==="none"&&delete bt["border-image"]}return bt},serialize:function(E,T){function A(N){var P,H=r[N];if(H)for(var G=0,Z=H.length;G<Z;G++)N=H[G],(P=E[N])&&(B+=(0<B.length?" ":"")+N+": "+P+";")}var B="";return T&&r?(A("*"),A(T)):yo(E,function(N,P){var H;!N||a&&((H=a["*"])&&H[P]||(H=a[T])&&H[P])||(B+=(0<B.length?" ":"")+P+": "+N+";")}),B}}}function Ti(t){return t instanceof Event||nn(t.initEvent)}function oc(t,n,r,a){var s,l,d=(function(m){var h,p=a??{};for(h in m)Ot(Sk,h)||(p[h]=m[h]);return ot(p.composedPath)&&(p.composedPath=function(){return m.composedPath()}),p})(n);return d.type=t,$r(d.target)&&(d.target=(s=d.srcElement)!==null&&s!==void 0?s:r),($r((l=n).preventDefault)||Ti(l))&&(d.preventDefault=function(){d.defaultPrevented=!0,d.isDefaultPrevented=lo,nn(n.preventDefault)?n.preventDefault():Ti(n)&&(n.returnValue=!1)},d.stopPropagation=function(){d.cancelBubble=!0,d.isPropagationStopped=lo,nn(n.stopPropagation)?n.stopPropagation():Ti(n)&&(n.cancelBubble=!0)},d.stopImmediatePropagation=function(){d.isImmediatePropagationStopped=lo,d.stopPropagation()},d.isDefaultPrevented!==lo&&d.isDefaultPrevented!==Ln&&(d.isDefaultPrevented=d.defaultPrevented===!0?lo:Ln,d.isPropagationStopped=d.cancelBubble===!0?lo:Ln,d.isImmediatePropagationStopped=Ln)),d}function kl(t,n,r,a){t.addEventListener?t.addEventListener(n,r,a||!1):t.attachEvent&&t.attachEvent("on"+n,r)}function gg(t,n,r,a){t.removeEventListener?t.removeEventListener(n,r,a||!1):t.detachEvent&&t.detachEvent("on"+n,r)}function Ef(t,n){var r,a,s,l,d=oc(t.type,t,document,n);return ot(l=t)&&Zr.test(l.type)&&Je(t.pageX)&&!Je(t.clientX)&&(a=(r=d.target.ownerDocument||document).documentElement,s=r.body,d.pageX=t.clientX+(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a&&a.clientLeft||s&&s.clientLeft||0),d.pageY=t.clientY+(a&&a.scrollTop||s&&s.scrollTop||0)-(a&&a.clientTop||s&&s.clientTop||0)),Je(d.metaKey)&&(d.metaKey=!1),d}var Ny=po(["h1","h2","h3","h4","h5","h6"]),Ts=po(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),Of=po(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),Wo=po(["ul","ol","dl"]),fn=po(["li","dd","dt"]),we=po(["thead","tbody","tfoot"]),rc=po(["td","th"]),Xd=po(["pre","script","textarea","style"]),Dh="\uFEFF",Aa="\xA0",Qr=Dh,Rt=function(t){return t===Dh},Da=function(t){return t.replace(/\uFEFF/g,"")},Nh=Ae,As=oe,Kd=function(t){return As(t)&&t.data[0]===Qr},ic=function(t){return As(t)&&t.data[t.data.length-1]===Qr},Tf=Hr,By=Un,pg=Do,El=oe,fe=ea(["script","style","textarea"]),Yd=ea(["img","input","textarea","hr","iframe","video","audio","object","embed"]),Bh=ea(["table"]),Ry=jo,Rh=function(t){return(Ae(n=t)&&n.getAttribute("unselectable")==="true")===!1&&By(t);var n},Mh=/^[ \t\r\n]*$/,BC=zd("data-mce-bookmark"),Ds=zd("data-mce-bogus"),My=function(t){return Ae(t)&&t.getAttribute("data-mce-bogus")==="all"},Py=function(t,n,r){var a=r||n;if(Ae(n)&&Oi(n))return n;for(var s,l,d,m,h,p,x,y,_,E,T,A=n.childNodes,B=A.length-1;0<=B;B--)Py(t,A[B],a);return!Ae(n)||(s=n.childNodes).length===1&&Oi(s[0])&&n.parentNode.insertBefore(s[0],n),_f(d=n)||tc(d)||ee(n,a)||Ae(l=n)&&0<l.childNodes.length||(h=a,oe(m=n)&&0<m.data.length&&(y=new Vo(p=m,x=h).prev(!1),_=new Vo(p,x).next(!1),E=Je(y)||Uo(y,x),T=Je(_)||Uo(_,x),E&&T))||t.remove(n),n},Ck=Ct.makeMap,Jd=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Af=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,zr=/[<>&\"\']/g,sr=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,wu={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},Cu={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},ac={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},jc=ce("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),Ns={encodeRaw:ua,encodeAllRaw:function(t){return(""+t).replace(zr,function(n){return Cu[n]||n})},encodeNumeric:kr,encodeNamed:Ta,getEncodeFunc:function(t,n){var r=ce(n)||jc,a=Ck(t.replace(/\+/g,","));return a.named&&a.numeric?function(s,l){return s.replace(l?Jd:Af,function(d){return Cu[d]!==void 0?Cu[d]:r[d]!==void 0?r[d]:1<d.length?"&#"+(1024*(d.charCodeAt(0)-55296)+(d.charCodeAt(1)-56320)+65536)+";":"&#"+d.charCodeAt(0)+";"})}:a.named?n?function(s,l){return Ta(s,l,r)}:Ta:a.numeric?kr:ua},decode:function(t){return t.replace(sr,function(n,r){return r?65535<(r=r.charAt(0).toLowerCase()==="x"?parseInt(r.substr(1),16):parseInt(r,10))?(r-=65536,String.fromCharCode(55296+(r>>10),56320+(1023&r))):wu[r]||String.fromCharCode(r):ac[n]||jc[n]||(a=n,(s=lt.fromTag("div").dom).innerHTML=a,s.textContent||s.innerText||a);var a,s})}},Df={},_k={},Qd=Ct.makeMap,Ai=Ct.each,Uc=Ct.extend,Iy=Ct.explode,uc=Ct.inArray,Sk={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},Zr=/^(?:mouse|contextmenu)|click/,Ka=(Ya.prototype.bind=function(t,n,r,a){function s(A){y.executeHandlers(Ef(A||_.event),l)}var l,d,m,h,p,x,y=this,_=window;if(t&&t.nodeType!==3&&t.nodeType!==8){t[y.expando]?l=t[y.expando]:(l=y.count++,t[y.expando]=l,y.events[l]={}),a=a||t;for(var E=n.split(" "),T=E.length;T--;)p=s,h=x=!1,(m=E[T])==="DOMContentLoaded"&&(m="ready"),y.domLoaded&&m==="ready"&&t.readyState==="complete"?r.call(a,Ef({type:m})):(y.hasMouseEnterLeave||(h=y.mouseEnterLeave[m])&&(p=function(A){var B=A.currentTarget,N=A.relatedTarget;if(N&&B.contains)N=B.contains(N);else for(;N&&N!==B;)N=N.parentNode;N||((A=Ef(A||_.event)).type=A.type==="mouseout"?"mouseleave":"mouseenter",A.target=B,y.executeHandlers(A,l))}),y.hasFocusIn||m!=="focusin"&&m!=="focusout"||(x=!0,h=m==="focusin"?"focus":"blur",p=function(A){(A=Ef(A||_.event)).type=A.type==="focus"?"focusin":"focusout",y.executeHandlers(A,l)}),(d=y.events[l][m])?m==="ready"&&y.domLoaded?r(Ef({type:m})):d.push({func:r,scope:a}):(y.events[l][m]=d=[{func:r,scope:a}],d.fakeName=h,d.capture=x,d.nativeHandler=p,m==="ready"?(function(A,B,N){var P,H=A.document,G={type:"ready"};N.domLoaded?B(G):(P=function(){gg(A,"DOMContentLoaded",P),gg(A,"load",P),N.domLoaded||(N.domLoaded=!0,B(G)),A=null},H.readyState==="complete"||H.readyState==="interactive"&&H.body?P():kl(A,"DOMContentLoaded",P),N.domLoaded||kl(A,"load",P))})(t,p,y):kl(t,h||m,p,x)));return t=d=null,r}},Ya.prototype.unbind=function(t,n,r){var a,s,l;if(!t||t.nodeType===3||t.nodeType===8)return this;var d=t[this.expando];if(d){if(l=this.events[d],n){for(var m,h,p,x,y=n.split(" "),_=y.length;_--;)if(x=l[s=y[_]]){if(r)for(a=x.length;a--;)x[a].func===r&&(m=x.nativeHandler,h=x.fakeName,p=x.capture,(x=x.slice(0,a).concat(x.slice(a+1))).nativeHandler=m,x.fakeName=h,x.capture=p,l[s]=x);r&&x.length!==0||(delete l[s],gg(t,x.fakeName||s,x.nativeHandler,x.capture))}}else yo(l,function(E,T){gg(t,E.fakeName||T,E.nativeHandler,E.capture)}),l={};for(s in l)if(Ot(l,s))return this;delete this.events[d];try{delete t[this.expando]}catch{t[this.expando]=null}}return this},Ya.prototype.fire=function(t,n,r){var a;if(!t||t.nodeType===3||t.nodeType===8)return this;for(var s=Ef({type:n,target:t},r);(a=t[this.expando])&&this.executeHandlers(s,a),(t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow)&&!s.isPropagationStopped(););return this},Ya.prototype.clean=function(t){var n,r;if(!t||t.nodeType===3||t.nodeType===8)return this;if(t[this.expando]&&this.unbind(t),(t=t.getElementsByTagName?t:t.document)&&t.getElementsByTagName)for(this.unbind(t),n=(r=t.getElementsByTagName("*")).length;n--;)(t=r[n])[this.expando]&&this.unbind(t);return this},Ya.prototype.destroy=function(){this.events={}},Ya.prototype.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1},Ya.prototype.executeHandlers=function(t,n){var r=this.events[n],a=r&&r[t.type];if(a)for(var s=0,l=a.length;s<l;s++){var d=a[s];if(d&&d.func.call(d.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}},Ya.Event=new Ya,Ya);function Ya(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}function ts(t,n,r){var a="0x"+n-65536;return a!=a||r?n:a<0?String.fromCharCode(65536+a):String.fromCharCode(a>>10|55296,1023&a|56320)}var Vr,Bn,Nf,Ph,Bf,sc,Wc,Ih,Bs,Zd,_u,zi,Ol,cc,es,tm,hg,Di="sizzle"+-new Date,Ni=window.document,ns=0,Ly=0,Tl=Vy(),Na=Vy(),em=Vy(),Rf=function(t,n){return t===n&&(Zd=!0),0},Lh="undefined",Fh={}.hasOwnProperty,lc=[],Hh=lc.pop,kk=lc.push,Al=lc.push,zh=lc.slice,fc=lc.indexOf||function(t){for(var n=0,r=this.length;n<r;n++)if(this[n]===t)return n;return-1},_o="[\\x20\\t\\r\\n\\f]",Rs="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Mf="\\["+_o+"*("+Rs+")(?:"+_o+"*([*^$|!~]?=)"+_o+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+Rs+"))|)"+_o+"*\\]",Fy=":("+Rs+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Mf+")*)|.*)\\)|)",vg=new RegExp("^"+_o+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_o+"+$","g"),Hy=new RegExp("^"+_o+"*,"+_o+"*"),RC=new RegExp("^"+_o+"*([>+~]|"+_o+")"+_o+"*"),MC=new RegExp("="+_o+`*([^\\]'"]*?)`+_o+"*\\]","g"),PC=new RegExp(Fy),zy=new RegExp("^"+Rs+"$"),nm={ID:new RegExp("^#("+Rs+")"),CLASS:new RegExp("^\\.("+Rs+")"),TAG:new RegExp("^("+Rs+"|[*])"),ATTR:new RegExp("^"+Mf),PSEUDO:new RegExp("^"+Fy),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_o+"*(even|odd|(([+-]|)(\\d*)n|)"+_o+"*(?:([+-]|)"+_o+"*(\\d+)|))"+_o+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+_o+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_o+"*((?:-\\d)?\\d*)"+_o+"*\\)|)(?=[^-]|$)","i")},oo=/^(?:input|select|textarea|button)$/i,$o=/^h\d$/i,os=/^[^{]+\{\s*\[native \w/,Ek=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ms=/[+~]/,Ok=/'|\\/g,Dl=new RegExp("\\\\([\\da-f]{1,6}"+_o+"?|("+_o+")|.)","ig");try{Al.apply(lc=zh.call(Ni.childNodes),Ni.childNodes),lc[Ni.childNodes.length].nodeType}catch{Al={apply:lc.length?function(n,r){kk.apply(n,zh.call(r))}:function(n,r){for(var a=n.length,s=0;n[a++]=r[s++];);n.length=a-1}}}var to=function(t,n,r,a){var s,l,d,m,h,p,x,y,_,E;if((n?n.ownerDocument||n:Ni)!==zi&&_u(n),r=r||[],!t||typeof t!="string")return r;if((m=(n=n||zi).nodeType)!==1&&m!==9)return[];if(cc&&!a){if(s=Ek.exec(t))if(d=s[1]){if(m===9){if(!(l=n.getElementById(d))||!l.parentNode)return r;if(l.id===d)return r.push(l),r}else if(n.ownerDocument&&(l=n.ownerDocument.getElementById(d))&&hg(n,l)&&l.id===d)return r.push(l),r}else{if(s[2])return Al.apply(r,n.getElementsByTagName(t)),r;if((d=s[3])&&Vr.getElementsByClassName)return Al.apply(r,n.getElementsByClassName(d)),r}if(Vr.qsa&&(!es||!es.test(t))){if(y=x=Di,_=n,E=m===9&&t,m===1&&n.nodeName.toLowerCase()!=="object"){for(p=Bf(t),(x=n.getAttribute("id"))?y=x.replace(Ok,"\\$&"):n.setAttribute("id",y),y="[id='"+y+"'] ",h=p.length;h--;)p[h]=y+Vh(p[h]);_=Ms.test(t)&&bg(n.parentNode)||n,E=p.join(",")}if(E)try{return Al.apply(r,_.querySelectorAll(E)),r}catch{}finally{x||n.removeAttribute("id")}}}return Wc(t.replace(vg,"$1"),n,r,a)};function Vy(){var t=[];function n(r,a){return t.push(r+" ")>Bn.cacheLength&&delete n[t.shift()],n[r+" "]=a}return n}function Ps(t){return t[Di]=!0,t}function IC(t,n){var r=n&&t,a=r&&t.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(a)return a;if(r){for(;r=r.nextSibling;)if(r===n)return-1}return t?1:-1}function Nl(t){return Ps(function(n){return n=+n,Ps(function(r,a){for(var s,l=t([],r.length,n),d=l.length;d--;)r[s=l[d]]&&(r[s]=!(a[s]=r[s]))})})}function bg(t){return t&&typeof t.getElementsByTagName!=Lh&&t}function Pf(){}function Vh(t){for(var n=0,r=t.length,a="";n<r;n++)a+=t[n].value;return a}function jy(t,n,r){var a=n.dir,s=r&&a==="parentNode",l=Ly++;return n.first?function(d,m,h){for(;d=d[a];)if(d.nodeType===1||s)return t(d,m,h)}:function(d,m,h){var p,x,y=[ns,l];if(h){for(;d=d[a];)if((d.nodeType===1||s)&&t(d,m,h))return!0}else for(;d=d[a];)if(d.nodeType===1||s){if((p=(x=d[Di]||(d[Di]={}))[a])&&p[0]===ns&&p[1]===l)return y[2]=p[2];if((x[a]=y)[2]=t(d,m,h))return!0}}}function yg(t){return 1<t.length?function(n,r,a){for(var s=t.length;s--;)if(!t[s](n,r,a))return!1;return!0}:t[0]}function xg(t,n,r,a,s){for(var l,d=[],m=0,h=t.length,p=n!=null;m<h;m++)(l=t[m])&&(r&&!r(l,a,s)||(d.push(l),p&&n.push(m)));return d}function Ba(t){return t!==void 0}function ca(t){return typeof t=="string"}function LC(t,n){var r,a=(n=n||Uy).createElement("div"),s=n.createDocumentFragment();for(a.innerHTML=t;r=a.firstChild;)s.appendChild(r);return s}function Bl(t,n){return t&&n&&(" "+t.className+" ").indexOf(" "+n+" ")!==-1}function FC(t,n,r){var a,s;return n=Ue(n)[0],t.each(function(){r&&a===this.parentNode||(a=this.parentNode,s=n.cloneNode(!1),this.parentNode.insertBefore(s,this)),s.appendChild(this)}),t}function Ra(t,n){return new Ue.fn.init(t,n)}function HC(t){return t==null?"":(""+t).replace($y,"")}function or(t,n){var r,a,s,l;if(t)if((r=t.length)===void 0){for(a in t)if(t.hasOwnProperty(a)&&(l=t[a],n.call(l,a,l)===!1))break}else for(s=0;s<r&&(l=t[s],n.call(l,s,l)!==!1);s++);return t}function Ja(t,n){var r=[];return or(t,function(a,s){n(s,a)&&r.push(s)}),r}Vr=to.support={},Ph=to.isXML=function(t){var n=t&&(t.ownerDocument||t).documentElement;return!!n&&n.nodeName!=="HTML"},_u=to.setDocument=function(t){var n,r=t?t.ownerDocument||t:Ni,a=r.defaultView;return r!==zi&&r.nodeType===9&&r.documentElement?(Ol=(zi=r).documentElement,cc=!Ph(r),a&&a!==(function(s){try{return s.top}catch{}return null})(a)&&(a.addEventListener?a.addEventListener("unload",function(){_u()},!1):a.attachEvent&&a.attachEvent("onunload",function(){_u()})),Vr.attributes=!0,Vr.getElementsByTagName=!0,Vr.getElementsByClassName=os.test(r.getElementsByClassName),Vr.getById=!0,Bn.find.ID=function(s,l){if(typeof l.getElementById!=Lh&&cc){var d=l.getElementById(s);return d&&d.parentNode?[d]:[]}},Bn.filter.ID=function(s){var l=s.replace(Dl,ts);return function(d){return d.getAttribute("id")===l}},Bn.find.TAG=Vr.getElementsByTagName?function(s,l){if(typeof l.getElementsByTagName!=Lh)return l.getElementsByTagName(s)}:function(s,l){var d,m=[],h=0,p=l.getElementsByTagName(s);if(s!=="*")return p;for(;d=p[h++];)d.nodeType===1&&m.push(d);return m},Bn.find.CLASS=Vr.getElementsByClassName&&function(s,l){if(cc)return l.getElementsByClassName(s)},tm=[],es=[],Vr.disconnectedMatch=!0,es=es.length&&new RegExp(es.join("|")),tm=tm.length&&new RegExp(tm.join("|")),n=os.test(Ol.compareDocumentPosition),hg=n||os.test(Ol.contains)?function(s,l){var d=s.nodeType===9?s.documentElement:s,m=l&&l.parentNode;return s===m||!(!m||m.nodeType!==1||!(d.contains?d.contains(m):s.compareDocumentPosition&&16&s.compareDocumentPosition(m)))}:function(s,l){if(l){for(;l=l.parentNode;)if(l===s)return!0}return!1},Rf=n?function(s,l){return s===l?(Zd=!0,0):(d=!s.compareDocumentPosition-!l.compareDocumentPosition)||(1&(d=(s.ownerDocument||s)===(l.ownerDocument||l)?s.compareDocumentPosition(l):1)||!Vr.sortDetached&&l.compareDocumentPosition(s)===d?s===r||s.ownerDocument===Ni&&hg(Ni,s)?-1:l===r||l.ownerDocument===Ni&&hg(Ni,l)?1:Bs?fc.call(Bs,s)-fc.call(Bs,l):0:4&d?-1:1);var d}:function(s,l){if(s===l)return Zd=!0,0;var d,m=0,h=s.parentNode,p=l.parentNode,x=[s],y=[l];if(!h||!p)return s===r?-1:l===r?1:h?-1:p?1:Bs?fc.call(Bs,s)-fc.call(Bs,l):0;if(h===p)return IC(s,l);for(d=s;d=d.parentNode;)x.unshift(d);for(d=l;d=d.parentNode;)y.unshift(d);for(;x[m]===y[m];)m++;return m?IC(x[m],y[m]):x[m]===Ni?-1:y[m]===Ni?1:0},r):zi},to.matches=function(t,n){return to(t,null,null,n)},to.matchesSelector=function(t,n){if((t.ownerDocument||t)!==zi&&_u(t),n=n.replace(MC,"='$1']"),Vr.matchesSelector&&cc&&(!tm||!tm.test(n))&&(!es||!es.test(n)))try{var r=(void 0).call(t,n);if(r||Vr.disconnectedMatch||t.document&&t.document.nodeType!==11)return r}catch{}return 0<to(n,zi,null,[t]).length},to.contains=function(t,n){return(t.ownerDocument||t)!==zi&&_u(t),hg(t,n)},to.attr=function(t,n){(t.ownerDocument||t)!==zi&&_u(t);var r=Bn.attrHandle[n.toLowerCase()],a=r&&Fh.call(Bn.attrHandle,n.toLowerCase())?r(t,n,!cc):void 0;return a!==void 0?a:Vr.attributes||!cc?t.getAttribute(n):(a=t.getAttributeNode(n))&&a.specified?a.value:null},to.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},to.uniqueSort=function(t){var n,r=[],a=0,s=0;if(Zd=!Vr.detectDuplicates,Bs=!Vr.sortStable&&t.slice(0),t.sort(Rf),Zd){for(;n=t[s++];)n===t[s]&&(a=r.push(s));for(;a--;)t.splice(r[a],1)}return Bs=null,t},Nf=to.getText=function(t){var n,r="",a=0,s=t.nodeType;if(s){if(s===1||s===9||s===11){if(typeof t.textContent=="string")return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)r+=Nf(t)}else if(s===3||s===4)return t.nodeValue}else for(;n=t[a++];)r+=Nf(n);return r},(Bn=to.selectors={cacheLength:50,createPseudo:Ps,match:nm,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Dl,ts),t[3]=(t[3]||t[4]||t[5]||"").replace(Dl,ts),t[2]==="~="&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),t[1].slice(0,3)==="nth"?(t[3]||to.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(t[3]==="even"||t[3]==="odd")),t[5]=+(t[7]+t[8]||t[3]==="odd")):t[3]&&to.error(t[0]),t},PSEUDO:function(t){var n,r=!t[6]&&t[2];return nm.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":r&&PC.test(r)&&(n=Bf(r,!0))&&(n=r.indexOf(")",r.length-n)-r.length)&&(t[0]=t[0].slice(0,n),t[2]=r.slice(0,n)),t.slice(0,3))}},filter:{TAG:function(t){var n=t.replace(Dl,ts).toLowerCase();return t==="*"?function(){return!0}:function(r){return r.nodeName&&r.nodeName.toLowerCase()===n}},CLASS:function(t){var n=Tl[t+" "];return n||(n=new RegExp("(^|"+_o+")"+t+"("+_o+"|$)"))&&Tl(t,function(r){return n.test(typeof r.className=="string"&&r.className||typeof r.getAttribute!=Lh&&r.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(a){var s=to.attr(a,t);return s==null?n==="!=":!n||(s+="",n==="="?s===r:n==="!="?s!==r:n==="^="?r&&s.indexOf(r)===0:n==="*="?r&&-1<s.indexOf(r):n==="$="?r&&s.slice(-r.length)===r:n==="~="?-1<(" "+s+" ").indexOf(r):n==="|="&&(s===r||s.slice(0,r.length+1)===r+"-"))}},CHILD:function(t,n,r,a,s){var l=t.slice(0,3)!=="nth",d=t.slice(-4)!=="last",m=n==="of-type";return a===1&&s===0?function(h){return!!h.parentNode}:function(h,p,x){var y,_,E,T,A,B,N=l!=d?"nextSibling":"previousSibling",P=h.parentNode,H=m&&h.nodeName.toLowerCase(),G=!x&&!m;if(P){if(l){for(;N;){for(E=h;E=E[N];)if(m?E.nodeName.toLowerCase()===H:E.nodeType===1)return!1;B=N=t==="only"&&!B&&"nextSibling"}return!0}if(B=[d?P.firstChild:P.lastChild],d&&G){for(A=(y=(_=P[Di]||(P[Di]={}))[t]||[])[0]===ns&&y[1],T=y[0]===ns&&y[2],E=A&&P.childNodes[A];E=++A&&E&&E[N]||(T=A=0)||B.pop();)if(E.nodeType===1&&++T&&E===h){_[t]=[ns,A,T];break}}else if(G&&(y=(h[Di]||(h[Di]={}))[t])&&y[0]===ns)T=y[1];else for(;(E=++A&&E&&E[N]||(T=A=0)||B.pop())&&((m?E.nodeName.toLowerCase()!==H:E.nodeType!==1)||!++T||(G&&((E[Di]||(E[Di]={}))[t]=[ns,T]),E!==h)););return(T-=s)===a||T%a==0&&0<=T/a}}},PSEUDO:function(t,n){var r,a=Bn.pseudos[t]||Bn.setFilters[t.toLowerCase()]||to.error("unsupported pseudo: "+t);return a[Di]?a(n):1<a.length?(r=[t,t,"",n],Bn.setFilters.hasOwnProperty(t.toLowerCase())?Ps(function(s,l){for(var d,m=a(s,n),h=m.length;h--;)s[d=fc.call(s,m[h])]=!(l[d]=m[h])}):function(s){return a(s,0,r)}):a}},pseudos:{not:Ps(function(t){var n=[],r=[],a=sc(t.replace(vg,"$1"));return a[Di]?Ps(function(s,l,d,m){for(var h,p=a(s,null,m,[]),x=s.length;x--;)(h=p[x])&&(s[x]=!(l[x]=h))}):function(s,l,d){return n[0]=s,a(n,null,d,r),n[0]=null,!r.pop()}}),has:Ps(function(t){return function(n){return 0<to(t,n).length}}),contains:Ps(function(t){return t=t.replace(Dl,ts),function(n){return-1<(n.textContent||n.innerText||Nf(n)).indexOf(t)}}),lang:Ps(function(t){return zy.test(t||"")||to.error("unsupported lang: "+t),t=t.replace(Dl,ts).toLowerCase(),function(n){var r;do if(r=cc?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return(r=r.toLowerCase())===t||r.indexOf(t+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(t){var n=window.location&&window.location.hash;return n&&n.slice(1)===t.id},root:function(t){return t===Ol},focus:function(t){return t===zi.activeElement&&(!zi.hasFocus||zi.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var n=t.nodeName.toLowerCase();return n==="input"&&!!t.checked||n==="option"&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!Bn.pseudos.empty(t)},header:function(t){return $o.test(t.nodeName)},input:function(t){return oo.test(t.nodeName)},button:function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type==="button"||n==="button"},text:function(t){var n;return t.nodeName.toLowerCase()==="input"&&t.type==="text"&&((n=t.getAttribute("type"))==null||n.toLowerCase()==="text")},first:Nl(function(){return[0]}),last:Nl(function(t,n){return[n-1]}),eq:Nl(function(t,n,r){return[r<0?r+n:r]}),even:Nl(function(t,n){for(var r=0;r<n;r+=2)t.push(r);return t}),odd:Nl(function(t,n){for(var r=1;r<n;r+=2)t.push(r);return t}),lt:Nl(function(t,n,r){for(var a=r<0?r+n:r;0<=--a;)t.push(a);return t}),gt:Nl(function(t,n,r){for(var a=r<0?r+n:r;++a<n;)t.push(a);return t})}}).pseudos.nth=Bn.pseudos.eq,gt(["radio","checkbox","file","password","image"],function(t){var n;Bn.pseudos[t]=(n=t,function(r){return r.nodeName.toLowerCase()==="input"&&r.type===n})}),gt(["submit","reset"],function(t){var n;Bn.pseudos[t]=(n=t,function(r){var a=r.nodeName.toLowerCase();return(a==="input"||a==="button")&&r.type===n})}),Pf.prototype=Bn.filters=Bn.pseudos,Bn.setFilters=new Pf,Bf=to.tokenize=function(t,n){var r,a,s,l,d,m,h,p=Na[t+" "];if(p)return n?0:p.slice(0);for(d=t,m=[],h=Bn.preFilter;d;){for(l in r&&!(a=Hy.exec(d))||(a&&(d=d.slice(a[0].length)||d),m.push(s=[])),r=!1,(a=RC.exec(d))&&(r=a.shift(),s.push({value:r,type:a[0].replace(vg," ")}),d=d.slice(r.length)),Bn.filter)Bn.filter.hasOwnProperty(l)&&(!(a=nm[l].exec(d))||h[l]&&!(a=h[l](a))||(r=a.shift(),s.push({value:r,type:l,matches:a}),d=d.slice(r.length)));if(!r)break}return n?d.length:d?to.error(t):Na(t,m).slice(0)},sc=to.compile=function(t,n){var r,a,s,l,d,m=[],h=[],p=em[t+" "];if(!p){for(r=(n=n||Bf(t)).length;r--;)((p=(function y(_){for(var E,T,A,B=_.length,N=Bn.relative[_[0].type],P=N||Bn.relative[" "],H=N?1:0,G=jy(function($){return $===E},P,!0),Z=jy(function($){return-1<fc.call(E,$)},P,!0),V=[function($,X,it){var dt=!N&&(it||X!==Ih)||((E=X).nodeType?G:Z)($,X,it);return E=null,dt}];H<B;H++)if(T=Bn.relative[_[H].type])V=[jy(yg(V),T)];else{if((T=Bn.filter[_[H].type].apply(null,_[H].matches))[Di]){for(A=++H;A<B&&!Bn.relative[_[A].type];A++);return(function $(X,it,dt,wt,bt,tt){return wt&&!wt[Di]&&(wt=$(wt)),bt&&!bt[Di]&&(bt=$(bt,tt)),Ps(function(et,at,ft,It){var Wt,Pt,jt,Ht=[],Ut=[],zt=at.length,te=et||(function(Ft,ie,re){for(var Ye=0,Y=ie.length;Ye<Y;Ye++)to(Ft,ie[Ye],re);return re})(it||"*",ft.nodeType?[ft]:ft,[]),At=!X||!et&&it?te:xg(te,Ht,X,ft,It),Yt=dt?bt||(et?X:zt||wt)?[]:at:At;if(dt&&dt(At,Yt,ft,It),wt)for(Wt=xg(Yt,Ut),wt(Wt,[],ft,It),Pt=Wt.length;Pt--;)(jt=Wt[Pt])&&(Yt[Ut[Pt]]=!(At[Ut[Pt]]=jt));if(et){if(bt||X){if(bt){for(Wt=[],Pt=Yt.length;Pt--;)(jt=Yt[Pt])&&Wt.push(At[Pt]=jt);bt(null,Yt=[],Wt,It)}for(Pt=Yt.length;Pt--;)(jt=Yt[Pt])&&-1<(Wt=bt?fc.call(et,jt):Ht[Pt])&&(et[Wt]=!(at[Wt]=jt))}}else Yt=xg(Yt===at?Yt.splice(zt,Yt.length):Yt),bt?bt(null,at,Yt,It):Al.apply(at,Yt)})})(1<H&&yg(V),1<H&&Vh(_.slice(0,H-1).concat({value:_[H-2].type===" "?"*":""})).replace(vg,"$1"),T,H<A&&y(_.slice(H,A)),A<B&&y(_=_.slice(A)),A<B&&Vh(_))}V.push(T)}return yg(V)})(n[r]))[Di]?m:h).push(p);(p=em(t,(a=h,l=0<(s=m).length,d=0<a.length,l?Ps(x):x))).selector=t}function x(y,_,E,T,A){var B,N,P,H=0,G="0",Z=y&&[],V=[],$=Ih,X=y||d&&Bn.find.TAG("*",A),it=ns+=$==null?1:Math.random()||.1,dt=X.length;for(A&&(Ih=_!==zi&&_);G!==dt&&(B=X[G])!=null;G++){if(d&&B){for(N=0;P=a[N++];)if(P(B,_,E)){T.push(B);break}A&&(ns=it)}l&&((B=!P&&B)&&H--,y&&Z.push(B))}if(H+=G,l&&G!==H){for(N=0;P=s[N++];)P(Z,V,_,E);if(y){if(0<H)for(;G--;)Z[G]||V[G]||(V[G]=Hh.call(T));V=xg(V)}Al.apply(T,V),A&&!y&&0<V.length&&1<H+s.length&&to.uniqueSort(T)}return A&&(ns=it,Ih=$),Z}return p},Wc=to.select=function(t,n,r,a){var s,l,d,m,h,p=typeof t=="function"&&t,x=!a&&Bf(t=p.selector||t);if(r=r||[],x.length===1){if(2<(l=x[0]=x[0].slice(0)).length&&(d=l[0]).type==="ID"&&Vr.getById&&n.nodeType===9&&cc&&Bn.relative[l[1].type]){if(!(n=(Bn.find.ID(d.matches[0].replace(Dl,ts),n)||[])[0]))return r;p&&(n=n.parentNode),t=t.slice(l.shift().value.length)}for(s=nm.needsContext.test(t)?0:l.length;s--&&(d=l[s],!Bn.relative[m=d.type]);)if((h=Bn.find[m])&&(a=h(d.matches[0].replace(Dl,ts),Ms.test(l[0].type)&&bg(n.parentNode)||n))){if(l.splice(s,1),!(t=a.length&&Vh(l)))return Al.apply(r,a),r;break}}return(p||sc(t,x))(a,n,!cc,r,Ms.test(t)&&bg(n.parentNode)||n),r},Vr.sortStable=Di.split("").sort(Rf).join("")===Di,Vr.detectDuplicates=!!Zd,_u(),Vr.sortDetached=!0;var Uy=document,jh=Array.prototype.push,zC=Array.prototype.slice,VC=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Rl=Ka.Event,pr=Ct.makeMap("children,contents,next,prev"),la=function(t,n,r,a){var s;if(ca(n))n=LC(n,qy(t[0]));else if(n.length&&!n.nodeType){if(n=Ue.makeArray(n),a)for(s=n.length-1;0<=s;s--)la(t,n[s],r,a);else for(s=0;s<n.length;s++)la(t,n[s],r,a);return t}if(n.nodeType)for(s=t.length;s--;)r.call(t[s],n);return t},jC=Ct.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),om=Ct.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),rm={for:"htmlFor",class:"className",readonly:"readOnly"},If={float:"cssFloat"},Wy={},wg={},$y=/^\s*|\s*$/g,qy=function(t){return t?t.nodeType===9?t:t.ownerDocument:Uy};function UC(t,n,r){var a=[],s=t[n];for(typeof r!="string"&&r instanceof Ue&&(r=r[0]);s&&s.nodeType!==9&&!(r!==void 0&&(s===r||typeof r=="string"&&Ue(s).is(r)));)s.nodeType===1&&a.push(s),s=s[n];return a}function Uh(t,n,r,a){var s=[];for(a instanceof Ue&&(a=a[0]);t;t=t[n])if(!r||t.nodeType===r){if(a!==void 0&&(t===a||typeof a=="string"&&Ue(t).is(a)))break;s.push(t)}return s}function Wh(t,n,r){for(t=t[n];t;t=t[n])if(t.nodeType===r)return t;return null}function Cg(t,n){var r=n.attr("style"),a=t.serialize(t.parse(r),n[0].nodeName)||null;n.attr("data-mce-style",a)}function rs(t,n){var r,a,s=0;if(t)for(r=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)a=t.nodeType,(!n||a!==3||a!==r&&t.nodeValue.length)&&(s++,r=a);return s}Ra.fn=Ra.prototype={constructor:Ra,selector:"",context:null,length:0,init:function(t,n){var r,a,s=this;if(!t)return s;if(t.nodeType)return s.context=s[0]=t,s.length=1,s;if(n&&n.nodeType)s.context=n;else{if(n)return Ue(t).attr(n);s.context=n=document}if(ca(t)){if(!(r=(s.selector=t).charAt(0)==="<"&&t.charAt(t.length-1)===">"&&3<=t.length?[null,t,null]:VC.exec(t)))return Ue(n).find(t);if(r[1])for(a=LC(t,qy(n)).firstChild;a;)jh.call(s,a),a=a.nextSibling;else{if(!(a=qy(n).getElementById(r[2])))return s;if(a.id!==r[2])return s.find(t);s.length=1,s[0]=a}}else this.add(t,!1);return s},toArray:function(){return Ct.toArray(this)},add:function(t,n){var r,a;if(ca(t))return this.add(Ue(t));if(n!==!1)for(r=Ue.unique(this.toArray().concat(Ue.makeArray(t))),this.length=r.length,a=0;a<r.length;a++)this[a]=r[a];else jh.apply(this,Ue.makeArray(t));return this},attr:function(t,n){var r,a=this;if(typeof t=="object")or(t,function(s,l){a.attr(s,l)});else{if(!Ba(n)){if(a[0]&&a[0].nodeType===1){if((r=Wy[t])&&r.get)return r.get(a[0],t);if(om[t])return a.prop(t)?t:void 0;(n=a[0].getAttribute(t,2))===null&&(n=void 0)}return n}this.each(function(){var s;this.nodeType===1&&((s=Wy[t])&&s.set?s.set(this,n):n===null?this.removeAttribute(t,2):this.setAttribute(t,n,2))})}return a},removeAttr:function(t){return this.attr(t,null)},prop:function(t,n){var r=this;if(typeof(t=rm[t]||t)=="object")or(t,function(a,s){r.prop(a,s)});else{if(!Ba(n))return r[0]&&r[0].nodeType&&t in r[0]?r[0][t]:n;this.each(function(){this.nodeType===1&&(this[t]=n)})}return r},css:function(t,n){function r(m){return m.replace(/-(\D)/g,function(h,p){return p.toUpperCase()})}function a(m){return m.replace(/[A-Z]/g,function(h){return"-"+h})}var s,l,d=this;if(typeof t=="object")or(t,function(m,h){d.css(m,h)});else if(Ba(n))t=r(t),typeof n!="number"||jC[t]||(n=n.toString()+"px"),d.each(function(){var m=this.style;if((l=wg[t])&&l.set)l.set(this,n);else{try{this.style[If[t]||t]=n}catch{}n!==null&&n!==""||(m.removeProperty?m.removeProperty(a(t)):m.removeAttribute(t))}});else{if(s=d[0],(l=wg[t])&&l.get)return l.get(s);if(!s.ownerDocument.defaultView)return s.currentStyle?s.currentStyle[r(t)]:"";try{return s.ownerDocument.defaultView.getComputedStyle(s,null).getPropertyValue(a(t))}catch{return}}return d},remove:function(){for(var t,n=this.length;n--;)t=this[n],Rl.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,n=this.length;n--;)for(t=this[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var n;if(Ba(t)){n=this.length;try{for(;n--;)this[n].innerHTML=t}catch{Ue(this[n]).empty().append(t)}return this}return this[0]?this[0].innerHTML:""},text:function(t){var n;if(Ba(t)){for(n=this.length;n--;)"innerText"in this[n]?this[n].innerText=t:this[0].textContent=t;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return la(this,arguments,function(t){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(t)})},prepend:function(){return la(this,arguments,function(t){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?la(this,arguments,function(t){this.parentNode.insertBefore(t,this)}):this},after:function(){return this[0]&&this[0].parentNode?la(this,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):this},appendTo:function(t){return Ue(t).append(this),this},prependTo:function(t){return Ue(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return FC(this,t)},wrapAll:function(t){return FC(this,t,!0)},wrapInner:function(t){return this.each(function(){Ue(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){Ue(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),Ue(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,n){var r=this;return typeof t!="string"||(t.indexOf(" ")!==-1?or(t.split(" "),function(){r.toggleClass(this,n)}):r.each(function(a,s){var l,d=Bl(s,t);d!==n&&(l=s.className,d?s.className=HC((" "+l+" ").replace(" "+t+" "," ")):s.className+=l?" "+t:t)})),r},hasClass:function(t){return Bl(this[0],t)},each:function(t){return or(this,t)},on:function(t,n){return this.each(function(){Rl.bind(this,t,n)})},off:function(t,n){return this.each(function(){Rl.unbind(this,t,n)})},trigger:function(t){return this.each(function(){typeof t=="object"?Rl.fire(this,t.type,t):Rl.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Ue(zC.apply(this,arguments))},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){for(var n=[],r=0,a=this.length;r<a;r++)Ue.find(t,this[r],n);return Ue(n)},filter:function(t){return Ue(typeof t=="function"?Ja(this.toArray(),function(n,r){return t(r,n)}):Ue.filter(t,this.toArray()))},closest:function(t){var n=[];return t instanceof Ue&&(t=t[0]),this.each(function(r,a){for(;a;){if(typeof t=="string"&&Ue(a).is(t)){n.push(a);break}if(a===t){n.push(a);break}a=a.parentNode}}),Ue(n)},offset:function(t){var n,r,a,s,l=0,d=0;return t?this.css(t):((n=this[0])&&(a=(r=n.ownerDocument).documentElement,n.getBoundingClientRect&&(l=(s=n.getBoundingClientRect()).left+(a.scrollLeft||r.body.scrollLeft)-a.clientLeft,d=s.top+(a.scrollTop||r.body.scrollTop)-a.clientTop)),{left:l,top:d})},push:jh,sort:Array.prototype.sort,splice:Array.prototype.splice},Ct.extend(Ra,{extend:Ct.extend,makeArray:function(t){return t&&t===t.window||t.nodeType?[t]:Ct.toArray(t)},inArray:function(t,n){var r;if(n.indexOf)return n.indexOf(t);for(r=n.length;r--;)if(n[r]===t)return r;return-1},isArray:Ct.isArray,each:or,trim:HC,grep:Ja,find:to,expr:to.selectors,unique:to.uniqueSort,text:to.getText,contains:to.contains,filter:function(t,n,r){var a=n.length;for(r&&(t=":not("+t+")");a--;)n[a].nodeType!==1&&n.splice(a,1);return n.length===1?Ue.find.matchesSelector(n[0],t)?[n[0]]:[]:Ue.find.matches(t,n)}}),or({parent:function(t){var n=t.parentNode;return n&&n.nodeType!==11?n:null},parents:function(t){return UC(t,"parentNode")},next:function(t){return Wh(t,"nextSibling",1)},prev:function(t){return Wh(t,"previousSibling",1)},children:function(t){return Uh(t.firstChild,"nextSibling",1)},contents:function(t){return Ct.toArray((t.nodeName==="iframe"?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,n){Ra.fn[t]=function(r){var a=[];this.each(function(){var l=n.call(a,this,r,a);l&&(Ue.isArray(l)?a.push.apply(a,l):a.push(l))}),1<this.length&&(pr[t]||(a=Ue.unique(a)),t.indexOf("parents")===0&&(a=a.reverse()));var s=Ue(a);return r?s.filter(r):s}}),or({parentsUntil:function(t,n){return UC(t,"parentNode",n)},nextUntil:function(t,n){return Uh(t,"nextSibling",1,n).slice(1)},prevUntil:function(t,n){return Uh(t,"previousSibling",1,n).slice(1)}},function(t,n){Ra.fn[t]=function(r,a){var s=[];this.each(function(){var d=n.call(s,this,r,s);d&&(Ue.isArray(d)?s.push.apply(s,d):s.push(d))}),1<this.length&&(s=Ue.unique(s),t.indexOf("parents")!==0&&t!=="prevUntil"||(s=s.reverse()));var l=Ue(s);return a?l.filter(a):l}}),Ra.fn.is=function(t){return!!t&&0<this.filter(t).length},Ra.fn.init.prototype=Ra.fn,Ra.overrideDefaults=function(t){var n,r=function(a,s){return n=n||t(),arguments.length===0&&(a=n.element),s=s||n.context,new r.fn.init(a,s)};return Ue.extend(r,this),r},Ra.attrHooks=Wy,Ra.cssHooks=wg;var Ue=Ra,yn=Ct.each,Ma=Ct.grep,$c=Te.ie,Gy=/^([a-z0-9],?)+$/i,Re=function(t,n){function r(Y){return Y&&t&&Dn(Y)?t.getElementById(Y):Y}function a(Y){return At(typeof Y=="string"?r(Y):Y)}function s(Y,nt,St){var Mt,Dt,qt=a(Y);return(Dt=qt.length?(Mt=Ye[nt])&&Mt.get?Mt.get(qt,nt):qt.attr(nt):Dt)===void 0?St||"":Dt}function l(Y){var nt=r(Y);return nt?nt.attributes:[]}function d(Y,nt,St){St===""&&(St=null);var Mt,Dt=a(Y),qt=Dt.attr(nt);Dt.length&&((Mt=Ye[nt])&&Mt.set?Mt.set(Dt,St,nt):Dt.attr(nt,St),qt!==St&&n.onSetAttrib&&n.onSetAttrib({attrElm:Dt,attrName:nt,attrValue:St}))}function m(){return n.root_element||t.body}function h(Y,nt){return(function(St,Mt,Dt){var qt,xe=0,Oe=0,Kn=St.ownerDocument;if(Dt=Dt||St,Mt){if(Dt===St&&Mt.getBoundingClientRect&&Ku(lt.fromDom(St),"position")==="static"){var Ve=Mt.getBoundingClientRect();return{x:xe=Ve.left+(Kn.documentElement.scrollLeft||St.scrollLeft)-Kn.documentElement.clientLeft,y:Oe=Ve.top+(Kn.documentElement.scrollTop||St.scrollTop)-Kn.documentElement.clientTop}}for(var Se=Mt;Se&&Se!==Dt&&Se.nodeType&&!Th(Se,Dt);){var xn=Se;xe+=xn.offsetLeft||0,Oe+=xn.offsetTop||0,Se=xn.offsetParent}for(Se=Mt.parentNode;Se&&Se!==Dt&&Se.nodeType&&!Th(Se,Dt);)xe-=Se.scrollLeft||0,Oe-=Se.scrollTop||0,Se=Se.parentNode;Oe+=(qt=lt.fromDom(Mt),ra.isFirefox()&&Ho(qt)==="table"?wf(mo(qt)).filter(function(Ro){return Ho(Ro)==="caption"}).bind(function(Ro){return wf(vf(Ro)).map(function(ai){var hi=ai.dom.offsetTop,lr=Ro.dom.offsetTop,ui=Ro.dom.offsetHeight;return hi<=lr?-ui:0})}).getOr(0):0)}return{x:xe,y:Oe}})(t.body,r(Y),nt)}function p(Y,nt,St){var Mt=a(Y);return St?Mt.css(nt):((nt=nt.replace(/-(\D)/g,function(Dt,qt){return qt.toUpperCase()}))==="float"&&(nt=Te.browser.isIE()?"styleFloat":"cssFloat"),Mt[0]&&Mt[0].style?Mt[0].style[nt]:void 0)}function x(Y){var nt=p(Y=r(Y),"width"),St=p(Y,"height");return nt.indexOf("px")===-1&&(nt=0),St.indexOf("px")===-1&&(St=0),{w:parseInt(nt,10)||Y.offsetWidth||Y.clientWidth,h:parseInt(St,10)||Y.offsetHeight||Y.clientHeight}}function y(Y,nt){if(!Y)return!1;if(!Array.isArray(Y)){if(nt==="*")return Y.nodeType===1;if(Gy.test(nt)){for(var St=nt.toLowerCase().split(/,/),Mt=Y.nodeName.toLowerCase(),Dt=St.length-1;0<=Dt;Dt--)if(St[Dt]===Mt)return!0;return!1}if(Y.nodeType&&Y.nodeType!==1)return!1}var qt=Array.isArray(Y)?Y:[Y];return 0<to(nt,qt[0].ownerDocument||qt[0],null,qt).length}function _(Y,nt,St,Mt){var Dt,qt=[],xe=r(Y);for(Mt=Mt===void 0,St=St||(m().nodeName!=="BODY"?m().parentNode:null),Ct.is(nt,"string")&&(nt=(Dt=nt)==="*"?function(Oe){return Oe.nodeType===1}:function(Oe){return y(Oe,Dt)});xe&&!(xe===St||$r(xe.nodeType)||tc(xe)||_f(xe));){if(!nt||typeof nt=="function"&&nt(xe)){if(!Mt)return[xe];qt.push(xe)}xe=xe.parentNode}return Mt?qt:null}function E(Y,nt,St){var Mt=nt;if(Y){for(typeof nt=="string"&&(Mt=function(Dt){return y(Dt,nt)}),Y=Y[St];Y;Y=Y[St])if(typeof Mt=="function"&&Mt(Y))return Y}return null}function T(Y,nt,St){var Mt,Dt=typeof Y=="string"?r(Y):Y;return!!Dt&&(Ct.isArray(Dt)&&(Dt.length||Dt.length===0)?(Mt=[],yn(Dt,function(qt,xe){qt&&Mt.push(nt.call(St,typeof qt=="string"?r(qt):qt,xe))}),Mt):nt.call(St||this,Dt))}function A(Y,nt){a(Y).each(function(St,Mt){yn(nt,function(Dt,qt){d(Mt,qt,Dt)})})}function B(Y,nt){var St=a(Y);$c?St.each(function(Mt,Dt){if(Dt.canHaveHTML!==!1){for(;Dt.firstChild;)Dt.removeChild(Dt.firstChild);try{Dt.innerHTML="<br>"+nt,Dt.removeChild(Dt.firstChild)}catch{Ue("<div></div>").html("<br>"+nt).contents().slice(1).appendTo(Dt)}return nt}}):St.html(nt)}function N(Y,nt,St,Mt,Dt){return T(Y,function(qt){var xe=typeof nt=="string"?t.createElement(nt):nt;return A(xe,St),Mt&&(typeof Mt!="string"&&Mt.nodeType?xe.appendChild(Mt):typeof Mt=="string"&&B(xe,Mt)),Dt?xe:qt.appendChild(xe)})}function P(Y,nt,St){return N(t.createElement(Y),Y,nt,St,!0)}function H(Y,nt){var St=a(Y);return(nt?St.each(function(){for(var Mt;Mt=this.firstChild;)Mt.nodeType===3&&Mt.data.length===0?this.removeChild(Mt):this.parentNode.insertBefore(Mt,this)}):St).remove(),1<St.length?St.toArray():St[0]}function G(Y,nt,St){a(Y).toggleClass(nt,St).each(function(){this.className===""&&Ue(this).attr("class",null)})}function Z(Y,nt,St){return T(nt,function(Mt){return Ct.is(Mt,"array")&&(Y=Y.cloneNode(!0)),St&&yn(Ma(Mt.childNodes),function(Dt){Y.appendChild(Dt)}),Mt.parentNode.replaceChild(Y,Mt)})}function V(Y){if(Ae(Y)){var nt=Y.nodeName.toLowerCase()==="a"&&!s(Y,"href")&&s(Y,"id");return s(Y,"name")||s(Y,"data-mce-bookmark")||nt?1:void 0}}function $(){return t.createRange()}function X(Y){if(Y&&Ae(Y)){var nt=Y.getAttribute("data-mce-contenteditable");return nt&&nt!=="inherit"?nt:Y.contentEditable!=="inherit"?Y.contentEditable:null}return null}n===void 0&&(n={});var it,dt,wt,bt,tt,et,at={},ft=window,It={},Wt=0,Pt=Gd.forElement(lt.fromDom(t),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),jt=[],Ht=n.schema||nc({}),Ut=Qo({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),zt=n.ownEvents?new Ka:Ka.Event,te=Ht.getBlockElements(),At=Ue.overrideDefaults(function(){return{context:t,element:re.getRoot()}}),Yt=Ns.encodeAllRaw,Ft=function(Y,nt,St,Mt){if(Ct.isArray(Y)){for(var Dt=Y.length,qt=[];Dt--;)qt[Dt]=Ft(Y[Dt],nt,St,Mt);return qt}return!n.collect||Y!==t&&Y!==ft||jt.push([Y,nt,St,Mt]),zt.bind(Y,nt,St,Mt||re)},ie=function(Y,nt,St){if(Ct.isArray(Y)){for(var Mt=Y.length,Dt=[];Mt--;)Dt[Mt]=ie(Y[Mt],nt,St);return Dt}if(0<jt.length&&(Y===t||Y===ft))for(Mt=jt.length;Mt--;){var qt=jt[Mt];Y!==qt[0]||nt&&nt!==qt[1]||St&&St!==qt[2]||zt.unbind(qt[0],qt[1],qt[2])}return zt.unbind(Y,nt,St)},re={doc:t,settings:n,win:ft,files:It,stdMode:!0,boxModel:!0,styleSheetLoader:Pt,boundEvents:jt,styles:Ut,schema:Ht,events:zt,isBlock:function(Y){if(typeof Y=="string")return!!te[Y];if(Y){var nt=Y.nodeType;if(nt)return!(nt!==1||!te[Y.nodeName])}return!1},$:At,$$:a,root:null,clone:function(Y,nt){if(!$c||Y.nodeType!==1||nt)return Y.cloneNode(nt);var St=t.createElement(Y.nodeName);return yn(l(Y),function(Mt){d(St,Mt.nodeName,s(Y,Mt.nodeName))}),St},getRoot:m,getViewPort:function(Y){var nt=sg(Y);return{x:nt.x,y:nt.y,w:nt.width,h:nt.height}},getRect:function(Y){var nt=h(Y=r(Y)),St=x(Y);return{x:nt.x,y:nt.y,w:St.w,h:St.h}},getSize:x,getParent:function(Y,nt,St){var Mt=_(Y,nt,St,!1);return Mt&&0<Mt.length?Mt[0]:null},getParents:_,get:r,getNext:function(Y,nt){return E(Y,nt,"nextSibling")},getPrev:function(Y,nt){return E(Y,nt,"previousSibling")},select:function(Y,nt){return to(Y,r(nt)||n.root_element||t,[])},is:y,add:N,create:P,createHTML:function(Y,nt,St){var Mt,Dt="";for(Mt in Dt+="<"+Y,nt)_r(nt,Mt)&&(Dt+=" "+Mt+'="'+Yt(nt[Mt])+'"');return St!==void 0?Dt+">"+St+"</"+Y+">":Dt+" />"},createFragment:function(Y){var nt,St=t.createElement("div"),Mt=t.createDocumentFragment();for(Mt.appendChild(St),Y&&(St.innerHTML=Y);nt=St.firstChild;)Mt.appendChild(nt);return Mt.removeChild(St),Mt},remove:H,setStyle:function(Y,nt,St){var Mt=Dn(nt)?a(Y).css(nt,St):a(Y).css(nt);n.update_styles&&Cg(Ut,Mt)},getStyle:p,setStyles:function(Y,nt){var St=a(Y).css(nt);n.update_styles&&Cg(Ut,St)},removeAllAttribs:function(Y){return T(Y,function(nt){for(var St=nt.attributes,Mt=St.length-1;0<=Mt;Mt--)nt.removeAttributeNode(St.item(Mt))})},setAttrib:d,setAttribs:A,getAttrib:s,getPos:h,parseStyle:function(Y){return Ut.parse(Y)},serializeStyle:function(Y,nt){return Ut.serialize(Y,nt)},addStyle:function(Y){var nt,St;if(re!==Re.DOM&&t===document){if(at[Y])return;at[Y]=!0}(St=t.getElementById("mceDefaultStyles"))||((St=t.createElement("style")).id="mceDefaultStyles",St.type="text/css",(nt=t.getElementsByTagName("head")[0]).firstChild?nt.insertBefore(St,nt.firstChild):nt.appendChild(St)),St.styleSheet?St.styleSheet.cssText+=Y:St.appendChild(t.createTextNode(Y))},loadCSS:function(Y){gt((Y=Y||"").split(","),function(nt){It[nt]=!0,Pt.load(nt,ne)})},addClass:function(Y,nt){a(Y).addClass(nt)},removeClass:function(Y,nt){G(Y,nt,!1)},hasClass:function(Y,nt){return a(Y).hasClass(nt)},toggleClass:G,show:function(Y){a(Y).show()},hide:function(Y){a(Y).hide()},isHidden:function(Y){return a(Y).css("display")==="none"},uniqueId:function(Y){return(Y||"mce_")+Wt++},setHTML:B,getOuterHTML:function(Y){var nt=typeof Y=="string"?r(Y):Y;return Ae(nt)?nt.outerHTML:Ue("<div></div>").append(Ue(nt).clone()).html()},setOuterHTML:function(Y,nt){a(Y).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=nt)}catch{}H(Ue(this).html(nt),!0)})},decode:Ns.decode,encode:Yt,insertAfter:function(Y,nt){var St=r(nt);return T(Y,function(Mt){var Dt=St.parentNode,qt=St.nextSibling;return qt?Dt.insertBefore(Mt,qt):Dt.appendChild(Mt),Mt})},replace:Z,rename:function(Y,nt){var St;return Y.nodeName!==nt.toUpperCase()&&(St=P(nt),yn(l(Y),function(Mt){d(St,Mt.nodeName,s(Y,Mt.nodeName))}),Z(St,Y,!0)),St||Y},findCommonAncestor:function(Y,nt){for(var St,Mt=Y;Mt;){for(St=nt;St&&Mt!==St;)St=St.parentNode;if(Mt===St)break;Mt=Mt.parentNode}return!Mt&&Y.ownerDocument?Y.ownerDocument.documentElement:Mt},toHex:function(Y){return Ut.toHex(Ct.trim(Y))},run:T,getAttribs:l,isEmpty:function(Y,nt){var St,Mt,Dt=0;if(V(Y))return!1;if(Y=Y.firstChild){var qt=new Vo(Y,Y.parentNode),xe=Ht?Ht.getWhiteSpaceElements():{};nt=nt||(Ht?Ht.getNonEmptyElements():null);do{if(St=Y.nodeType,Ae(Y)){var Oe=Y.getAttribute("data-mce-bogus");if(Oe){Y=qt.next(Oe==="all");continue}if(Mt=Y.nodeName.toLowerCase(),nt&&nt[Mt]){if(Mt!=="br")return!1;Dt++,Y=qt.next();continue}if(V(Y))return!1}if(St===8||St===3&&!se(Y.nodeValue)||St===3&&Y.parentNode&&xe[Y.parentNode.nodeName]&&se(Y.nodeValue))return!1;Y=qt.next()}while(Y)}return Dt<=1},createRng:$,nodeIndex:rs,split:function(Y,nt,St){var Mt,Dt,qt,xe=$();if(Y&&nt)return xe.setStart(Y.parentNode,rs(Y)),xe.setEnd(nt.parentNode,rs(nt)),Mt=xe.extractContents(),(xe=$()).setStart(nt.parentNode,rs(nt)+1),xe.setEnd(Y.parentNode,rs(Y)+1),Dt=xe.extractContents(),(qt=Y.parentNode).insertBefore(Py(re,Mt),Y),St?qt.insertBefore(St,Y):qt.insertBefore(nt,Y),qt.insertBefore(Py(re,Dt),Y),H(Y),St||nt},bind:Ft,unbind:ie,fire:function(Y,nt,St){return zt.fire(Y,nt,St)},getContentEditable:X,getContentEditableParent:function(Y){for(var nt=m(),St=null;Y&&Y!==nt&&(St=X(Y))===null;Y=Y.parentNode);return St},destroy:function(){if(0<jt.length)for(var Y=jt.length;Y--;){var nt=jt[Y];zt.unbind(nt[0],nt[1],nt[2])}yo(It,function(St,Mt){Pt.unload(Mt),delete It[Mt]}),to.setDocument&&to.setDocument()},isChildOf:function(Y,nt){if($c){for(;Y;){if(nt===Y)return!0;Y=Y.parentNode}return!1}return Y===nt||nt.contains(Y)},dumpRng:function(Y){return"startContainer: "+Y.startContainer.nodeName+", startOffset: "+Y.startOffset+", endContainer: "+Y.endContainer.nodeName+", endOffset: "+Y.endOffset}},Ye=(it=Ut,wt=Jt(re),tt={set:function(Y,nt,St){dt.url_converter&&nt!==null&&(nt=dt.url_converter.call(dt.url_converter_scope||wt(),nt,St,Y[0])),Y.attr("data-mce-"+St,nt).attr(St,nt)},get:function(Y,nt){return Y.attr("data-mce-"+nt)||Y.attr(nt)}},et={style:{set:function(Y,nt){nt===null||typeof nt!="object"?(bt&&Y.attr("data-mce-style",nt),nt!==null&&typeof nt=="string"?(Y.removeAttr("style"),Y.css(it.parse(nt))):Y.attr("style",nt)):Y.css(nt)},get:function(Y){var nt=Y.attr("data-mce-style")||Y.attr("style");return it.serialize(it.parse(nt),Y[0].nodeName)}}},(bt=(dt=n).keep_values)&&(et.href=et.src=tt),et);return re};Re.DOM=Re(document),Re.nodeIndex=rs;var WC=Re.DOM,Er=Ct.each,im=Ct.grep,No=(Su.prototype._setReferrerPolicy=function(t){this.settings.referrerPolicy=t},Su.prototype.loadScript=function(t,n,r){function a(){s.remove(l),d&&(d.onerror=d.onload=d=null)}var s=WC,l=s.uniqueId(),d=document.createElement("script");d.id=l,d.type="text/javascript",d.src=Ct._addCacheSuffix(t),this.settings.referrerPolicy&&s.setAttrib(d,"referrerpolicy",this.settings.referrerPolicy),d.onload=function(){a(),n()},d.onerror=function(){a(),nn(r)?r():typeof console<"u"&&console.log&&console.log("Failed to load script: "+t)},(document.getElementsByTagName("head")[0]||document.body).appendChild(d)},Su.prototype.isDone=function(t){return this.states[t]===2},Su.prototype.markDone=function(t){this.states[t]=2},Su.prototype.add=function(t,n,r,a){var s=this.states[t];this.queue.push(t),s===void 0&&(this.states[t]=0),n&&(this.scriptLoadedCallbacks[t]||(this.scriptLoadedCallbacks[t]=[]),this.scriptLoadedCallbacks[t].push({success:n,failure:a,scope:r||this}))},Su.prototype.load=function(t,n,r,a){return this.add(t,n,r,a)},Su.prototype.remove=function(t){delete this.states[t],delete this.scriptLoadedCallbacks[t]},Su.prototype.loadQueue=function(t,n,r){this.loadScripts(this.queue,t,n,r)},Su.prototype.loadScripts=function(t,n,r,a){function s(h,p){Er(l.scriptLoadedCallbacks[p],function(x){nn(x[h])&&x[h].call(x.scope)}),l.scriptLoadedCallbacks[p]=void 0}var l=this,d=[];l.queueLoadedCallbacks.push({success:n,failure:a,scope:r||this});var m=function(){var h,p=im(t);t.length=0,Er(p,function(x){l.states[x]!==2?l.states[x]!==3?l.states[x]!==1&&(l.states[x]=1,l.loading++,l.loadScript(x,function(){l.states[x]=2,l.loading--,s("success",x),m()},function(){l.states[x]=3,l.loading--,d.push(x),s("failure",x),m()})):s("failure",x):s("success",x)}),l.loading||(h=l.queueLoadedCallbacks.slice(0),l.queueLoadedCallbacks.length=0,Er(h,function(x){d.length===0?nn(x.success)&&x.success.call(x.scope):nn(x.failure)&&x.failure.call(x.scope,d)}))};m()},Su.ScriptLoader=new Su,Su);function Su(t){t===void 0&&(t={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=t}function Bi(t){var n=t;return{get:function(){return n},set:function(r){n=r}}}function $h(){return no(Lf,qh.get())}var Lf={},qh=Bi("en"),ku={getData:function(){return Nc(Lf,function(t){return ht({},t)})},setCode:function(t){t&&qh.set(t)},getCode:function(){return qh.get()},add:function(t,n){var r=Lf[t];r||(Lf[t]=r={}),yo(n,function(a,s){r[s.toLowerCase()]=a})},translate:function(t){function n(p){return nn(p)?Object.prototype.toString.call(p):m(p)?"":""+p}function r(p){var x=n(p);return no(d,x.toLowerCase()).map(n).getOr(x)}function a(p){return p.replace(/{context:\w+}$/,"")}var s,l,d=$h().getOr({}),m=function(p){return p===""||p==null};if(m(t))return"";if(vo(s=t)&&Ot(s,"raw"))return n(t.raw);if(Nn(l=t)&&1<l.length){var h=t.slice(1);return a(r(t[0]).replace(/\{([0-9]+)\}/g,function(p,x){return Ot(h,x)?n(h[x]):p}))}return a(r(t))},isRtl:function(){return $h().bind(function(t){return no(t,"_dir")}).exists(function(t){return t==="rtl"})},hasCode:function(t){return Ot(Lf,t)}},fa=function(){function t(p,x){gt(We(m,function(y){return y.name===p&&y.state===x}),function(y){return y.callback()})}function n(p){var x;return(d[p]?d[p].dependencies:x)||[]}function r(p,x){return typeof x=="object"?x:typeof p=="string"?{prefix:"",resource:x,suffix:""}:{prefix:p.prefix,resource:x,suffix:p.suffix}}function a(p,x,y){y===void 0&&(y="added"),Ot(d,p)&&y==="added"||Ot(l,p)&&y==="loaded"?x():m.push({name:p,state:y,callback:x})}var s=[],l={},d={},m=[],h=function(p,x,y,_,E){var T,A;l[p]||((T=typeof x=="string"?x:x.prefix+x.resource+x.suffix).indexOf("/")!==0&&T.indexOf("://")===-1&&(T=fa.baseURL+"/"+T),l[p]=T.substring(0,T.lastIndexOf("/")),A=function(){var B,N,P;t(p,"loaded"),B=x,N=y,P=_,gt(n(p),function(H){var G=r(B,H);h(G.resource,G,void 0,void 0)}),N&&(P?N.call(P):N.call(No))},d[p]?A():No.ScriptLoader.add(T,A,_,E))};return{items:s,urls:l,lookup:d,_listeners:m,get:function(p){if(d[p])return d[p].instance},dependencies:n,requireLangPack:function(p,x){fa.languageLoad!==!1&&a(p,function(){var y=ku.getCode();!y||x&&(","+(x||"")+",").indexOf(","+y+",")===-1||No.ScriptLoader.add(l[p]+"/langs/"+y+".js")},"loaded")},add:function(p,x,y){var _=x;return s.push(_),d[p]={instance:_,dependencies:y},t(p,"added"),_},remove:function(p){delete l[p],delete d[p]},createUrl:r,addComponents:function(p,x){var y=l[p];gt(x,function(_){No.ScriptLoader.add(y+"/"+_)})},load:h,waitFor:a}};function Ff(){var t,n,r=(t=ne,n=Bi(w.none()),{clear:function(){a(),n.set(w.none())},isSet:function(){return n.get().isSome()},get:function(){return n.get()},set:function(s){a(),n.set(w.some(s))}});function a(){return n.get().each(t)}return ht(ht({},r),{on:function(s){return r.get().each(s)}})}function Gh(t,n){var r=null;return{cancel:function(){Io(r)||(clearTimeout(r),r=null)},throttle:function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];Io(r)&&(r=setTimeout(function(){r=null,t.apply(null,a)},n))}}}function Xy(t,n){function r(){Io(a)||(clearTimeout(a),a=null)}var a=null;return{cancel:r,throttle:function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];r(),a=setTimeout(function(){a=null,t.apply(null,s)},n)}}}function Xh(t,n){var r=ki(t,n);return r===void 0||r===""?[]:r.split(" ")}function am(t){return t.dom.classList!==void 0}function um(t,n){var r,a,s;am(t)?t.dom.classList.add(n):(a=n,s=Xh(r=t,"class").concat([a]),bu(r,"class",s.join(" ")))}function Kh(t,n){return am(t)&&t.dom.classList.contains(n)}function Pa(t,n){return Be(r=t===void 0?document:t.dom)?[]:Ne(r.querySelectorAll(n),lt.fromDom);var r}function Or(t,n){function r(m,h){return jd(m,h)?w.some(ki(m,h)):w.none()}var a=t.selection.getRng(),s=lt.fromDom(a.startContainer),l=lt.fromDom(t.getBody()),d=n.fold(function(){return"."+mc()},function(m){return"["+hr()+'="'+m+'"]'});return Ei(Si(s,a.startOffset).getOr(s),d,function(m){return ke(m,l)}).bind(function(m){return r(m,""+Tr()).bind(function(h){return r(m,""+hr()).map(function(p){var x=da(t,h);return{uid:h,name:p,elements:x}})})})}function $C(t){function n(){return{listeners:[],previous:Ff()}}function r(d,m){a(d,function(h){return m(h),h})}function a(d,m){var h=s.get(),p=m(no(h,d).getOrThunk(n));h[d]=p,s.set(h)}var s=Bi({}),l=Xy(function(){var d=s.get();gt(si(Q(d)),function(m){a(m,function(h){var p=h.previous.get();return Or(t,w.some(m)).fold(function(){var x;p.isSome()&&(r(x=m,function(y){gt(y.listeners,function(_){return _(!1,x)})}),h.previous.clear())},function(x){var y,_,E,T=x.uid,A=x.name,B=x.elements;xf(p,T)||(_=T,E=B,r(y=A,function(N){gt(N.listeners,function(P){return P(!0,y,{uid:_,nodes:Ne(E,function(H){return H.dom})})})}),h.previous.set(T))}),{previous:h.previous,listeners:h.listeners}})})},30);return t.on("remove",function(){l.cancel()}),t.on("NodeChange",function(){l.throttle()}),{addListener:function(d,m){a(d,function(h){return{previous:h.previous,listeners:h.listeners.concat([m])}})}}}function Ky(t){var n=new Date().getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++ma+String(n)}function dc(t,n){var r,a,s=hf(t).dom,l=lt.fromDom(s.createDocumentFragment());Fd(l,(r=n,(a=(s||document).createElement("div")).innerHTML=r,mo(lt.fromDom(a)))),Hd(t),Jo(t,l)}function Yy(t,n){return lt.fromDom(t.dom.cloneNode(n))}function Qa(t){return Yy(t,!1)}function is(t){return Yy(t,!0)}function Jy(t,n,r){function a(l){for(var d;(d=s[l]())&&!oe(d)&&!r(d););return w.from(d).filter(oe)}r===void 0&&(r=Ln);var s=new Vo(t,n);return{current:function(){return w.from(s.current()).filter(oe)},next:function(){return a("next")},prev:function(){return a("prev")},prev2:function(){return a("prev2")}}}function as(t,n){var r=n||function(s){return t.isBlock(s)||Do(s)||Un(s)},a=function(s,l,d,m){if(oe(s)){var h=m(s,l,s.data);if(h!==-1)return w.some({container:s,offset:h})}return d().bind(function(p){return a(p.container,p.offset,d,m)})};return{backwards:function(s,l,d,m){var h=Jy(s,m,r);return a(s,l,function(){return h.prev().map(function(p){return{container:p,offset:p.length}})},d).getOrNull()},forwards:function(s,l,d,m){var h=Jy(s,m,r);return a(s,l,function(){return h.next().map(function(p){return{container:p,offset:0}})},d).getOrNull()}}}function Ml(t){return t?{left:ti(t.left),top:ti(t.top),bottom:ti(t.bottom),right:ti(t.right),width:ti(t.width),height:ti(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function Qy(t,n){return t=Ml(t),n||(t.left=t.left+t.width),t.right=t.left,t.width=0,t}function Zy(t,n,r){return 0<=t&&t<=Math.min(n.height,r.height)/2}function Pl(t,n){var r=Math.min(n.height/2,t.height/2);return t.bottom-r<n.top||!(t.top>n.bottom)&&Zy(n.top-t.bottom,t,n)}function sm(t,n){return t.top>n.bottom||!(t.bottom<n.top)&&Zy(n.bottom-t.top,t,n)}function t0(t,n,r){return n>=t.left&&n<=t.right&&r>=t.top&&r<=t.bottom}function Is(t){var n=t.startContainer,r=t.startOffset;return n.hasChildNodes()&&t.endOffset===r+1?n.childNodes[r]:null}function Ls(t,n){if(Ae(t)&&t.hasChildNodes()){var r=t.childNodes;return r[a=r.length-1,Math.min(Math.max(n,0),a)]}return t;var a}function Yh(t){return typeof t=="string"&&768<=t.charCodeAt(0)&&gi.test(t)}function _g(t){return"createRange"in t?t.createRange():Re.DOM.createRng()}function Sg(t){return t&&/[\r\n\t ]/.test(t)}function e0(t){return t.setStart&&t.setEnd}function Jh(t){var n=t.startContainer,r=t.startOffset;if(Sg(t.toString())&&Ak(n.parentNode)&&oe(n)){var a=n.data;return Sg(a[r-1])||Sg(a[r+1])?1:void 0}}function n0(t){return t.left===0&&t.right===0&&t.top===0&&t.bottom===0}function Il(t,n){var r=Qy(t,n);return r.width=1,r.right=r.left+1,r}fa.languageLoad=!0,fa.baseURL="",fa.PluginManager=fa(),fa.ThemeManager=fa();var Za=function(t,n){var r=[];return gt(mo(t),function(a){r=(r=n(a)?r.concat([a]):r).concat(Za(a,n))}),r},mc=Jt("mce-annotation"),hr=Jt("data-mce-annotation"),Tr=Jt("data-mce-annotation-uid"),da=function(t,n){return Pa(lt.fromDom(t.getBody()),"["+Tr()+'="'+n+'"]')},ma=0,ti=Math.round,gi=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),qC=Ae,Tk=ct,o0=Cl("display","block table"),Kt=Cl("float","left right"),kg=(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(r){for(var a=0;a<t.length;a++)if(!t[a](r))return!1;return!0}})(qC,Tk,dr(Kt)),Ak=dr(Cl("white-space","pre pre-line pre-wrap")),Eg=oe,tu=Do,GC=Re.nodeIndex,cm=function(t,n){if(!(n<0&&Ae(t)&&t.hasChildNodes()))return Ls(t,n)},qc=function(t){var n=t.getClientRects(),r=0<n.length?Ml(n[0]):Ml(t.getBoundingClientRect());return!e0(t)&&tu(t)&&n0(r)?(function(a){var s=a.ownerDocument,l=_g(s),d=s.createTextNode(Aa),m=a.parentNode;m.insertBefore(d,a),l.setStart(d,0),l.setEnd(d,1);var h=Ml(l.getBoundingClientRect());return m.removeChild(d),h})(t):n0(r)&&e0(t)?(function(a){var s=a.startContainer,l=a.endContainer,d=a.startOffset,m=a.endOffset;if(s===l&&oe(l)&&d===0&&m===1){var h=a.cloneRange();return h.setEndAfter(l),qc(h)}return null})(t):r},Et=function(t,n,r){function a(){return r=r||(function(s){function l(_){var E;_.height!==0&&(0<m.length&&(E=m[m.length-1],_.left===E.left&&_.top===E.top&&_.bottom===E.bottom&&_.right===E.right)||m.push(_))}function d(_,E){var T=_g(_.ownerDocument);if(E<_.data.length){if(Yh(_.data[E]))return m;if(Yh(_.data[E-1])&&(T.setStart(_,E),T.setEnd(_,E+1),!Jh(T)))return l(Il(qc(T),!1)),m}0<E&&(T.setStart(_,E-1),T.setEnd(_,E),Jh(T)||l(Il(qc(T),!1))),E<_.data.length&&(T.setStart(_,E),T.setEnd(_,E+1),Jh(T)||l(Il(qc(T),!0)))}var m=[],h=s.container(),p=s.offset();if(Eg(h))return d(h,p),m;if(qC(h))if(s.isAtEnd()){var x=cm(h,p);Eg(x)&&d(x,x.data.length),kg(x)&&!tu(x)&&l(Il(qc(x),!1))}else{if(x=cm(h,p),Eg(x)&&d(x,0),kg(x)&&s.isAtEnd())return l(Il(qc(x),!1)),m;var y=cm(s.container(),s.offset()-1);kg(y)&&!tu(y)&&(!o0(y)&&!o0(x)&&kg(x)||l(Il(qc(y),!1))),kg(x)&&l(Il(qc(x),!0))}return m})(Et(t,n))}return{container:Jt(t),offset:Jt(n),toRange:function(){var s=_g(t.ownerDocument);return s.setStart(t,n),s.setEnd(t,n),s},getClientRects:a,isVisible:function(){return 0<a().length},isAtStart:function(){return Eg(t),n===0},isAtEnd:function(){return Eg(t)?n>=t.data.length:n>=t.childNodes.length},isEqual:function(s){return s&&t===s.container()&&n===s.offset()},getNode:function(s){return cm(t,s?n-1:n)}}};function Qh(t,n){oe(n)&&n.data.length===0&&t.remove(n)}function Og(t,n,r){var a,s,l,d,m,h,p;_f(r)?(l=t,d=n,h=w.from((m=r).firstChild),p=w.from(m.lastChild),d.insertNode(m),h.each(function(x){return Qh(l,x.previousSibling)}),p.each(function(x){return Qh(l,x.nextSibling)})):(a=t,n.insertNode(s=r),Qh(a,s.previousSibling),Qh(a,s.nextSibling))}function r0(t){return function(n){return t===n}}function Hf(t){var n,r,a,s;return(Eu(t)?"text()":t.nodeName.toLowerCase())+"["+(r=jf(fm(n=t)),a=Qi(r,r0(n),n),s=Gr(r=r.slice(0,a+1),function(l,d,m){return Eu(d)&&Eu(r[m-1])&&l++,l},0),Qi(r=Yo(r,ea([n.nodeName])),r0(n),n)-s)+"]"}function qo(t,n){var r,a,s,l=[],d=n.container(),m=n.offset();return Eu(d)?r=(function(h,p){for(;(h=h.previousSibling)&&Eu(h);)p+=h.data.length;return p})(d,m):(m>=(a=d.childNodes).length?(r="after",m=a.length-1):r="before",d=a[m]),l.push(Hf(d)),s=Yo((function(h,p){var x=[];for(p=p.parentNode;p!==h;p=p.parentNode)x.push(p);return x})(t,d),dr(Lc)),(l=l.concat(Js(s,Hf))).reverse().join("/")+","+r}function rr(t,n){if(!n)return null;var r=n.split(","),a=r[0].split("/"),s=1<r.length?r[1]:"before",l=Gr(a,function(d,m){var h,p,x,y,_=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(m);return _?(_[1]==="text()"&&(_[1]="#text"),h=d,p=_[1],x=parseInt(_[2],10),y=Yo(y=jf(h),function(E,T){return!Eu(E)||!Eu(y[T-1])}),(y=Yo(y,ea([p])))[x]):null},t);return l?Eu(l)?(function(d,m){for(var h,p=d,x=0;Eu(p);){if(h=p.data.length,x<=m&&m<=x+h){d=p,m-=x;break}if(!Eu(p.nextSibling)){d=p,m=h;break}x+=h,p=p.nextSibling}return Eu(d)&&m>d.data.length&&(m=d.data.length),Et(d,m)})(l,parseInt(s,10)):(s=s==="after"?Hg(l)+1:Hg(l),Et(l.parentNode,s)):null}function Tg(t,n,r,a,s){var l,d=a[s?"startContainer":"endContainer"],m=a[s?"startOffset":"endOffset"],h=[],p=0,x=t.getRoot();for(oe(d)?h.push(r?(function(y,_,E){for(var T=y(_.data.slice(0,E)).length,A=_.previousSibling;A&&oe(A);A=A.previousSibling)T+=y(A.data).length;return T})(n,d,m):m):(m>=(l=d.childNodes).length&&l.length&&(p=1,m=Math.max(0,l.length-1)),h.push(t.nodeIndex(l[m],r)+p));d&&d!==x;d=d.parentNode)h.push(t.nodeIndex(d,r));return h}function i0(t,n,r){var a=0;return Ct.each(t.select(n),function(s){if(s.getAttribute("data-mce-bogus")!=="all")return s!==r&&void a++}),a}function XC(t,n){var r,a=n?"start":"end",s=t[a+"Container"],l=t[a+"Offset"];Ae(s)&&s.nodeName==="TR"&&(s=(r=s.childNodes)[Math.min(n?l:l-1,r.length-1)])&&(l=n?0:s.childNodes.length,t["set"+(n?"Start":"End")](s,l))}function KC(t){return XC(t,!0),XC(t,!1),t}function a0(t,n){var r;return Ae(t)&&(t=Ls(t,n),zg(t))?t:jo(t)?(r=(t=oe(t)&&xu(t)?t.parentNode:t).previousSibling,zg(r)?r:(r=t.nextSibling,zg(r)?r:void 0)):void 0}function u0(t,n,r){var a=r.getNode(),s=a?a.nodeName:null,l=r.getRng();if(zg(a)||s==="IMG")return{name:s,index:i0(r.dom,s,a)};var d,m,h,p,x,y,_,E=a0((d=l).startContainer,d.startOffset)||a0(d.endContainer,d.endOffset);return E?{name:s=E.tagName,index:i0(r.dom,s,E)}:(y=(h=r).dom,(_={}).start=Tg(y,m=t,p=n,x=l,!0),h.isCollapsed()||(_.end=Tg(y,m,p,x,!1)),W(x)&&(_.isFakeCaret=!0),_)}function zf(t,n,r){var a={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return r?t.create("span",a,"&#xFEFF;"):t.create("span",a)}function Ag(t,n){var r=t.dom,a=t.getRng(),s=r.uniqueId(),l=t.isCollapsed(),d=t.getNode(),m=d.nodeName;if(m==="IMG")return{name:m,index:i0(r,m,d)};var h=KC(a.cloneRange());return l||(h.collapse(!1),Og(r,h,zf(r,s+"_end",n))),(a=KC(a)).collapse(!0),Og(r,a,zf(r,s+"_start",n)),t.moveToBookmark({id:s,keep:!0}),{id:s}}function Zh(t,n,r){var a=t.getParam(n,r);return a.indexOf("=")===-1?a:no(t.getParam(n,"","hash"),t.id).getOr(r)}function Fs(t){return t.getParam("content_security_policy","")}function Vi(t){if(t.getParam("force_p_newlines",!1))return"p";var n=t.getParam("forced_root_block","p");return n===!1?"":n===!0?"p":n}function Dg(t){return t.getParam("forced_root_block_attrs",{})}function YC(t){return t.getParam("automatic_uploads",!0,"boolean")}function tv(t){return t.getParam("icons","","string")}function Ng(t){return t.getParam("referrer_policy","","string")}function s0(t){return t.getParam("language","en","string")}function c0(t){return t.getParam("indent_use_margin",!1)}function l0(t){var n=t.getParam("font_css",[]);return Nn(n)?n:Ne(n.split(","),wi)}function Bg(t){var n=t.getParam("object_resizing");return n!==!1&&!Te.iOS&&(Dn(n)?n:"table,img,figure.image,div,video,iframe")}function JC(t){return t.getParam("event_root")}function Gc(t){return t.getParam("theme")}function Rg(t){return t.getParam("inline_boundaries")!==!1}function f0(t){return t.getParam("plugins","","string")}function Mg(t){var n=t.parentNode;n&&n.removeChild(t)}function QC(t){var n=Da(t);return{count:t.length-n.length,text:n}}function ZC(t){for(var n;(n=t.data.lastIndexOf(Qr))!==-1;)t.deleteData(n,1)}function Xc(t,n){return Fl(t),n}function ev(t,n){var r,a=n.container(),s=((r=ju(Zn(a.childNodes),t))===-1?w.none():w.some(r)).map(function(l){return l<n.offset()?Et(a,n.offset()-1):n}).getOr(n);return Fl(t),s}function Dk(t,n){return Et.isTextPosition(n)?(a=n,a_(r=t)&&a.container()===r?(d=QC((s=r).data.substr(0,(l=a).offset())),m=QC(s.data.substr(l.offset())),0<(d.text+m.text).length?(ZC(s),Et(s,l.offset()-d.count)):l):Xc(r,a)):(h=t,((p=n).container()===h.parentNode?ev:Xc)(h,p));var r,a,s,l,d,m,h,p}function t_(t,n,r){var a,s,l,d=Qy(n.getBoundingClientRect(),r),m=t.tagName==="BODY"?(a=t.ownerDocument.documentElement,s=t.scrollLeft||a.scrollLeft,t.scrollTop||a.scrollTop):(l=t.getBoundingClientRect(),s=t.scrollLeft-l.left,t.scrollTop-l.top);d.left+=s,d.right+=s,d.top+=m,d.bottom+=m,d.width=1;var h=n.offsetWidth-n.clientWidth;return 0<h&&(r&&(h*=-1),d.left+=h,d.right+=h),d}function e_(t,n,r,a){function s(){(function(){for(var x=Pa(lt.fromDom(n),"*[contentEditable=false],video,audio,embed,object"),y=0;y<x.length;y++){var _,E=x[y].dom,T=E.previousSibling;ic(T)&&((_=T.data).length===1?T.parentNode.removeChild(T):T.deleteData(_.length-1,1)),T=E.nextSibling,Kd(T)&&((_=T.data).length===1?T.parentNode.removeChild(T):T.deleteData(0,1))}})(),d&&(Fl(d),d=null),m.on(function(x){Ue(x.caret).remove(),m.clear()}),l&&(wo.clearInterval(l),l=void 0)}var l,d,m=Ff(),h=Vi(t),p=0<h.length?h:"p";return{show:function(x,y){var _;if(s(),c_(y))return null;if(!r(y))return d=(function(A,B){var N=A.ownerDocument.createTextNode(Qr),P=A.parentNode;if(B){if(H=A.previousSibling,As(H)){if(jo(H))return H;if(ic(H))return H.splitText(H.data.length-1)}P.insertBefore(N,A)}else{var H=A.nextSibling;if(As(H)){if(jo(H))return H;if(Kd(H))return H.splitText(1),H}A.nextSibling?P.insertBefore(N,A.nextSibling):P.appendChild(N)}return N})(y,x),_=y.ownerDocument.createRange(),mm(d.nextSibling)?(_.setStart(d,0),_.setEnd(d,0)):(_.setStart(d,1),_.setEnd(d,1)),_;d=(function(A,B,N){var P,H=B.ownerDocument.createElement(A);H.setAttribute("data-mce-caret",N?"before":"after"),H.setAttribute("data-mce-bogus","all"),H.appendChild(((P=document.createElement("br")).setAttribute("data-mce-bogus","1"),P));var G=B.parentNode;return N?G.insertBefore(H,B):B.nextSibling?G.insertBefore(H,B.nextSibling):G.appendChild(H),H})(p,y,x);var E=t_(n,y,x);Ue(d).css("top",E.top);var T=Ue('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(ht({},E)).appendTo(n)[0];return m.set({caret:T,element:y,before:x}),x&&Ue(T).addClass("mce-visual-caret-before"),l=wo.setInterval(function(){a()?Ue("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):Ue("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500),(_=y.ownerDocument.createRange()).setStart(d,0),_.setEnd(d,0),_},hide:s,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){m.on(function(x){var y=t_(n,x.element,x.before);Ue(x.caret).css(ht({},y))})},destroy:function(){return wo.clearInterval(l)}}}function d0(){return dm.isIE()||dm.isEdge()||dm.isFirefox()}function Ll(t){return mm(t)||_l(t)&&d0()}function Pg(t,n){for(var r;r=t(n);)if(!v0(r))return r;return null}function Vf(t,n,r,a,s){var l=new Vo(t,a),d=rv(t)||v0(t);if(n<0){if(d&&r(t=Pg(l.prev.bind(l),!0)))return t;for(;t=Pg(l.prev.bind(l),s);)if(r(t))return t}if(0<n){if(d&&r(t=Pg(l.next.bind(l),!0)))return t;for(;t=Pg(l.next.bind(l),s);)if(r(t))return t}return null}function Kc(t,n){for(;t&&t!==n;){if(f_(t))return t;t=t.parentNode}return null}function Hs(t,n,r){return Kc(t.container(),r)===Kc(n.container(),r)}function nv(t,n){if(!n)return null;var r=n.container(),a=n.offset();return b0(r)?r.childNodes[a+t]:null}function m0(t,n){var r=n.ownerDocument.createRange();return t?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),r}function g0(t,n,r){for(var a,s,l=t?"previousSibling":"nextSibling";r&&r!==n;){var d=r[l];if(h0(d)&&(d=d[l]),rv(d)||l_(d)){if(s=r,Kc(d,a=n)===Kc(s,a))return d;break}if(d_(d))break;r=r.parentNode}return null}function Ig(t,n,r){var a,s=q(g0,!0,n),l=q(g0,!1,n),d=r.startContainer,m=r.startOffset;if(xu(d)){var h=(d=b0(d)?d:d.parentNode).getAttribute("data-mce-caret");if(h==="before"&&Ll(a=d.nextSibling))return Vg(a);if(h==="after"&&Ll(a=d.previousSibling))return gm(a)}if(!r.collapsed)return r;if(oe(d)){if(h0(d)){if(t===1){if(a=l(d))return Vg(a);if(a=s(d))return gm(a)}if(t===-1){if(a=s(d))return gm(a);if(a=l(d))return Vg(a)}return r}if(ic(d)&&m>=d.data.length-1)return t===1&&(a=l(d))?Vg(a):r;if(Kd(d)&&m<=1)return t===-1&&(a=s(d))?gm(a):r;if(m===d.data.length)return(a=l(d))?Vg(a):r;if(m===0)return(a=s(d))?gm(a):r}return r}function n_(t,n){return w.from(nv(t?0:-1,n)).filter(rv)}function Lg(t,n,r){var a=Ig(t,n,r);return t===-1?Et.fromRangeStart(a):Et.fromRangeEnd(a)}function Fg(t){return w.from(t.getNode()).map(lt.fromDom)}function p0(t,n){for(;n=t(n);)if(n.isVisible())return n;return n}function ov(t,n){var r=Hs(t,n);return!(r||!Do(t.getNode()))||r}Et.fromRangeStart=function(t){return Et(t.startContainer,t.startOffset)},Et.fromRangeEnd=function(t){return Et(t.endContainer,t.endOffset)},Et.after=function(t){return Et(t.parentNode,GC(t)+1)},Et.before=function(t){return Et(t.parentNode,GC(t))},Et.isAbove=function(t,n){return fi(eo(n.getClientRects()),Qn(t.getClientRects()),Pl).getOr(!1)},Et.isBelow=function(t,n){return fi(Qn(n.getClientRects()),eo(t.getClientRects()),sm).getOr(!1)},Et.isAtStart=function(t){return!!t&&t.isAtStart()},Et.isAtEnd=function(t){return!!t&&t.isAtEnd()},Et.isTextPosition=function(t){return!!t&&oe(t.container())},Et.isElementPosition=function(t){return Et.isTextPosition(t)===!1};var ei,lm,Eu=oe,o_=Lc,Hg=Re.nodeIndex,fm=function(t){var n=t.parentNode;return o_(n)?fm(n):n},jf=function(t){return t?Gr(t.childNodes,function(n,r){return o_(r)&&r.nodeName!=="BR"?n=n.concat(jf(r)):n.push(r),n},[]):[]},zg=Un,r_=q(u0,An,!0),ji=Re.DOM,i_=Ae,a_=oe,Fl=function(t){i_(t)&&jo(t)&&(Ah(t)?t.removeAttribute("data-mce-caret"):Mg(t)),a_(t)&&(ZC(t),t.data.length===0&&Mg(t))},dm=Fo().browser,u_=Un,s_=qa,c_=Sl,mm=function(t){return u_(t)||s_(t)},rv=Un,l_=qa,f_=Cl("display","block table table-cell table-caption list-item"),h0=jo,v0=xu,b0=Ae,d_=ct,Vg=q(m0,!0),gm=q(m0,!1);function y0(t,n){return t.hasChildNodes()&&n<t.childNodes.length?t.childNodes[n]:null}function Hl(t,n){if(0<t){if(Xf(n.previousSibling)&&!ss(n.previousSibling))return Et.before(n);if(ss(n))return Et(n,0)}if(t<0){if(Xf(n.nextSibling)&&!ss(n.nextSibling))return Et.after(n);if(ss(n))return Et(n,n.data.length)}return t<0&&!bv(n)?Et.after(n):Et.before(n)}function us(t){return{next:function(n){return yv(ei.Forwards,n,t)},prev:function(n){return yv(ei.Backwards,n,t)}}}function zl(t){return Et.isTextPosition(t)?t.offset()===0:ct(t.getNode())}function x0(t){if(Et.isTextPosition(t)){var n=t.container();return t.offset()===n.data.length}return ct(t.getNode(!0))}function iv(t,n){return!Et.isTextPosition(t)&&!Et.isTextPosition(n)&&t.getNode()===n.getNode(!0)}function jg(t,n,r){return ga(t,n,r).bind(function(a){return Hs(r,a,n)&&(s=r,l=a,t?!iv(s,l)&&(Et.isTextPosition(d=s)||!Do(d.getNode()))&&x0(s)&&zl(l):!iv(l,s)&&zl(s)&&x0(l))?ga(t,n,a):w.some(a);var s,l,d})}function Uf(t,n){var r,a,s,l,d,m=t?n.firstChild:n.lastChild;return oe(m)?w.some(Et(m,t?0:m.data.length)):m?ct(m)?w.some(t?Et.before(m):Do(d=m)?Et.before(d):Et.after(d)):(a=n,s=m,l=(r=t)?Et.before(s):Et.after(s),ga(r,a,l)):w.none()}function zs(t){return Ae(t)&&t.id===h_}function Vl(t,n){for(;n&&n!==t;){if(n.id===h_)return n;n=n.parentNode}return null}function w0(t){return Ct.isArray(t.start)}function av(t,n){return Ae(n)&&t.isBlock(n)&&!n.innerHTML&&!Te.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n}function uv(t,n,r){return n.hasChildNodes()===!1&&Vl(t,n)&&(s=r,l=(a=n).ownerDocument.createTextNode(Qr),a.appendChild(l),s.setStart(l,0),s.setEnd(l,0),1);var a,s,l}function sv(t,n,r,a){var s,l,d,m,h=r[n?"start":"end"],p=t.getRoot();if(h){for(d=h[0],l=p,s=h.length-1;1<=s;s--){if(m=l.childNodes,uv(p,l,a))return 1;if(h[s]>m.length-1)return uv(p,l,a)||(function(x){return Tu(l).fold(Ln,function(y){return x.setStart(y.container(),y.offset()),x.setEnd(y.container(),y.offset()),!0})})(a);l=m[h[s]]}l.nodeType===3&&(d=Math.min(h[0],l.nodeValue.length)),l.nodeType===1&&(d=Math.min(h[0],l.childNodes.length)),n?a.setStart(l,d):a.setEnd(l,d)}return 1}function cv(t){return oe(t)&&0<t.data.length}function C0(t,n,r){var a,s,l,d,m,h,p=t.get(r.id+"_"+n),x=r.keep;if(p){if(a=p.parentNode,s=n==="start"?x?p.hasChildNodes()?(a=p.firstChild,1):cv(p.nextSibling)?(a=p.nextSibling,0):cv(p.previousSibling)?(a=p.previousSibling,p.previousSibling.data.length):(a=p.parentNode,t.nodeIndex(p)+1):t.nodeIndex(p):x?p.hasChildNodes()?(a=p.firstChild,1):cv(p.previousSibling)?(a=p.previousSibling,p.previousSibling.data.length):(a=p.parentNode,t.nodeIndex(p)):t.nodeIndex(p),m=a,h=s,!x){for(d=p.previousSibling,l=p.nextSibling,Ct.each(Ct.grep(p.childNodes),function(y){oe(y)&&(y.nodeValue=y.nodeValue.replace(/\uFEFF/g,""))});p=t.get(r.id+"_"+n);)t.remove(p,!0);d&&l&&d.nodeType===l.nodeType&&oe(d)&&!Te.opera&&(s=d.nodeValue.length,d.appendData(l.nodeValue),t.remove(l),m=d,h=s)}return w.some(Et(m,h))}return w.none()}function m_(t,n){(function(r,a){var s,l,d,m,h,p,x,y,_,E,T,A,B=r.dom;if(a){if(w0(a))return T=a,A=(E=B).createRng(),sv(E,!0,T,A)&&sv(E,!1,T,A)?w.some(A):w.none();if(Dn(a.start))return w.some((x=a,y=(p=B).createRng(),_=rr(p.getRoot(),x.start),y.setStart(_.container(),_.offset()),_=rr(p.getRoot(),x.end),y.setEnd(_.container(),_.offset()),y));if(Ot(a,"id"))return fi(h=C0(d=B,"start",m=a),C0(d,"end",m).or(h),function(N,P){var H=d.createRng();return H.setStart(av(d,N.container()),N.offset()),H.setEnd(av(d,P.container()),P.offset()),H});if(Ot(a,"name"))return s=B,w.from(s.select((l=a).name)[l.index]).map(function(N){var P=s.createRng();return P.selectNode(N),P});if(Ot(a,"rng"))return w.some(a.rng)}return w.none()})(t,n).each(function(r){t.setRng(r)})}function eu(t){return Ae(t)&&t.tagName==="SPAN"&&t.getAttribute("data-mce-type")==="bookmark"}function Go(t){return t!==""&&` \f
\r	\v`.indexOf(t)!==-1}function Ug(t){return!Go(t)&&!Kg(t)}function cr(t){return t.nodeType}function lv(t,n,r){var a,s=r.startOffset,l=r.startContainer;if((l!==r.endContainer||!(a=l.childNodes[s])||!/^(IMG)$/.test(a.nodeName))&&Ae(l)){var d=l.childNodes,m=void 0;s<d.length?(l=d[s],m=new Vo(l,t.getParent(l,t.isBlock))):(l=d[d.length-1],(m=new Vo(l,t.getParent(l,t.isBlock))).next(!0));for(var h=m.current();h;h=m.next())if(oe(h)&&!P0(h))return r.setStart(h,0),n.setRng(r),0}}function fv(t,n,r){if(t){var a=n?"nextSibling":"previousSibling";for(t=r?t:t[a];t;t=t[a])if(Ae(t)||!P0(t))return t}}function dv(t,n){return cr(n)&&(n=n.nodeName),!!t.schema.getTextBlockElements()[n.toLowerCase()]}function Yc(t,n,r){return t.schema.isValidChild(n,r)}function Vs(t,n){return nn(t)?t=t(n):ot(n)&&(t=t.replace(/%(\w+)/g,function(r,a){return n[a]||r})),t}function Wg(t,n){return t=""+((t=t||"").nodeName||t),n=""+((n=n||"").nodeName||n),t.toLowerCase()===n.toLowerCase()}function $g(t,n,r){return r!=="color"&&r!=="backgroundColor"||(n=t.toHex(n)),r==="fontWeight"&&n===700&&(n="bold"),""+(r==="fontFamily"?n.replace(/[\'\"]/g,"").replace(/,\s+/g,","):n)}function qg(t,n,r){return $g(t,t.getStyle(n,r),r)}function _0(t,n){var r;return t.getParent(n,function(a){return(r=t.getStyle(a,"text-decoration"))&&r!=="none"}),r}function pm(t,n,r){return t.getParents(n,r,t.getRoot())}function S0(t,n){return Cr(t.formatter.get(n),function(r){function a(s){return 1<s.length&&s.charAt(0)==="%"}return Cr(["styles","attributes"],function(s){return no(r,s).exists(function(l){var d,m;return Cr(Nn(l)?l:(d=An,m=[],yo(l,function(h,p){m.push(d(h,p))}),m),a)})})})}function wn(t){return _r(t,"block")}function vr(t){return _r(t,"selector")}function jr(t){return _r(t,"inline")}function mv(t){return vr(t)&&t.expand!==!1&&!jr(t)}function k0(t,n){for(var r=n;r;){if(Ae(r)&&t.getContentEditable(r))return t.getContentEditable(r)==="false"?r:n;r=r.parentNode}return n}function gv(t,n,r,a){for(var s=n.data,l=r;t?0<=l:l<s.length;t?l--:l++)if(a(s.charAt(l)))return t?l+1:l;return-1}function g_(t,n,r){return gv(t,n,r,function(a){return Kg(a)||Go(a)})}function E0(t,n,r){return gv(t,n,r,Ug)}function O0(t,n,r,a,s,l){function d(p,x,y){var _=as(t),E=s?_.backwards:_.forwards;return w.from(E(p,x,function(T,A){return Yf(T.parentNode)?-1:y(s,m=T,A)},h))}var m,h=t.getParent(r,t.isBlock)||n;return d(r,a,g_).bind(function(p){return l?d(p.container,p.offset+(s?-1:0),E0):w.some(p)}).orThunk(function(){return m?w.some({container:m,offset:s?0:m.length}):w.none()})}function pv(t,n,r,a,s){oe(a)&&En(a.data)&&a[s]&&(a=a[s]);for(var l=Ri(t,a),d=0;d<l.length;d++)for(var m=0;m<n.length;m++){var h=n[m];if((!ot(h.collapsed)||h.collapsed===r.collapsed)&&vr(h)&&t.is(l[d],h.selector))return l[d]}return a}function nu(t,n,r,a){var s,l=r,d=t.dom,m=d.getRoot(),h=n[0];if((l=wn(h)?h.wrapper?null:d.getParent(r,h.block,m):l)||(s=d.getParent(r,"LI,TD,TH"),l=d.getParent(oe(r)?r.parentNode:r,function(p){return p!==m&&wv(t,p)},s)),!(l=l&&wn(h)&&h.wrapper&&Ri(d,l,"ul,ol").reverse()[0]||l))for(l=r;l[a]&&!d.isBlock(l[a])&&!Wg(l=l[a],"br"););return l||r}function ni(t,n,r,a,s){var l,d=r,m=s?"previousSibling":"nextSibling",h=t.getRoot();if(oe(r)&&!Yg(r)&&(s?0<a:a<r.data.length))return r;for(;;){if(!n[0].block_expand&&t.isBlock(d))return d;for(var p=d[m];p;p=p[m]){var x=oe(p)&&!I0(t,h,p,m);if(!Yf(p)&&(!Do(l=p)||!l.getAttribute("data-mce-bogus")||l.nextSibling)&&!Yg(p,x))return d}if(d===h||d.parentNode===h){r=d;break}d=d.parentNode}return r}function Wf(t){return Yf(t.parentNode)||Yf(t)}function $f(t,n,r,a){a===void 0&&(a=!1);var s=n.startContainer,l=n.startOffset,d=n.endContainer,m=n.endOffset,h=t.dom,p=r[0];return Ae(s)&&s.hasChildNodes()&&(s=Ls(s,l),oe(s)&&(l=0)),Ae(d)&&d.hasChildNodes()&&(d=Ls(d,n.collapsed?m:m-1),oe(d)&&(m=d.nodeValue.length)),s=k0(h,s),d=k0(h,d),Wf(s)&&(s=Yf(s)?s:s.parentNode,s=n.collapsed?s.previousSibling||s:s.nextSibling||s,oe(s)&&(l=n.collapsed?s.length:0)),Wf(d)&&(d=Yf(d)?d:d.parentNode,d=n.collapsed?d.nextSibling||d:d.previousSibling||d,oe(d)&&(m=n.collapsed?0:d.length)),n.collapsed&&(O0(h,t.getBody(),s,l,!0,a).each(function(x){var y=x.container,_=x.offset;s=y,l=_}),O0(h,t.getBody(),d,m,!1,a).each(function(x){var y=x.container,_=x.offset;d=y,m=_})),(jr(p)||p.block_expand)&&(jr(p)&&oe(s)&&l!==0||(s=ni(h,r,s,l,!0)),jr(p)&&oe(d)&&m!==d.nodeValue.length||(d=ni(h,r,d,m,!1))),mv(p)&&(s=pv(h,r,n,s,"previousSibling"),d=pv(h,r,n,d,"nextSibling")),(wn(p)||vr(p))&&(s=nu(t,r,s,"previousSibling"),d=nu(t,r,d,"nextSibling"),wn(p)&&(h.isBlock(s)||(s=ni(h,r,s,l,!0)),h.isBlock(d)||(d=ni(h,r,d,m,!1)))),Ae(s)&&(l=h.nodeIndex(s),s=s.parentNode),Ae(d)&&(m=h.nodeIndex(d)+1,d=d.parentNode),{startContainer:s,startOffset:l,endContainer:d,endOffset:m}}function qf(t,n,r){function a(A){var B=A[0];oe(B)&&B===h&&m>=B.data.length&&A.splice(0,1);var N=A[A.length-1];return p===0&&0<A.length&&N===x&&oe(N)&&A.splice(A.length-1,1),A}function s(A,B,N){for(var P=[];A&&A!==N;A=A[B])P.push(A);return P}function l(A,B){return t.getParent(A,function(N){return N.parentNode===B},B)}function d(A,B,N){var P=N?"nextSibling":"previousSibling",H=A;for(H.parentNode;H&&H!==B;H=G){var G=H.parentNode,Z=s(H===A?H:H[P],P);Z.length&&(N||Z.reverse(),r(a(Z)))}}var m=n.startOffset,h=Ls(n.startContainer,m),p=n.endOffset,x=Ls(n.endContainer,p-1);if(h===x)return r(a([h]));var y=t.findCommonAncestor(h,x);if(t.isChildOf(h,x))return d(h,y,!0);if(t.isChildOf(x,h))return d(x,y);var _=l(h,y)||h,E=l(x,y)||x;d(h,_,!0);var T=s(_===h?_:_.nextSibling,"nextSibling",E===x?E.nextSibling:E);T.length&&r(a(T)),d(x,E)}function hv(t){var n=[];if(t)for(var r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));return n}function T0(t,n){var r=Pa(n,"td[data-mce-selected],th[data-mce-selected]");return 0<r.length?r:We(ja(t,function(a){var s=Is(a);return s?[lt.fromDom(s)]:[]}),rc)}function gc(t){return T0(hv(t.selection.getSel()),lt.fromDom(t.getBody()))}function hm(t,n){return Xa(t,"table",n)}function A0(t,n){return fi((s=n.startContainer,l=n.startOffset,oe(s)?l===0?w.some(lt.fromDom(s)):w.none():w.from(s.childNodes[l]).map(lt.fromDom)),(r=n.endContainer,a=n.endOffset,oe(r)?a===r.data.length?w.some(lt.fromDom(r)):w.none():w.from(r.childNodes[a-1]).map(lt.fromDom)),function(d,m){var h=bo(L0(t),q(ke,d)),p=bo(F0(t),q(ke,m));return h.isSome()&&p.isSome()}).getOr(!1);var r,a,s,l}function D0(t,n,r,a){var s=r,l=new Vo(r,s),d=Fr(t.schema.getMoveCaretBeforeOnEnterElements(),function(m,h){return!Vt(["td","th","table"],h.toLowerCase())});do{if(oe(r)&&Ct.trim(r.nodeValue).length!==0)return a?n.setStart(r,0):n.setEnd(r,r.nodeValue.length),0;if(d[r.nodeName])return a?n.setStartBefore(r):r.nodeName==="BR"?n.setEndBefore(r):n.setEndAfter(r),0}while(r=a?l.next():l.prev());s.nodeName==="BODY"&&(a?n.setStart(s,0):n.setEnd(s,s.childNodes.length))}function vv(t){var n=t.selection.getSel();return n&&0<n.rangeCount}function N0(t,n){var r=gc(t);0<r.length?gt(r,function(a){var s=a.dom,l=t.dom.createRng();l.setStartBefore(s),l.setEndAfter(s),n(l,!0)}):n(t.selection.getRng(),!1)}function rn(t,n,r){var a=Ag(t,n);r(a),t.moveToBookmark(a)}function Ou(t){return Rk.get(t)}function Gf(t,n,r,a){var s=n.uid,l=s===void 0?Ky("mce-annotation"):s,d=(function(E,T){var A={};for(N in E)Object.prototype.hasOwnProperty.call(E,N)&&T.indexOf(N)<0&&(A[N]=E[N]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var B=0,N=Object.getOwnPropertySymbols(E);B<N.length;B++)T.indexOf(N[B])<0&&Object.prototype.propertyIsEnumerable.call(E,N[B])&&(A[N[B]]=E[N[B]]);return A})(n,["uid"]),m=lt.fromTag("span",t);um(m,mc()),bu(m,""+Tr(),l),bu(m,""+hr(),r);var h,p=a(l,d),x=p.attributes,y=p.classes,_=y===void 0?[]:y;return Zs(m,x===void 0?{}:x),h=m,gt(_,function(E){um(h,E)}),m}function Nk(t,n,r,a,s){function l(){p.clear()}function d(y){gt(y,x)}var m=[],h=Gf(t.getDoc(),s,r,a),p=Ff(),x=function(y){var _,E,T,A,B,N;switch(T=t,B="span",N=Ho(A=y),_i(A).fold(function(){return"skipping"},function(P){return N==="br"||nr(G=A)&&Ou(G)===Qr?"valid":Ao(H=A)&&Kh(H,mc())?"existing":zs(A.dom)?"caret":Yc(T,B,N)&&Yc(T,Ho(P),B)?"valid":"invalid-child";var H,G})){case"invalid-child":l(),d(mo(y)),l();break;case"valid":ta(_=y,E=p.get().getOrThunk(function(){var P=Qa(h);return m.push(P),p.set(P),P})),Jo(E,_)}};return qf(t.dom,n,function(y){l(),d(Ne(y,lt.fromDom))}),m}function dn(t){var n,r,a,s=(n={},{register:function(d,m){n[d]={name:d,settings:m}},lookup:function(d){return no(n,d).map(function(m){return m.settings})}});a=s,(r=t).on("init",function(){r.serializer.addNodeFilter("span",function(d){gt(d,function(m){w.from(m.attr(hr())).bind(a.lookup).each(function(h){h.persistent===!1&&m.unwrap()})})})});var l=$C(t);return{register:function(d,m){s.register(d,m)},annotate:function(d,m){s.lookup(d).each(function(h){var p,x,y,_;x=d,y=h,_=m,(p=t).undoManager.transact(function(){var E,T,A,B,N=p.selection,P=N.getRng(),H=0<gc(p).length;P.collapsed&&!H&&(A=$f(E=p,T=P,[{inline:"span"}]),T.setStart(A.startContainer,A.startOffset),T.setEnd(A.endContainer,A.endOffset),E.selection.setRng(T)),N.getRng().collapsed&&!H?(dc(B=Gf(p.getDoc(),_,x,y.decorate),Aa),N.getRng().insertNode(B.dom),N.select(B.dom)):rn(N,!1,function(){N0(p,function(G){Nk(p,G,x,y.decorate,_)})})})})},annotationChanged:function(d,m){l.addListener(d,m)},remove:function(d){Or(t,w.some(d)).each(function(m){gt(m.elements,bf)})},getAll:function(d){var m,h,p;return Nc((m=d,h=Pa(lt.fromDom(t.getBody()),"["+hr()+'="'+m+'"]'),p={},gt(h,function(x){var y=ki(x,Tr()),_=no(p,y).getOr([]);p[y]=_.concat([x])}),p),function(x){return Ne(x,function(y){return y.dom})})}}}function vm(t){return{getBookmark:q(Bk,t),moveToBookmark:q(m_,t)}}(lm=ei=ei||{})[lm.Backwards=-1]="Backwards",lm[lm.Forwards=1]="Forwards";function Gg(t){return Yd(t)||!!Rh(n=t)&&on(Zn(n.getElementsByTagName("*")),function(r,a){return r||Tf(a)},!1)!==!0;var n}var B0,Xg,R0,p_=Un,ss=oe,M0=Ae,bv=Do,Xf=ct,Kf=$t,yv=function(t,n,r){var a,s,l;if(!M0(r)||!n)return null;if(n.isEqual(Et.after(r))&&r.lastChild){if(l=Et.after(r.lastChild),t<0&&Xf(r.lastChild)&&M0(r.lastChild))return bv(r.lastChild)?Et.before(r.lastChild):l}else l=n;var d,m,h,p=l.container(),x=l.offset();if(ss(p)){if(t<0&&0<x)return Et(p,--x);if(0<t&&x<p.length)return Et(p,++x);a=p}else{if(t<0&&0<x&&(y=y0(p,x-1),Xf(y)))return!Gg(y)&&(s=Vf(y,t,Kf,y))?ss(s)?Et(s,s.data.length):Et.after(s):ss(y)?Et(y,y.data.length):Et.before(y);if(0<t&&x<p.childNodes.length&&(y=y0(p,x),Xf(y)))return bv(y)?(d=r,(h=(m=y).nextSibling)&&Xf(h)?ss(h)?Et(h,0):Et.before(h):yv(ei.Forwards,Et.after(m),d)):!Gg(y)&&(s=Vf(y,t,Kf,y))?ss(s)?Et(s,0):Et.before(s):ss(y)?Et(y,0):Et.after(y);a=y||l.getNode()}if((0<t&&l.isAtEnd()||t<0&&l.isAtStart())&&(a=Vf(a,t,lo,r,!0),Kf(a,r)))return Hl(t,a);var y=Vf(a,t,Kf,r),_=xi(We((function(E,T){for(var A=[];E&&E!==T;)A.push(E),E=E.parentNode;return A})(p,r),p_));return!_||y&&_.contains(y)?y?Hl(t,y):null:0<t?Et.after(_):Et.before(_)},ga=function(t,n,r){var a=us(n);return w.from(t?a.next(r):a.prev(r))},xv=function(t,n,r,a){return jg(t,n,r).bind(function(s){return a(s)?xv(t,n,s,a):w.some(s)})},cs=q(ga,!0),pc=q(ga,!1),pa=q(Uf,!0),Tu=q(Uf,!1),h_="_mce_caret",Bk=function(t,n,r){return n===2?u0(Da,r,t):n===3?(s=(a=t).getRng(),{start:qo(a.dom.getRoot(),Et.fromRangeStart(s)),end:qo(a.dom.getRoot(),Et.fromRangeEnd(s))}):n?{rng:t.getRng()}:Ag(t,!1);var a,s},Kg=(B0=Aa,function(t){return B0===t}),P0=function(t,n){return n===void 0&&(n=!1),!(!ot(t)||!oe(t))&&se(n?t.data.replace(/ /g,"\xA0"):t.data)},Yf=eu,Ri=pm,Yg=P0,wv=dv,I0=function(t,n,r,a){var s=r.parentNode;return!ot(r[a])&&(!(s!==n&&!$r(s)&&!t.isBlock(s))||I0(t,n,s,a))},L0=function(t){return Md(t).fold(Jt([t]),function(n){return[t].concat(L0(n))})},F0=function(t){return Ss(t).fold(Jt([t]),function(n){return Ho(n)==="br"?$u(n).map(function(r){return[t].concat(F0(r))}).getOr([]):[t].concat(F0(n))})},Rk=(Xg=nr,{get:function(t){if(!Xg(t))throw new Error("Can only get text value of a text node");return R0(t).getOr("")},getOption:R0=function(t){return Xg(t)?w.from(t.dom.nodeValue):w.none()},set:function(t,n){if(!Xg(t))throw new Error("Can only set raw text value of a text node");t.dom.nodeValue=n}});function Ze(t,n){for(;n&&n!==t;){if(Hr(n)||Un(n))return n;n=n.parentNode}return null}function Jc(t,n,r){if(!r.collapsed){if(Te.browser.isIE()&&r.startOffset===r.endOffset-1&&r.startContainer===r.endContainer){var a=r.startContainer.childNodes[r.startOffset];if(Ae(a))return Cr(a.getClientRects(),function(s){return t0(s,t,n)})}return Cr(r.getClientRects(),function(s){return t0(s,t,n)})}}function Jf(t,n,r){return t.fire(n,r)}function Cv(t,n,r,a){return t.fire("FormatApply",{format:n,node:r,vars:a})}function H0(t,n,r,a){return t.fire("FormatRemove",{format:n,node:r,vars:a})}function v_(t,n){function r(At){return At&&(At.nodeName==="IMG"||n.dom.is(At,"figure.image"))}function a(At){return qa(At)||tt.hasClass(At,"mce-preview-object")}function s(At){var Yt=At.target;!(function(Ft,ie){if(Ft.type!=="longpress"&&Ft.type.indexOf("touch")!==0)return r(Ft.target)&&!Jc(Ft.clientX,Ft.clientY,ie);var re=Ft.touches[0];return r(Ft.target)&&!Jc(re.clientX,re.clientY,ie)})(At,n.selection.getRng())||At.isDefaultPrevented()||n.selection.select(Yt)}function l(At){return tt.is(At,"figure.image")?[At.querySelector("img")]:tt.hasClass(At,"mce-preview-object")&&ot(At.firstElementChild)?[At,At.firstElementChild]:[At]}function d(At){var Yt=Bg(n);return!!Yt&&At.getAttribute("data-mce-resize")!=="false"&&At!==n.getBody()&&(tt.hasClass(At,"mce-preview-object")?$n(lt.fromDom(At.firstElementChild),Yt):$n(lt.fromDom(At),Yt))}function m(At,Yt,Ft){ot(Ft)&&gt(l(At),function(ie){ie.style[Yt]||!n.schema.isValid(ie.nodeName.toLowerCase(),Yt)?tt.setStyle(ie,Yt,Ft):tt.setAttrib(ie,Yt,""+Ft)})}function h(At,Yt,Ft){m(At,"width",Yt),m(At,"height",Ft)}function p(At){var Yt,Ft,ie,re,Ye,Y,nt=At.screenX-P,St=At.screenY-H;X=nt*B[2]+G,it=St*B[3]+Z,X=X<5?5:X,it=it<5?5:it,((r(E)||a(E))&&n.getParam("resize_img_proportional",!0,"boolean")!==!1?!Ce.modifierPressed(At):Ce.modifierPressed(At))&&(It(nt)>It(St)?(it=Wt(X*V),X=Wt(it/V)):(X=Wt(it/V),it=Wt(X*V))),h(T,X,it),Yt=B.startPos.x+nt,Ft=B.startPos.y+St,tt.setStyles(A,{left:Yt=0<Yt?Yt:0,top:Ft=0<Ft?Ft:0,display:"block"}),A.innerHTML=X+" &times; "+it,B[2]<0&&T.clientWidth<=X&&tt.setStyle(T,"left",void 0+(G-X)),B[3]<0&&T.clientHeight<=it&&tt.setStyle(T,"top",void 0+(Z-it)),(nt=Pt.scrollWidth-dt)+(St=Pt.scrollHeight-wt)!=0&&tt.setStyles(A,{left:Yt-nt,top:Ft-St}),$||(ie=E,re=G,Ye=Z,Y="corner-"+B.name,n.fire("ObjectResizeStart",{target:ie,width:re,height:Ye,origin:Y}),$=!0)}function x(At){function Yt(ie,re){if(ie)do if(ie===re)return 1;while(ie=ie.parentNode)}var Ft;$||n.removed||(et(tt.select("img[data-mce-selected],hr[data-mce-selected]"),function(ie){ie.removeAttribute(bt)}),Ft=At.type==="mousedown"?At.target:t.getNode(),Yt(Ft=tt.$(Ft).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Pt)&&(_(),Yt(t.getStart(!0),Ft)&&Yt(t.getEnd(!0),Ft))?Ut(Ft):zt())}function y(At){return y_(Ze(n.getBody(),At))}function _(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}}var E,T,A,B,N,P,H,G,Z,V,$,X,it,dt,wt,bt="data-mce-selected",tt=n.dom,et=Ct.each,at=n.getDoc(),ft=document,It=Math.abs,Wt=Math.round,Pt=n.getBody(),jt={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Ht=function(){var At,Yt,Ft,ie,re=$;$=!1,re&&(m(E,"width",X),m(E,"height",it)),tt.unbind(at,"mousemove",p),tt.unbind(at,"mouseup",Ht),ft!==at&&(tt.unbind(ft,"mousemove",p),tt.unbind(ft,"mouseup",Ht)),tt.remove(T),tt.remove(A),tt.remove(N),Ut(E),re&&(At=E,Yt=X,Ft=it,ie="corner-"+B.name,n.fire("ObjectResized",{target:At,width:Yt,height:Ft,origin:ie}),tt.setAttrib(E,"style",tt.getAttrib(E,"style"))),n.nodeChanged()},Ut=function(At){te();var Yt=tt.getPos(At,Pt),Ft=Yt.x,ie=Yt.y,re=At.getBoundingClientRect(),Ye=re.width||re.right-re.left,Y=re.height||re.bottom-re.top;E!==At&&(zt(),E=At,X=it=0);var nt=n.fire("ObjectSelected",{target:At}),St=tt.getAttrib(E,bt,"1");d(At)&&!nt.isDefaultPrevented()?et(jt,function(Mt,Dt){var qt=tt.get("mceResizeHandle"+Dt);qt&&tt.remove(qt),qt=tt.add(Pt,"div",{id:"mceResizeHandle"+Dt,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Dt+"-resize; margin:0; padding:0"}),Te.ie===11&&(qt.contentEditable=!1),tt.bind(qt,"mousedown",function(xe){var Oe,Kn,Ve;xe.stopImmediatePropagation(),xe.preventDefault(),Oe=xe,Ve=l(E)[0],P=Oe.screenX,H=Oe.screenY,G=Ve.clientWidth,Z=Ve.clientHeight,V=Z/G,(B=Mt).name=Dt,B.startPos={x:Ye*Mt[0]+Ft,y:Y*Mt[1]+ie},dt=Pt.scrollWidth,wt=Pt.scrollHeight,N=tt.add(Pt,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),tt.setStyles(N,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),T=a(Kn=E)?tt.create("img",{src:Te.transparentSrc}):Kn.cloneNode(!0),tt.addClass(T,"mce-clonedresizable"),tt.setAttrib(T,"data-mce-bogus","all"),T.contentEditable="false",tt.setStyles(T,{left:Ft,top:ie,margin:0}),h(T,Ye,Y),T.removeAttribute(bt),Pt.appendChild(T),tt.bind(at,"mousemove",p),tt.bind(at,"mouseup",Ht),ft!==at&&(tt.bind(ft,"mousemove",p),tt.bind(ft,"mouseup",Ht)),A=tt.add(Pt,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},G+" &times; "+Z)}),Mt.elm=qt,tt.setStyles(qt,{left:Ye*Mt[0]+Ft-qt.offsetWidth/2,top:Y*Mt[1]+ie-qt.offsetHeight/2})}):zt(),tt.getAttrib(E,bt)||E.setAttribute(bt,St)},zt=function(){te(),E&&E.removeAttribute(bt),yo(jt,function(At,Yt){var Ft=tt.get("mceResizeHandle"+Yt);Ft&&(tt.unbind(Ft),tt.remove(Ft))})},te=function(){yo(jt,function(At){At.elm&&(tt.unbind(At.elm),delete At.elm)})};return n.on("init",function(){var At;_(),(Te.browser.isIE()||Te.browser.isEdge())&&(n.on("mousedown click",function(Ft){var ie=Ft.target,re=ie.nodeName;$||!/^(TABLE|IMG|HR)$/.test(re)||y(ie)||(Ft.button!==2&&n.selection.select(ie,re==="TABLE"),Ft.type==="mousedown"&&n.nodeChanged())}),tt.bind(Pt,"mscontrolselect",At=function(Ft){function ie(re){wo.setEditorTimeout(n,function(){return n.selection.select(re)})}if(y(Ft.target)||qa(Ft.target))return Ft.preventDefault(),void ie(Ft.target);/^(TABLE|IMG|HR)$/.test(Ft.target.nodeName)&&(Ft.preventDefault(),Ft.target.tagName==="IMG"&&ie(Ft.target))}),n.on("remove",function(){return tt.unbind(Pt,"mscontrolselect",At)}));var Yt=wo.throttle(function(Ft){n.composing||x(Ft)});n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",Yt),n.on("keyup compositionend",function(Ft){E&&E.nodeName==="TABLE"&&Yt(Ft)}),n.on("hide blur",zt),n.on("contextmenu longpress",s,!0)}),n.on("remove",te),{isResizable:d,showResizeRect:Ut,hideResizeRect:zt,updateResizeRect:x,destroy:function(){E=T=N=null}}}function Mk(t){return Hr(t)||Un(t)}function z0(t,n,r){var a,s,l,d,m,h=r;if(h.caretPositionFromPoint)(s=h.caretPositionFromPoint(t,n))&&((a=r.createRange()).setStart(s.offsetNode,s.offset),a.collapse(!0));else if(h.caretRangeFromPoint)a=h.caretRangeFromPoint(t,n);else if(h.body.createTextRange){a=h.body.createTextRange();try{a.moveToPoint(t,n),a.collapse(!0)}catch{a=(function(x,y,_){var E,T=_.elementFromPoint(x,y),A=_.body.createTextRange();if(T&&T.tagName!=="HTML"||(T=_.body),A.moveToElementText(T),0<(E=(E=Ct.toArray(A.getClientRects())).sort(function(B,N){return(B=Math.abs(Math.max(B.top-y,B.bottom-y)))-Math.abs(Math.max(N.top-y,N.bottom-y))})).length){y=(E[0].bottom+E[0].top)/2;try{return A.moveToPoint(x,y),A.collapse(!0),A}catch{}}return null})(t,n,r)}return l=a,d=r.body,m=l&&l.parentElement?l.parentElement():null,Un((function(p,x,y){for(;p&&p!==x;){if(y(p))return p;p=p.parentNode}return null})(m,d,Mk))?null:l}return a}function V0(t,n){return t&&n&&t.startContainer===n.startContainer&&t.startOffset===n.startOffset&&t.endContainer===n.endContainer&&t.endOffset===n.endOffset}function b_(t,n,r){return(function(a,s,l){for(;a&&a!==s;){if(l(a))return a;a=a.parentNode}return null})(t,n,r)!==null}function j0(t){return t&&t.nodeName==="TABLE"}function Zt(t,n,r){for(var a=new Vo(n,t.getParent(n.parentNode,t.isBlock)||t.getRoot());n=a[r?"prev":"next"]();)if(Do(n))return 1}function jl(t,n,r,a,s){var l,d,m=t.getRoot(),h=t.schema.getNonEmptyElements(),p=t.getParent(s.parentNode,t.isBlock)||m;if(a&&Do(s)&&n&&t.isEmpty(p))return w.some(Et(s.parentNode,t.nodeIndex(s)));for(var x,y,_=new Vo(s,p);d=_[a?"prev":"next"]();){if(t.getContentEditableParent(d)==="false"||(y=m,jo(x=d)&&b_(x,y,zs)===!1))return w.none();if(oe(d)&&0<d.nodeValue.length)return b_(d,m,function(E){return E.nodeName==="A"})===!1?w.some(Et(d,a?d.nodeValue.length:0)):w.none();if(t.isBlock(d)||h[d.nodeName.toLowerCase()])return w.none();l=d}return r&&l?w.some(Et(l,0)):w.none()}function Qf(t,n,r,a){var s,l=t.getRoot(),d=!1,m=a[(r?"start":"end")+"Container"],h=a[(r?"start":"end")+"Offset"],p=Ae(m)&&h===m.childNodes.length,x=t.schema.getNonEmptyElements(),y=r;if(jo(m))return w.none();if(Ae(m)&&h>m.childNodes.length-1&&(y=!1),tc(m)&&(m=l,h=0),m===l){if(y&&(_=m.childNodes[0<h?h-1:0])&&(jo(_)||x[_.nodeName]||j0(_)))return w.none();if(m.hasChildNodes()){if(h=Math.min(!y&&0<h?h-1:h,m.childNodes.length-1),m=m.childNodes[h],h=oe(m)&&p?m.data.length:0,!n&&m===l.lastChild&&j0(m)||(function(T,A){for(;A&&A!==T;){if(Un(A))return 1;A=A.parentNode}})(l,m)||jo(m))return w.none();if(m.hasChildNodes()&&j0(m)===!1){var _=m,E=new Vo(m,l);do{if(Un(_)||jo(_)){d=!1;break}if(oe(_)&&0<_.nodeValue.length){h=y?0:_.nodeValue.length,m=_,d=!0;break}if(x[_.nodeName.toLowerCase()]&&(!(s=_)||!/^(TD|TH|CAPTION)$/.test(s.nodeName))){h=t.nodeIndex(_),m=_.parentNode,y||h++,d=!0;break}}while(_=y?E.next():E.prev())}}}return n&&(oe(m)&&h===0&&jl(t,p,n,!0,m).each(function(T){m=T.container(),h=T.offset(),d=!0}),Ae(m)&&(!(_=(_=m.childNodes[h])||m.childNodes[h-1])||!Do(_)||_.previousSibling&&_.previousSibling.nodeName==="A"||Zt(t,_,!1)||Zt(t,_,!0)||jl(t,p,n,!0,_).each(function(T){m=T.container(),h=T.offset(),d=!0}))),y&&!n&&oe(m)&&h===m.nodeValue.length&&jl(t,p,n,!1,m).each(function(T){m=T.container(),h=T.offset(),d=!0}),d?w.some(Et(m,h)):w.none()}function Jg(t,n){var r=n.collapsed,a=n.cloneRange(),s=Et.fromRangeStart(n);return Qf(t,r,!0,a).each(function(l){r&&Et.isAbove(s,l)||a.setStart(l.container(),l.offset())}),r||Qf(t,r,!1,a).each(function(l){a.setEnd(l.container(),l.offset())}),r&&a.collapse(!0),V0(n,a)?w.none():w.some(a)}function Zf(t,n){return t.splitText(n)}function Qg(t){var n=t.startContainer,r=t.startOffset,a=t.endContainer,s=t.endOffset;return n===a&&oe(n)?0<r&&r<n.nodeValue.length&&(n=(a=Zf(n,r)).previousSibling,r<s?(n=a=Zf(a,s-=r).previousSibling,s=a.nodeValue.length,r=0):s=0):(oe(n)&&0<r&&r<n.nodeValue.length&&(n=Zf(n,r),r=0),oe(a)&&0<s&&s<a.nodeValue.length&&(s=(a=Zf(a,s).previousSibling).nodeValue.length)),{startContainer:n,startOffset:r,endContainer:a,endOffset:s}}function bm(t){return{walk:function(n,r){return qf(t,n,r)},split:Qg,normalize:function(n){return Jg(t,n).fold(Ln,function(r){return n.setStart(r.startContainer,r.startOffset),n.setEnd(r.endContainer,r.endOffset),!0})}}}vm.isBookmarkNode=eu;var Ce={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||Ce.metaKeyPressed(t)},metaKeyPressed:function(t){return Te.mac?t.metaKey:t.ctrlKey&&!t.altKey}},y_=Un;bm.compareRanges=V0,bm.getCaretRangeFromPoint=z0,bm.getSelectedNode=Is,bm.getNode=Ls;var td,Zg,U0=(td="height",Zg=function(t){var n=t.dom;return Fc(t)?n.getBoundingClientRect().height:n.offsetHeight},{set:function(t,n){if(!Va(n)&&!n.match(/^[0-9]+$/))throw new Error(td+".set accepts only positive integer values. Value was "+n);var r=t.dom;Vd(r)&&(r.style[td]=n+"px")},get:tp,getOuter:tp,aggregate:_v,max:function(t,n,r){var a=_v(t,r);return a<n?n-a:0}});function tp(t){var n=Zg(t);if(n<=0||n===null){var r=Ku(t,td);return parseFloat(r)||0}return n}function _v(t,n){return on(n,function(r,a){var s=Ku(t,a),l=s===void 0?0:parseInt(s,10);return isNaN(l)?r:r+l},0)}function W0(t){return Ho(t)==="textarea"}function ep(t,n){var r=(function(s){var l=s.dom.ownerDocument,d=l.body,m=l.defaultView,h=l.documentElement;if(d===s.dom)return Sa(d.offsetLeft,d.offsetTop);var p=qu(m?.pageYOffset,h.scrollTop),x=qu(m?.pageXOffset,h.scrollLeft),y=qu(h.clientTop,d.clientTop),_=qu(h.clientLeft,d.clientLeft);return Wd(s).translate(x-_,p-y)})(t),a=U0.get(t);return{element:t,bottom:r.top+a,height:a,pos:r,cleanup:n}}function np(t,n,r,a){T_(t,function(s,l){return O_(t,n,r,a)},r)}function x_(t,n,r,a,s){var l={elm:a.element.dom,alignToTop:s};t.fire("ScrollIntoView",l).isDefaultPrevented()||(r(n,yf(n).top,a,s),t.fire("AfterScrollIntoView",l))}function w_(t,n,r,a){var s=lt.fromDom(t.getDoc());x_(t,s,r,ep(lt.fromDom(n),ne),a)}function $0(t,n,r,a){var s,l=t.pos;r?ug(l.left,l.top,a):(s=l.top-n+t.height,ug(l.left,s,a))}function C_(t,n,r,a,s){var l=r+n,d=a.pos.top,m=a.bottom,h=r<=m-d;d<n?$0(a,r,s!==!1,t):l<d?$0(a,r,h?s!==!1:s===!0,t):l<m&&!h&&$0(a,r,s===!0,t)}function oi(t,n,r,a){C_(t,n,t.dom.defaultView.innerHeight,r,a)}function Au(t,n,r,a){C_(t,n,t.dom.defaultView.innerHeight,r,a);var s,l,d,m,h,p,x,y=(s=r.element,m=yf(lt.fromDom(document)),d=(l=Cm).owner(s),h=wm(l,d),p=Wd(s),x=Jn(h,function(E,T){var A=Wd(T);return{left:E.left+A.left,top:E.top+A.top}},{left:0,top:0}),Sa(x.left+p.left+m.left,x.top+p.top+m.top)),_=sg(window);y.top<_.y?ks(r.element,a!==!1):y.top>_.bottom&&ks(r.element,a===!0)}function js(t,n,r){return np(t,oi,n,r)}function Sv(t,n,r){return w_(t,n,oi,r)}function q0(t,n,r){return np(t,Au,n,r)}function Pk(t,n,r){return w_(t,n,Au,r)}function op(t,n,r){(t.inline?js:q0)(t,n,r)}function __(t){var n=oa(t).dom;return t.dom===n.activeElement}function kv(t){return t===void 0&&(t=lt.fromDom(document)),w.from(t.dom.activeElement).map(lt.fromDom)}function S_(t,n){var r=nr(n)?Ou(n).length:mo(n).length+1;return r<t?r:t<0?0:t}function Ik(t){return Dv.range(t.start,S_(t.soffset,t.start),t.finish,S_(t.foffset,t.finish))}function k_(t,n){return!wl(n.dom)&&(ze(t,n)||ke(t,n))}function an(t){return function(n){return k_(t,n.start)&&k_(t,n.finish)}}function E_(t){return t.inline===!0||A_.isIE()}function Ev(t){return Dv.range(lt.fromDom(t.startContainer),t.startOffset,lt.fromDom(t.endContainer),t.endOffset)}function G0(t){var n=document.createRange();try{return n.setStart(t.start.dom,t.soffset),n.setEnd(t.finish.dom,t.foffset),w.some(n)}catch{return w.none()}}function Ov(t){var n,r,a=E_(t)?(n=lt.fromDom(t.getBody()),((r=Pc(n).dom.getSelection())&&r.rangeCount!==0?w.from(r.getRangeAt(0)):w.none()).map(Ev).filter(an(n))):w.none();t.bookmark=a.isSome()?a:t.bookmark}function X0(t){return(t.bookmark||w.none()).bind(function(n){return r=lt.fromDom(t.getBody()),w.from(n).filter(an(r)).map(Ik);var r}).bind(G0)}function he(t){var n=Gh(function(){Ov(t)},0);t.on("init",function(){function r(){s.throttle()}var a,s,l,d,m,h;t.inline&&(a=t,s=n,Re.DOM.bind(document,"mouseup",r),a.on("remove",function(){Re.DOM.unbind(document,"mouseup",r)})),l=t,d=n,Fo().browser.isIE()?(h=l).on("focusout",function(){Ov(h)}):(m=d,l.on("mouseup touchend",function(p){m.throttle()})),l.on("keyup NodeChange",function(p){p.type==="nodechange"&&p.selectionChange||Ov(l)})}),t.on("remove",function(){n.cancel()})}function Tv(t,n){var r=t.getParam("custom_ui_selector","","string");return Nv.getParent(n,function(a){return Y0.isEditorUIElement(a)||!!r&&t.dom.is(a,r)})!==null}function Pn(t,n){var r=n.editor;he(r),r.on("focusin",function(){var a=t.focusedEditor;a!==r&&(a&&a.fire("blur",{focusedEditor:r}),t.setActive(r),(t.focusedEditor=r).fire("focus",{blurredEditor:a}),r.focus(!0))}),r.on("focusout",function(){wo.setEditorTimeout(r,function(){var a=t.focusedEditor;Tv(r,(function(s){try{return kv(oa(lt.fromDom(s.getElement()))).fold(function(){return document.body},function(l){return l.dom})}catch{return document.body}})(r))||a!==r||(r.fire("blur",{focusedEditor:null}),t.focusedEditor=null)})}),xm||(xm=function(a){var s=t.activeEditor;s&&(function(l){if(na()&&ot(l.target)){var d=lt.fromDom(l.target);if(Ao(d)&&ot(d.dom.shadowRoot)&&l.composed&&l.composedPath){var m=l.composedPath();if(m)return eo(m)}}return w.from(l.target)})(a).each(function(l){l.ownerDocument===document&&(l===document.body||Tv(s,l)||t.focusedEditor!==s||(s.fire("blur",{focusedEditor:null}),t.focusedEditor=null))})},Nv.bind(document,"focusin",xm))}function Lk(t,n){t.focusedEditor===n.editor&&(t.focusedEditor=null),t.activeEditor||(Nv.unbind(document,"focusin",xm),xm=null)}function Qc(t,n){var r,a;r=lt.fromDom(t.getBody()),((a=n).collapsed?w.from(Ls(a.startContainer,a.startOffset)).map(lt.fromDom):w.none()).bind(function(s){return we(s)?w.some(s):ze(r,s)===!1?w.some(r):w.none()}).bind(function(s){return pa(s.dom)}).fold(function(){t.selection.normalize()},function(s){return t.selection.setRng(s.toRange())})}function ls(t){if(t.setActive)try{t.setActive()}catch{t.focus()}else t.focus()}function hc(t){return t.inline?(a=t.getBody())&&(__(n=lt.fromDom(a))||kv(oa(r=n)).filter(function(s){return r.dom.contains(s.dom)}).isSome()):t.iframeElement&&__(lt.fromDom(t.iframeElement));var n,r,a}function ha(t,n,r,a,s){var l=r?n.startContainer:n.endContainer,d=r?n.startOffset:n.endOffset;return w.from(l).map(lt.fromDom).map(function(m){return a&&n.collapsed?m:Si(m,s(m,d)).getOr(m)}).bind(function(m){return Ao(m)?w.some(m):_i(m).filter(Ao)}).map(function(m){return m.dom}).getOr(t)}function rp(t,n,r){return ha(t,n,!0,r,function(a,s){return Math.min(Pd(a),s)})}function ym(t,n,r){return ha(t,n,!1,r,function(a,s){return 0<s?s-1:s})}function ip(t,n){for(var r=t;t&&oe(t)&&t.length===0;)t=n?t.nextSibling:t.previousSibling;return t||r}function Ul(t,n){return Ne(n,function(r){var a=t.fire("GetSelectionRange",{range:r});return a.range!==r?a.range:r})}function Wl(t,n,r){var a=r?"lastChild":"firstChild",s=r?"prev":"next";if(t[a])return t[a];if(t!==n){var l=t[s];if(l)return l;for(var d=t.parent;d&&d!==n;d=d.parent)if(l=d[s])return l}}function $l(t){var n=t.name==="a"&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||n}var xm,wm=function(t,n){return t.view(n).fold(Jt([]),function(r){var a=t.owner(r),s=wm(t,a);return[r].concat(s)})},Cm=Object.freeze({__proto__:null,view:function(t){var n;return(t.dom===document?w.none():w.from((n=t.dom.defaultView)===null||n===void 0?void 0:n.frameElement)).map(lt.fromDom)},owner:_s}),O_=function(t,n,r,a){var s=lt.fromDom(t.getBody()),l=lt.fromDom(t.getDoc());s.dom.offsetWidth;var d,m,h,p,x=(d=lt.fromDom(r.startContainer),m=r.startOffset,h=(function(y,_){var E=mo(y);if(E.length===0||W0(y))return{element:y,offset:_};if(_<E.length&&!W0(E[_]))return{element:E[_],offset:0};var T=E[E.length-1];return W0(T)?{element:y,offset:_}:Ho(T)==="img"?{element:T,offset:1}:nr(T)?{element:T,offset:Ou(T).length}:{element:T,offset:mo(T).length}})(d,m),p=lt.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">\uFEFF</span>'),ta(h.element,p),ep(p,function(){return Ee(p)}));x_(t,l,n,x,a),x.cleanup()},T_=function(t,n,r){var a=r.startContainer,s=r.startOffset,l=r.endContainer,d=r.endOffset;n(lt.fromDom(a),lt.fromDom(l));var m=t.dom.createRng();m.setStart(a,s),m.setEnd(l,d),t.selection.setRng(r)},Av=Ga([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),K0=(Av.before,Av.on,Av.after,function(t){return t.fold(An,An,An)}),_m=Ga([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Dv={domRange:_m.domRange,relative:_m.relative,exact:_m.exact,exactFromRange:function(t){return _m.exact(t.start,t.soffset,t.finish,t.foffset)},getWin:function(t){return Pc(t.match({domRange:function(n){return lt.fromDom(n.startContainer)},relative:function(n,r){return K0(n)},exact:function(n,r,a,s){return n}}))},range:function(t,n,r,a){return{start:t,soffset:n,finish:r,foffset:a}}},A_=Fo().browser,Y0={isEditorUIElement:function(t){var n=t.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1}},Nv=Re.DOM,Bv=function(t){return t.editorManager.setActive(t)},D_={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Du=(Ui.create=function(t,n){var r=new Ui(t,D_[t]||1);return n&&yo(n,function(a,s){r.attr(s,a)}),r},Ui.prototype.replace=function(t){return t.parent&&t.remove(),this.insert(t,this),this.remove(),this},Ui.prototype.attr=function(t,n){var r,a=this;if(typeof t!="string")return t!=null&&yo(t,function(l,d){a.attr(d,l)}),a;if(r=a.attributes){if(n===void 0)return r.map[t];if(n===null){if(t in r.map){delete r.map[t];for(var s=r.length;s--;)if(r[s].name===t)return r.splice(s,1),a}return a}if(t in r.map){for(s=r.length;s--;)if(r[s].name===t){r[s].value=n;break}}else r.push({name:t,value:n});return r.map[t]=n,a}},Ui.prototype.clone=function(){var t,n=new Ui(this.name,this.type);if(t=this.attributes){var r=[];r.map={};for(var a=0,s=t.length;a<s;a++){var l=t[a];l.name!=="id"&&(r[r.length]={name:l.name,value:l.value},r.map[l.name]=l.value)}n.attributes=r}return n.value=this.value,n.shortEnded=this.shortEnded,n},Ui.prototype.wrap=function(t){return this.parent.insert(t,this),t.append(this),this},Ui.prototype.unwrap=function(){for(var t=this.firstChild;t;){var n=t.next;this.insert(t,this,!0),t=n}this.remove()},Ui.prototype.remove=function(){var t=this.parent,n=this.next,r=this.prev;return t&&(t.firstChild===this?(t.firstChild=n)&&(n.prev=null):r.next=n,t.lastChild===this?(t.lastChild=r)&&(r.next=null):n.prev=r,this.parent=this.next=this.prev=null),this},Ui.prototype.append=function(t){t.parent&&t.remove();var n=this.lastChild;return n?((n.next=t).prev=n,this.lastChild=t):this.lastChild=this.firstChild=t,t.parent=this,t},Ui.prototype.insert=function(t,n,r){t.parent&&t.remove();var a=n.parent||this;return r?(n===a.firstChild?a.firstChild=t:n.prev.next=t,t.prev=n.prev,(t.next=n).prev=t):(n===a.lastChild?a.lastChild=t:n.next.prev=t,t.next=n.next,(t.prev=n).next=t),t.parent=a,t},Ui.prototype.getAll=function(t){for(var n=[],r=this.firstChild;r;r=Wl(r,this))r.name===t&&n.push(r);return n},Ui.prototype.children=function(){for(var t=[],n=this.firstChild;n;n=n.next)t.push(n);return t},Ui.prototype.empty=function(){if(this.firstChild){for(var t=[],n=this.firstChild;n;n=Wl(n,this))t.push(n);for(var r=t.length;r--;)(n=t[r]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return this.firstChild=this.lastChild=null,this},Ui.prototype.isEmpty=function(t,n,r){n===void 0&&(n={});var a=this.firstChild;if($l(this))return!1;if(a)do{if(a.type===1){if(a.attr("data-mce-bogus"))continue;if(t[a.name]||$l(a))return!1}if(a.type===8||a.type===3&&!(function(s){if(se(s.value)){var l=s.parent;return!l||l.name==="span"&&!l.attr("style")||!/^[ ]+$/.test(s.value)}})(a)||a.type===3&&a.parent&&n[a.parent.name]&&se(a.value)||r&&r(a))return!1}while(a=Wl(a,this));return!0},Ui.prototype.walk=function(t){return Wl(this,null,t)},Ui);function Ui(t,n){this.name=t,(this.type=n)===1&&(this.attributes=[],this.attributes.map={})}function ap(t){return Dn(t.nodeValue)&&ye(t.nodeValue,Qr)}function J0(t){return(t.length===0?"":Ne(t,function(n){return"["+n+"]"}).join(",")+",")+'[data-mce-bogus="all"]'}function up(t,n,r){return document.createTreeWalker(t,n,r,!1)}function Rv(t){return up(t,NodeFilter.SHOW_COMMENT,function(n){return ap(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})}function N_(t){return up(t,NodeFilter.SHOW_TEXT,function(n){if(ap(n)){var r=n.parentNode;return r&&Ot(Hk,r.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}return NodeFilter.FILTER_SKIP})}function B_(t){return Rv(t).nextNode()!==null}function R_(t){return N_(t).nextNode()!==null}function M_(t,n){return n.querySelector(J0(t))!==null}function Fk(t,n){gt(n.querySelectorAll(J0(t)),function(r){var a=lt.fromDom(r);ki(a,"data-mce-bogus")==="all"?Ee(a):gt(t,function(s){jd(a,s)&&Xu(a,s)})})}function sp(t){for(var n=t.nextNode();n!==null;)n.nodeValue=null,n=t.nextNode()}function Q0(t,n){var r=[{condition:q(M_,n),action:q(Fk,n)},{condition:B_,action:Mv},{condition:R_,action:P_}],a=t,s=!1;return gt(r,function(l){var d=l.condition,m=l.action;d(a)&&(s||(a=t.cloneNode(!0),s=!0),m(a))}),a}function Z0(t){return{compare:function(n,r){return n.nodeName===r.nodeName&&!(!s(a(n),a(r))||!s(t.parseStyle(t.getAttrib(n,"style")),t.parseStyle(t.getAttrib(r,"style")))||eu(n)||eu(r));function a(l){var d={};return zk(t.getAttribs(l),function(m){var h=m.nodeName.toLowerCase();h.indexOf("_")!==0&&h!=="style"&&h.indexOf("data-")!==0&&(d[h]=t.getAttrib(l,h))}),d}function s(l,d){var m,h;for(h in l)if(Ot(l,h)){if((m=d[h])===void 0||l[h]!==m)return;delete d[h]}for(h in d)if(Ot(d,h))return;return 1}}}}function tx(t){var n=[],r=(t=t||{}).indent,a=ex(t.indent_before||""),s=ex(t.indent_after||""),l=Ns.getEncodeFunc(t.entity_encoding||"raw",t.entities),d=t.element_format==="html";return{start:function(m,h,p){var x,y,_,E;if(r&&a[m]&&0<n.length&&0<(E=n[n.length-1]).length&&E!==`
`&&n.push(`
`),n.push("<",m),h)for(x=0,y=h.length;x<y;x++)_=h[x],n.push(" ",_.name,'="',l(_.value,!0),'"');n[n.length]=!p||d?">":" />",p&&r&&s[m]&&0<n.length&&0<(E=n[n.length-1]).length&&E!==`
`&&n.push(`
`)},end:function(m){var h;n.push("</",m,">"),r&&s[m]&&0<n.length&&0<(h=n[n.length-1]).length&&h!==`
`&&n.push(`
`)},text:function(m,h){0<m.length&&(n[n.length]=h?m:l(m))},cdata:function(m){n.push("<![CDATA[",m,"]]>")},comment:function(m){n.push("<!--",m,"-->")},pi:function(m,h){h?n.push("<?",m," ",l(h),"?>"):n.push("<?",m,"?>"),r&&n.push(`
`)},doctype:function(m){n.push("<!DOCTYPE",m,">",r?`
`:"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}}function ed(t,n){n===void 0&&(n=nc());var r=tx(t);return(t=t||{}).validate=!("validate"in t)||t.validate,{serialize:function(a){var s=t.validate,l={3:function(m){r.text(m.value,m.raw)},8:function(m){r.comment(m.value)},7:function(m){r.pi(m.name,m.value)},10:function(m){r.doctype(m.value)},4:function(m){r.cdata(m.value)},11:function(m){if(m=m.firstChild)for(;d(m),m=m.next;);}};r.reset();var d=function(m){var h=l[m.type];if(h)h(m);else{var p=m.name,x=m.shortEnded,y=m.attributes;if(s&&y&&1<y.length){var _=[];_.map={};var E=n.getElementRule(m.name);if(E){for(var T=0,A=E.attributesOrder.length;T<A;T++)(B=E.attributesOrder[T])in y.map&&(N=y.map[B],_.map[B]=N,_.push({name:B,value:N}));for(var B,N,T=0,A=y.length;T<A;T++)(B=y[T].name)in _.map||(N=y.map[B],_.map[B]=N,_.push({name:B,value:N}));y=_}}if(r.start(m.name,y,x),!x){if(m=m.firstChild)for(;d(m),m=m.next;);r.end(p)}}};return a.type!==1||t.inner?l[11](a):d(a),r.getContent()}}}var Hk=Ct.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),Mv=ar(sp,Rv),P_=ar(sp,N_),zk=Ct.each,ex=Ct.makeMap,nx=new Set;function cp(t,n){return Q(t.parseStyle(t.getAttrib(n,"style")))}function ox(t,n,r){return w.from(r.container()).filter(oe).exists(function(a){var s=t?0:-1;return n(a.data.charAt(r.offset()+s))})}function I_(t){var n=t.container();return oe(n)&&(n.data.length===0||Rt(n.data)&&vm.isBookmarkNode(n.parentNode))}function Me(t,n){return function(r){return w.from(nv(t?0:-1,r)).filter(n).isSome()}}function rx(t){return fg(t)&&Ku(lt.fromDom(t),"display")==="block"}function ix(t){return Un(t)&&!(Ae(n=t)&&n.getAttribute("data-mce-bogus")==="all");var n}function ql(t){Hd(t),Jo(t,lt.fromHtml('<br data-mce-bogus="1">'))}function L_(t){Ss(t).each(function(n){$u(n).each(function(r){Ts(t)&&Zu(n)&&Ts(r)&&Ee(n)})})}function ax(t,n){return s=Ln,ze(a=n,r=t)?(function(l,d){for(var m=nn(d)?d:Ln,h=l.dom,p=[];h.parentNode!==null&&h.parentNode!==void 0;){var x=h.parentNode,y=lt.fromDom(x);if(p.push(y),m(y)===!0)break;h=x}return p})(r,function(l){return s(l)||ke(l,a)}).slice(0,-1):[];var r,a,s}function vc(t,n){return[t].concat(ax(t,n))}function Pv(t,n,r){return xv(t,n,r,I_)}function ux(t,n){return bo(vc(lt.fromDom(n.container()),t),Ts)}function lp(t,n,r){return Pv(t,n.dom,r).forall(function(a){return ux(n,r).fold(function(){return Hs(a,r,n.dom)===!1},function(s){return Hs(a,r,n.dom)===!1&&ze(s,lt.fromDom(a.container()))})})}function sx(t,n,r){return ux(n,r).fold(function(){return Pv(t,n.dom,r).forall(function(a){return Hs(a,r,n.dom)===!1})},function(a){return Pv(t,a.dom,r).isNone()})}function F_(t){return Fg(t).exists(Zu)}function fp(t,n,r){var a=eo(We(vc(lt.fromDom(r.container()),n),Ts)).getOr(n);return ga(t,a.dom,r).filter(F_)}function dp(t,n){return Fg(n).exists(Zu)||fp(!0,t,n).isSome()}function mp(t,n){return w.from(n.getNode(!0)).map(lt.fromDom).exists(Zu)||fp(!1,t,n).isSome()}function cx(t){return Et.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()}function gp(t,n){return eo(We(vc(lt.fromDom(n.container()),t),Ts)).getOr(t)}function pp(t,n){return cx(n)?Ox(n):Ox(n)||pc(gp(t,n).dom,n).exists(Ox)}function Sm(t,n){return cx(n)?qv(n):qv(n)||cs(gp(t,n).dom,n).exists(qv)}function nd(t){return Fg(t).bind(function(n){return zo(n,Ao)}).exists(function(n){return Vt(["pre","pre-wrap"],Ku(n,"white-space"))})}function hp(t,n){return!nd(n)&&(pi(t,n)||e1(t,n)||mp(t,n)||pp(t,n))}function vp(t,n){return!nd(n)&&(od(t,n)||n1(t,n)||dp(t,n)||Sm(t,n))}function H_(t,n){return hp(t,n)||vp(t,(a=(r=n).container(),s=r.offset(),oe(a)&&s<a.data.length?Et(a,s+1):r));var r,a,s}function lx(t,n){return Kg(t.charAt(n))}function Vk(t){var n=t.container();return oe(n)&&ye(n.data,Aa)}function jk(t,n){return w.some(n).filter(Vk).bind(function(r){var a,s,l,d,m,h,p,x,y,_=r.container(),E=t,T=(m=_).data,A=Et(m,0);return(!lx(T,0)||H_(E,A)?(x=(h=_).data,(y=Ne(p=x.split(""),function(B,N){return Kg(B)&&0<N&&N<p.length-1&&Ug(p[N-1])&&Ug(p[N+1])?" ":B}).join(""))!==x&&(h.data=y,1)):(m.data=" "+T.slice(1),1))||(a=t,l=(s=_).data,d=Et(s,l.length-1),lx(l,l.length-1)&&!H_(a,d)&&(s.data=l.slice(0,-1)+" ",1))?w.some(r):w.none()})}function bc(t){var n=lt.fromDom(t.getBody());t.selection.isCollapsed()&&jk(n,Et.fromRangeStart(t.selection.getRng())).each(function(r){t.selection.setRng(r.toRange())})}function _n(t,n,r){var a,s,l,d,m,h,p,x;r!==0&&(s=Os(a=lt.fromDom(t),Ts).getOr(a),l=t.data.slice(n,n+r),d=n+r>=t.data.length&&vp(s,Et(t,t.data.length)),m=n===0&&hp(s,Et(t,0)),t.replaceData(n,r,(p=m,x=d,on(h=l,function(y,_){return Go(_)||Kg(_)?y.previousCharIsSpace||y.str===""&&p||y.str.length===h.length-1&&x?{previousCharIsSpace:!1,str:y.str+Aa}:{previousCharIsSpace:!0,str:y.str+" "}:{previousCharIsSpace:!1,str:y.str+_}},{previousCharIsSpace:!1,str:""}).str)))}function km(t,n){var r=t.data.slice(n);_n(t,n,r.length-wa(r).length)}function Iv(t,n){var r=t.data.slice(0,n),a=r.length-Li(r).length;_n(t,n-a,a)}function Lv(t,n,r,a){a===void 0&&(a=!0);var s=Li(t.data).length,l=a?t:n,d=a?n:t;return a?l.appendData(d.data):l.insertData(0,d.data),Ee(lt.fromDom(d)),r&&km(l,s),l}function Uk(t,n){return a=t,s=(r=n).container(),l=r.offset(),Et.isTextPosition(r)===!1&&s===a.parentNode&&l>Et.before(a).offset()?Et(n.container(),n.offset()-1):n;var r,a,s,l}function z_(t){return ct(t.previousSibling)?w.some((n=t.previousSibling,oe(n)?Et(n,n.data.length):Et.after(n))):t.previousSibling?Tu(t.previousSibling):w.none();var n}function V_(t){return ct(t.nextSibling)?w.some((n=t.nextSibling,oe(n)?Et(n,0):Et.before(n))):t.nextSibling?pa(t.nextSibling):w.none();var n}function Wk(t,n){return z_(n).orThunk(function(){return V_(n)}).orThunk(function(){return r=t,s=Et.before((a=n).previousSibling||a.parentNode),pc(r,s).fold(function(){return cs(r,Et.after(a))},w.some);var r,a,s})}function j_(t,n){return V_(n).orThunk(function(){return z_(n)}).orThunk(function(){return cs(r=t,Et.after(a=n)).fold(function(){return pc(r,Et.before(a))},w.some);var r,a})}function fx(t,n,r){r.fold(function(){t.focus()},function(a){t.selection.setRng(a.toRange(),n)})}function U_(t,n){return n&&Ot(t.schema.getBlockElements(),Ho(n))}function Fv(t){if(Qe(t)){var n=lt.fromHtml('<br data-mce-bogus="1">');return Hd(t),Jo(t,n),w.some(Et.before(n.dom))}return w.none()}function Gl(t,n,r,a){a===void 0&&(a=!0);var s,l,d,m,h,p,x,y,_,E,T,A,B,N,P=(A=n,B=t.getBody(),N=r.dom,(A?j_:Wk)(B,N).map(q(Uk,N))),H=Os(r,q(U_,t),(s=t.getBody(),function(Z){return Z.dom===s})),G=(m=P,l=d=r,h=Ot(t.schema.getTextInlineElements(),Ho(l)),E=$u(d).filter(nr),T=gr(d).filter(nr),Ee(d),x=T,y=m,_=function(Z,V,$){var X=Z.dom,it=V.dom,dt=X.data.length;return Lv(X,it,h),$.container()===it?Et(X,dt):$},((p=E).isSome()&&x.isSome()&&y.isSome()?w.some(_(p.getOrDie(),x.getOrDie(),y.getOrDie())):w.none()).orThunk(function(){return h&&(E.each(function(Z){return Iv(Z.dom,Z.dom.length)}),T.each(function(Z){return km(Z.dom,0)})),m}));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):H.bind(Fv).fold(function(){a&&fx(t,n,G)},function(Z){a&&fx(t,n,w.some(Z))})}function Hv(t){return Pa(t,"td,th")}function dx(t,n){return{start:t,end:n}}function zv(t,n){return Ei(lt.fromDom(t),"td,th",n)}function W_(t){return!ke(t.start,t.end)}function $_(t,n){return hm(t.start,n).bind(function(r){return hm(t.end,n).bind(function(a){return ke(r,a)?w.some(r):w.none()})})}function mx(t){return function(n){return $_(n,t).map(function(r){return{rng:n,table:r,cells:Hv(r)}})}}function q_(t,n,r,a){if(r.collapsed||!t.forall(W_))return w.none();if(n.isSameTable){var s=t.bind(mx(a));return w.some({start:s,end:s})}var l,d,m=zv(r.startContainer,a),h=zv(r.endContainer,a),p=m.bind((d=a,function(y){return hm(y,d).bind(function(_){return Qn(Hv(_)).map(function(E){return dx(y,E)})})})).bind(mx(a)),x=h.bind((l=a,function(y){return hm(y,l).bind(function(_){return eo(Hv(_)).map(function(E){return dx(E,y)})})})).bind(mx(a));return w.some({start:p,end:x})}function G_(t,n){return Pe(t,function(r){return ke(r,n)})}function Vv(t){return fi(G_(t.cells,t.rng.start),G_(t.cells,t.rng.end),function(n,r){return t.cells.slice(n,r+1)})}function gx(t,n){var r=n.startTable,a=n.endTable,s=t.cloneRange();return r.each(function(l){return s.setStartAfter(l.dom)}),a.each(function(l){return s.setEndBefore(l.dom)}),s}function $k(t,n){var r,a,s,l,d,m,h,p,x,y,_,E,T,A,B,N,P=(r=t,function(V){return ke(r,V)}),H=fi(zv((a=n).startContainer,s=P),zv(a.endContainer,s),dx),G=(x=P,y=Z((p=n).startContainer),_=Z(p.endContainer),E=y.isSome(),T=_.isSome(),A=fi(y,_,ke).getOr(!1),{startTable:y,endTable:_,isStartInTable:E,isEndInTable:T,isSameTable:A,isMultiTable:!A&&E&&T});function Z(V){return hm(lt.fromDom(V),x)}return B=n,N=P,H.exists(function(V){return!W_($=V)&&$_($,N).exists(function(X){var it=X.dom.rows;return it.length===1&&it[0].cells.length===1})&&A0(V.start,B);var $})?H.map(function(V){return Om.singleCellTable(n,V.start)}):G.isMultiTable?q_(H,m=G,h=n,P).bind(function(V){var $=V.start,X=V.end,it=$.bind(Vv).getOr([]),dt=X.bind(Vv).getOr([]);if(0<it.length&&0<dt.length){var wt=gx(h,m);return w.some(Om.multiTable(it,dt,wt))}return w.none()}):q_(H,l=G,d=n,P).bind(function(V){var $=V.start,X=V.end;return $.or(X)}).bind(function(V){var $=l.isSameTable,X=Vv(V).getOr([]);if($&&V.cells.length===X.length)return w.some(Om.fullTable(V.table));if(0<X.length){if($)return w.some(Om.partialTable(X,w.none()));var it=gx(d,l);return w.some(Om.partialTable(X,w.some(ht(ht({},l),{rng:it}))))}return w.none()})}function X_(t){return gt(t,function(n){Xu(n,"contenteditable"),ql(n)}),0}function px(t,n,r,a){var s=r.cloneRange();a?(s.setStart(r.startContainer,r.startOffset),s.setEndAfter(n.dom.lastChild)):(s.setStartBefore(n.dom.firstChild),s.setEnd(r.endContainer,r.endOffset)),Gv(t,s,n,!1)}function K_(t){var n=gc(t),r=lt.fromDom(t.selection.getNode());Sl(r.dom)&&Qe(r)?t.selection.setCursorLocation(r.dom,0):t.selection.collapse(!0),1<n.length&&Cr(n,function(a){return ke(a,r)})&&bu(r,"data-mce-selected","1")}function Y_(t,n,r){var a=t.selection.getRng();return X_(r.bind(function(s){var l,d,m,h=s.rng,p=s.isStartInTable,x=(l=p?h.endContainer:h.startContainer,w.from(t.dom.getParent(l,t.dom.isBlock)).map(lt.fromDom));h.deleteContents(),d=t,m=p,x.filter(Qe).each(function(_){m?Ee(_):(ql(_),d.selection.setCursorLocation(_.dom,0))});var y=p?n[0]:n[n.length-1];return px(t,y,a,p),Qe(y)?w.none():w.some(p?n.slice(1):n.slice(0,-1))}).getOr(n)),K_(t),!0}function qk(t,n,r,a){var s=t.selection.getRng(),l=n[0],d=r[r.length-1];px(t,l,s,!0),px(t,d,s,!1);var m=Qe(l)?n:n.slice(1),h=Qe(d)?r:r.slice(0,-1);return X_(m.concat(h)),a.deleteContents(),K_(t),!0}function Gk(t,n){return Gl(t,!1,n),!0}function J_(t,n){return bo(vc(n,t),rc)}function Q_(t,n){return(t?tl:ds)(n)}function Xk(t,n,r){var a=lt.fromDom(t.getBody());return Ax(a,r).fold(function(){return s=t,l=n,d=a,m=r,h=Et.fromRangeStart(s.selection.getRng()),J_(d,m).bind(function(_){return Qe(_)?Xv(s,_):(E=d,T=_,A=h,jg(l,s.getBody(),A).bind(function(B){return J_(E,lt.fromDom(B.getNode())).map(function(N){return ke(N,T)===!1})}));var E,T,A}).getOr(!1)||(x=n,y=Et.fromRangeStart((p=t).selection.getRng()),Q_(x,y)||ga(x,p.getBody(),y).exists(function(_){return Q_(x,_)}));var s,l,d,m,h,p,x,y},function(s){return y=n,_=a,E=s,T=Et.fromRangeStart((x=t).selection.getRng()),(Qe(E)?Xv(x,E):(d=_,h=E,p=T,jg(m=y,(l=x).getBody(),p).bind(function(A){return P=m,H=p,G=A,pa((N=h).dom).bind(function(Z){return Tu(N.dom).map(function(V){return P?H.isEqual(Z)&&G.isEqual(V):H.isEqual(V)&&G.isEqual(Z)})}).getOr(!0)?Xv(l,h):(B=h,Ax(d,lt.fromDom(A.getNode())).map(function(Z){return ke(Z,B)===!1}));var B,N,P,H,G}).or(w.some(!0)))).getOr(!1);var l,d,m,h,p,x,y,_,E,T})}function jv(t,n){var r,a,s,l,d,m,h,p,x=lt.fromDom(t.selection.getStart(!0)),y=gc(t);return t.selection.isCollapsed()&&y.length===0?Xk(t,n,x):(a=x,s=y,l=lt.fromDom((r=t).getBody()),d=r.selection.getRng(),s.length!==0?Y_(r,s,w.none()):(m=r,p=d,Ax(h=l,a).fold(function(){return _=m,$k(h,p).map(function(E){return E.fold(q(Gv,_),q(Gk,_),q(Y_,_),q(qk,_))});var _},function(_){return Xv(m,_)}).getOr(!1)))}function hx(t){return t.collapsed?t:(n=t,r=Et.fromRangeStart(n),a=Et.fromRangeEnd(n),s=n.commonAncestorContainer,ga(!1,s,a).map(function(l){return!Hs(r,a,s)&&Hs(r,l,s)?(d=r.container(),m=r.offset(),h=l.container(),p=l.offset(),(x=document.createRange()).setStart(d,m),x.setEnd(h,p),x):n;var d,m,h,p,x}).getOr(n));var n,r,a,s}function Kk(t,n){var r,a,s,l,d,m=n.firstChild,h=n.lastChild;return m&&m.name==="meta"&&(m=m.next),a=h=h&&h.attr("id")==="mce_marker"?h.prev:h,s=(r=t).getNonEmptyElements(),a&&(a.isEmpty(s)||(l=a,r.getBlockElements()[l.name]&&l.firstChild&&l.firstChild===l.lastChild&&((d=l.firstChild).name==="br"||d.value===Aa)))&&(h=h.prev),m&&m===h&&(m.name==="ul"||m.name==="ol")}function Yk(t){return 0<t.length&&(!(a=t[t.length-1]).firstChild||(n=a)&&n.firstChild&&n.firstChild===n.lastChild&&((r=n.firstChild).data===Aa||Do(r)))?t.slice(0,-1):t;var n,r,a}function vx(t,n){var r=t.getParent(n,t.isBlock);return r&&r.nodeName==="LI"?r:null}function Z_(t,n){var r=Et.after(t),a=us(n).prev(r);return a?a.toRange():null}function Jk(t,n,r,a){function s(ft){var It=Et.fromRangeStart(r),Wt=us(n.getRoot()),Pt=ft===1?Wt.prev(It):Wt.next(It);return!Pt||vx(n,Pt.getNode())!==tt}var l,d,m,h,p,x,y,_,E,T,A,B,N,P,H,G,Z,V,$,X,it,dt,wt,bt=(l=n,p=t.serialize(a),m=(d=l.createFragment(p)).firstChild,h=d.lastChild,m&&m.nodeName==="META"&&m.parentNode.removeChild(m),h&&h.id==="mce_marker"&&h.parentNode.removeChild(h),d),tt=vx(n,r.startContainer),et=Yk(We(bt.firstChild.childNodes,function(ft){return ft.nodeName==="LI"})),at=n.getRoot();return s(1)?($=at,wt=(V=tt).parentNode,Ct.each(et,function(ft){wt.insertBefore(ft,V)}),X=$,it=Et.before(V),(dt=us(X).next(it))?dt.toRange():null):s(2)?(x=tt,_=at,n.insertAfter((y=et).reverse(),x),Z_(y[0],_)):(T=et,A=at,B=E=tt,P=(N=r).cloneRange(),H=N.cloneRange(),P.setStartBefore(B),H.setEndAfter(B),G=[P.cloneContents(),H.cloneContents()],(Z=E.parentNode).insertBefore(G[0],E),Ct.each(T,function(ft){Z.insertBefore(ft,E)}),Z.insertBefore(G[1],E),Z.removeChild(E),Z_(T[T.length-1],A))}function Qk(t,n,r){var a,s,l,d,m=t.selection,h=t.dom;/^ | $/.test(n)&&(a=h,s=m.getRng(),l=n,l=hp(d=lt.fromDom(a.getRoot()),Et.fromRangeStart(s))?l.replace(/^ /,"&nbsp;"):l.replace(/^&nbsp;/," "),n=l=vp(d,Et.fromRangeEnd(s))?l.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):l.replace(/&nbsp;(<br( \/)?>)?$/," "));var p=t.parser,x=r.merge,y=ed({validate:t.getParam("validate")},t.schema),_='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',E=t.fire("BeforeSetContent",{content:n,format:"html",selection:!0,paste:r.paste});if(E.isDefaultPrevented())t.fire("SetContent",{content:E.content,format:"html",selection:!0,paste:r.paste});else{n=E.content,(n=r.preserve_zwsp?n:Da(n)).indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,_);var T,A,B=(T=m.getRng()).startContainer||(T.parentElement?T.parentElement():null),N=t.getBody();B===N&&m.isCollapsed()&&h.isBlock(N.firstChild)&&(A=N.firstChild)&&!t.schema.getShortEndedElements()[A.nodeName]&&h.isEmpty(N.firstChild)&&((T=h.createRng()).setStart(N.firstChild,0),T.setEnd(N.firstChild,0),m.setRng(T)),m.isCollapsed()||(function(Ut){var zt=Ut.dom,te=hx(Ut.selection.getRng());Ut.selection.setRng(te);var At,Yt=zt.getParent(te.startContainer,Dx),Ft=te;(At=Yt)!==null&&At===zt.getParent(Ft.endContainer,Dx)&&A0(lt.fromDom(At),Ft)?Gv(Ut,te,lt.fromDom(Yt)):Ut.getDoc().execCommand("Delete",!1,null)})(t);var P,H,G,Z,V,$,X,it,dt,wt,bt,tt,et,at,ft={context:(jt=m.getNode()).nodeName.toLowerCase(),data:r.data,insert:!0},It=p.parse(n,ft);if(r.paste===!0&&Kk(t.schema,It)&&vx(h,jt))return T=Jk(y,h,m.getRng(),It),m.setRng(T),void t.fire("SetContent",E);if((function(){for(var Ut=It;Ut=Ut.walk();)Ut.type===1&&Ut.attr("data-mce-fragment","1")})(),(Pt=It.lastChild).attr("id")==="mce_marker"){for(var Wt=Pt,Pt=Pt.prev;Pt;Pt=Pt.walk(!0))if(Pt.type===3||!h.isBlock(Pt.name)){t.schema.isValidChild(Pt.parent.name,"span")&&Pt.parent.insert(Wt,Pt,Pt.name==="br");break}}if(t._selectionOverrides.showBlockCaretContainer(jt),ft.invalid){t.selection.setContent(_);var jt=m.getNode(),Ht=t.getBody();for(jt.nodeType===9?jt=Pt=Ht:Pt=jt;Pt!==Ht;)Pt=(jt=Pt).parentNode;n=jt===Ht?Ht.innerHTML:h.getOuterHTML(jt),n=y.serialize(p.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return y.serialize(It)}))),jt===Ht?h.setHTML(Ht,n):h.setOuterHTML(jt,n)}else P=t,H=n=y.serialize(It),(G=jt).getAttribute("data-mce-bogus")==="all"?G.parentNode.insertBefore(P.dom.createFragment(H),G):(Z=G.firstChild,V=G.lastChild,!Z||Z===V&&Z.nodeName==="BR"?P.dom.setHTML(G,H):P.selection.setContent(H));X=x,wt=($=t).schema.getTextInlineElements(),bt=$.dom,X&&(it=$.getBody(),dt=Z0(bt),Ct.each(bt.select("*[data-mce-fragment]"),function(Ut){if(ot(wt[Ut.nodeName.toLowerCase()])&&Cs(cp(bt,Ut),function(te){return!nx.has(te)})){for(var zt=Ut.parentNode;ot(zt)&&zt!==it&&!(function(te,At,Yt){function Ft(Ye){var Y=te.getStyle(At,Ye),nt=te.getStyle(Yt,Ye);return le(Y)&&le(nt)&&Y!==nt}var ie=cp(te,At),re=cp(te,Yt);return Cr(ie,function(Ye){function Y(St){return Cr(St,function(Mt){return Mt===Ye})}if(Y(re)||!Y(Zc))return Ft(Ye);var nt=We(re,function(St){return Cr(Zc,function(Mt){return er(St,Mt)})});return Cr(nt,Ft)})})(bt,Ut,zt);zt=zt.parentNode)if(dt.compare(zt,Ut)){bt.remove(Ut,!0);break}}})),(function(Ut,zt){var te,At=Ut.dom,Yt=Ut.selection;if(zt){Yt.scrollIntoView(zt);var Ft=Ze(Ut.getBody(),zt);if(At.getContentEditable(Ft)==="false")return At.remove(zt),Yt.select(Ft);var ie,re=At.createRng(),Ye=zt.previousSibling;oe(Ye)?(re.setStart(Ye,Ye.nodeValue.length),Te.ie||(ie=zt.nextSibling,oe(ie)&&(Ye.appendData(ie.data),ie.parentNode.removeChild(ie)))):(re.setStartBefore(zt),re.setEndBefore(zt));var Y=At.getParent(zt,At.isBlock);At.remove(zt),Y&&At.isEmpty(Y)&&(Ut.$(Y).empty(),re.setStart(Y,0),re.setEnd(Y,0),Dx(Y)||Y.getAttribute("data-mce-fragment")||!(te=(function(nt){var St=Et.fromRangeStart(nt);if(St=us(Ut.getBody()).next(St))return St.toRange()})(re))?At.add(Y,At.create("br",{"data-mce-bogus":"1"})):(re=te,At.remove(Y))),Yt.setRng(re)}})(t,h.get("mce_marker")),tt=t.getBody(),Ct.each(tt.getElementsByTagName("*"),function(Ut){Ut.removeAttribute("data-mce-fragment")}),et=h,at=m.getStart(),w.from(et.getParent(at,"td,th")).map(lt.fromDom).each(L_),t.fire("SetContent",E),t.addVisual()}}function ve(t){return t instanceof Du}function Em(t,n,r){var a;t.dom.setHTML(t.getBody(),n),r!==!0&&hc(a=t)&&pa(a.getBody()).each(function(s){var l=s.getNode(),d=_l(l)?pa(l).getOr(s):s;a.selection.setRng(d.toRange())})}function Le(t,n,r){var a,s=(a=n,ht(ht({format:"html"},r),{set:!0,content:ve(a)?"":a})),l=r.no_events?s:t.fire("BeforeSetContent",s);return ve(n)||(n=l.content),w.from(t.getBody()).fold(Jt(n),function(d){return ve(n)?(function(E,T,A,B){var N,P,H,G;N=E.parser.getNodeFilters(),P=E.parser.getAttributeFilters(),H=A,G=(function(V,$){var X,it,dt={},wt={},bt=[];for(X in H.firstChild&&Nx(H.firstChild,function(tt){gt(V,function(et){et.name===tt.name&&(dt[et.name]?dt[et.name].nodes.push(tt):dt[et.name]={filter:et,nodes:[tt]})}),gt($,function(et){typeof tt.attr(et.name)=="string"&&(wt[et.name]?wt[et.name].nodes.push(tt):wt[et.name]={filter:et,nodes:[tt]})})}),dt)Ot(dt,X)&&bt.push(dt[X]);for(it in wt)Ot(wt,it)&&bt.push(wt[it]);return bt})(N,P),gt(G,function(V){gt(V.filter.callbacks,function($){$(V.nodes,V.filter.name,{})})});var Z=ed({validate:E.validate},E.schema).serialize(A);return B.content=Da(Xd(lt.fromDom(T))?Z:Ct.trim(Z)),Em(E,B.content,B.no_selection),B.no_events||E.fire("SetContent",B),A})(t,d,n,l):(m=t,h=d,x=l,(p=Da(p=n)).length===0||/^\s+$/.test(p)?(y='<br data-mce-bogus="1">',h.nodeName==="TABLE"?p="<tr><td>"+y+"</td></tr>":/^(UL|OL)$/.test(h.nodeName)&&(p="<li>"+y+"</li>"),p=(_=Vi(m))&&m.schema.isValidChild(h.nodeName.toLowerCase(),_.toLowerCase())?(p=y,m.dom.createHTML(_,Dg(m),p)):p||'<br data-mce-bogus="1">',Em(m,p,x.no_selection),m.fire("SetContent",x)):(x.format!=="raw"&&(p=ed({validate:m.validate},m.schema).serialize(m.parser.parse(p,{isRootContent:!0,insert:!0}))),x.content=Xd(lt.fromDom(h))?p:Ct.trim(p),Em(m,x.content,x.no_selection),x.no_events||m.fire("SetContent",x)),x.content);var m,h,p,x,y,_})}function t1(t){return nn(t)?t:Ln}function bx(t,n,r){var a=n(t),s=t1(r);return a.orThunk(function(){return s(t)?w.none():(function(l){for(var d=t.dom,m=t1(s);d.parentNode;){var d=d.parentNode,h=lt.fromDom(d),p=l(h);if(p.isSome())return p;if(m(h))break}return w.none()})(n)})}function De(t,n,r){var a=t.formatter.get(r);if(a)for(var s=0;s<a.length;s++){var l=a[s];if(vr(l)&&l.inherit===!1&&t.dom.is(n,l.selector))return 1}}function yx(t,n,r,a,s){var l=t.dom.getRoot();return n!==l&&(n=t.dom.getParent(n,function(d){return!!De(t,d,r)||d.parentNode===l||!!Ws(t,d,r,a,!0)}),!!Ws(t,n,r,a,s))}function xx(t,n,r){return!!Kv(n,r.inline)||!!Kv(n,r.block)||(r.selector?n.nodeType===1&&t.is(n,r.selector):void 0)}function mn(t,n,r,a,s,l){var d=r[a];if(nn(r.onmatch))return r.onmatch(n,r,a);if(d){if(Je(d.length)){for(var m in d)if(Ot(d,m)){var h=a==="attributes"?t.getAttrib(n,m):qg(t,n,m),p=Vs(d[m],l),x=$r(h)||En(h);if((!x||!$r(p))&&(s&&x&&!r.exact||(!s||r.exact)&&!Kv(h,$g(t,p,m))))return}}else for(var y=0;y<d.length;y++)if(a==="attributes"?t.getAttrib(n,d[y]):qg(t,n,d[y]))return 1}return 1}function Uv(t,n,r,a,s){if(a)return yx(t,a,n,r,s);if(a=t.selection.getNode(),yx(t,a,n,r,s))return!0;var l=t.selection.getStart();return!(l===a||!yx(t,l,n,r,s))}function wx(t){return 0<(function(n){for(var r=[];n;){if(n.nodeType===3&&n.nodeValue!==ri||1<n.childNodes.length)return[];n.nodeType===1&&r.push(n),n=n.firstChild}return r})(t).length}function Cx(t){if(t){var n=new Vo(t,t);for(t=n.current();t;t=n.next())if(oe(t))return t}return null}function _x(t){var n=lt.fromTag("span");return Zs(n,{id:$s,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&Jo(n,lt.fromText(ri)),n}function Sx(t,n,r){r===void 0&&(r=!0);var a,s,l,d,m,h,p,x,y=t.dom,_=t.selection;wx(n)?Gl(t,!1,lt.fromDom(n),r):(a=_.getRng(),s=y.getParent(n,y.isBlock),l=a.startContainer,d=a.startOffset,m=a.endContainer,h=a.endOffset,(x=Cx(n))&&x.nodeValue.charAt(0)===ri&&x.deleteData(0,1),p=x,y.remove(n,!0),l===p&&0<d&&a.setStart(p,d-1),m===p&&0<h&&a.setEnd(p,h-1),s&&y.isEmpty(s)&&ql(lt.fromDom(s)),_.setRng(a))}function kx(t,n,r){r===void 0&&(r=!0);var a=t.dom,s=t.selection;if(n)Sx(t,n,r);else if(!(n=Vl(t.getBody(),s.getStart())))for(;n=a.get($s);)Sx(t,n,!1)}function Wv(t,n){return t.appendChild(n),n}function $v(t,n){var r=Jn(t,function(a,s){return Wv(a,s.cloneNode(!1))},n);return Wv(r,r.ownerDocument.createTextNode(ri))}function Zk(t,n,r,a,s,l){var d,m,h=t.formatter,p=t.dom,x=We(Q(h.get()),function(_){return _!==a&&!ye(_,"removeformat")});if(0<We((d=t,m=r,on(x,function(_,E){var T=S0(d,E);return d.formatter.matchNode(m,E,{},T)?_.concat([E]):_},[])),function(_){return A=a,B=["inline","block","selector","attributes","styles","classes"],!Cr((T=t).formatter.get(_),function(N){var P=E(N);return Cr(T.formatter.get(A),function(H){var G,Z=E(H),V=P,$=Z;return Ji(G=G===void 0?qr:G).eq(V,$)})});function E(N){return Fr(N,function(P,H){return Cr(B,function(G){return G===H})})}var T,A,B}).length){var y=r.cloneNode(!1);return p.add(n,y),h.remove(a,s,y,l),p.remove(y),w.some(y)}return w.none()}function tE(t,n,r,a){var s,l,d,m,h,p,x,y,_,E,T,A,B,N,P,H=t.dom,G=t.selection,Z=[],V=G.getRng(),$=V.startContainer,X=V.startOffset,it=$;for($.nodeType===3&&(X!==$.nodeValue.length&&(s=!0),it=it.parentNode);it;){if(Ws(t,it,n,r,a)){l=it;break}it.nextSibling&&(s=!0),Z.push(it),it=it.parentNode}l&&(s?(d=G.getBookmark(),V.collapse(!0),m=Qg($f(t,V,t.formatter.get(n),!0)),t.formatter.remove(n,r,m,a),G.moveToBookmark(d)):(h=Vl(t.getBody(),l),_=p=_x(!1).dom,(A=(T=t.dom).getParent(E=h!==null?h:l,q(dv,t)))&&T.isEmpty(A)?E.parentNode.replaceChild(_,E):(B=lt.fromDom(E),N=Pa(B,"br"),P=We((function(){for(var dt=[],wt=B.dom;wt;)dt.push(lt.fromDom(wt)),wt=wt.lastChild;return dt})().slice(-1),Zu),N.length===P.length&&gt(P,Ee),T.isEmpty(E)?E.parentNode.replaceChild(_,E):T.insertAfter(_,E)),x=Zk(t,p,l,n,r,a),y=$v(Z.concat(x.toArray()),p),Sx(t,h,!1),G.setCursorLocation(y,1),H.isEmpty(l)&&H.remove(l)))}function eE(t,n){var r=t.schema.getTextInlineElements();return Ot(r,Ho(n))&&!zs(n.dom)&&!Lc(n.dom)}gt(["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"],function(t){nx.add(t)});var Ex,Zc=["font","text-decoration","text-emphasis"],qv=q(ox,!0,Go),Ox=q(ox,!1,Go),nE=Me(!0,rx),oE=Me(!1,rx),fs=Me(!0,qa),ro=Me(!1,qa),tl=Me(!0,_l),ds=Me(!1,_l),Nu=Me(!0,ix),Ia=Me(!1,ix),pi=q(sx,!1),od=q(sx,!0),e1=q(lp,!1),n1=q(lp,!0),Us=q(fp,!1),Tx=q(fp,!0),Om=Ga([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),o1=function(t){var n;return(Mc(n=t)===8||Ho(n)==="#comment"?$u:Ss)(t).bind(o1).orThunk(function(){return w.some(t)})},Gv=function(t,n,r,a){a===void 0&&(a=!0),n.deleteContents();var s,l=o1(r).getOr(r),d=lt.fromDom(t.dom.getParent(l.dom,t.dom.isBlock));return Qe(d)&&(ql(d),a&&t.selection.setCursorLocation(d.dom,0)),ke(r,d)||gt((xf(_i(d),r)?[]:_i(s=d).map(mo).map(function(m){return We(m,function(h){return!ke(s,h)})}).getOr([])).concat(mo(r)),function(m){ke(m,d)||ze(m,d)||!Qe(m)||Ee(m)}),!0},Ax=function(t,n){return bo(vc(n,t),function(r){return Ao(r)&&Ho(r)==="caption"})},Xv=function(t,n){return ql(n),t.selection.setCursorLocation(n.dom,0),w.some(!0)},Dx=Sl,Nx=function(t,n){n(t),t.firstChild&&Nx(t.firstChild,n),t.next&&Nx(t.next,n)},Kv=Wg,Ws=function(t,n,r,a,s){var l=t.formatter.get(r),d=t.dom;if(l&&n)for(var m=0;m<l.length;m++){var h=l[m];if(xx(t.dom,n,h)&&mn(d,n,h,"attributes",s,a)&&mn(d,n,h,"styles",s,a)){var p=h.classes;if(p){for(var x=0;x<p.length;x++)if(!t.dom.hasClass(n,Vs(p[x],a)))return}return h}}},ri=Qr,$s="_mce_caret",Yv={},r1=Yo,Bx=ci;function rd(t){return Ae(t)&&!eu(t)&&!zs(t)&&!Lc(t)}function bp(t,n){for(var r=t;r;r=r[n]){if(oe(r)&&le(r.data))return t;if(Ae(r)&&!eu(r))return r}return t}function i1(t,n,r){var a=Z0(t);if(n&&r&&(n=bp(n,"previousSibling"),r=bp(r,"nextSibling"),a.compare(n,r))){for(var s=n.nextSibling;s&&s!==r;){var l=s,s=s.nextSibling;n.appendChild(l)}return t.remove(r),Ct.each(Ct.grep(r.childNodes),function(d){n.appendChild(d)}),n}return r}function el(t,n,r,a){var s;a&&n.merge_siblings!==!1&&(s=i1(t,fv(a),a),i1(t,s,fv(s,!0)))}function a1(t,n){return function(r){return!(!r||!qg(t,r,n))}}function u1(t,n,r){return function(a){var s,l;t.setStyle(a,n,r),a.getAttribute("style")===""&&a.removeAttribute("style"),s=t,(l=a).nodeName==="SPAN"&&s.getAttribs(l).length===0&&s.remove(l,!0)}}function va(t,n,r){return t.isChildOf(n,r)&&n!==r&&!t.isBlock(r)}function Jv(t,n,r){var a,s=n[r?"startContainer":"endContainer"],l=n[r?"startOffset":"endOffset"];return Ae(s)&&(a=s.childNodes.length-1,!r&&l&&l--,s=s.childNodes[a<l?a:l]),oe(s)&&r&&l>=s.nodeValue.length&&(s=new Vo(s,t.getBody()).next()||s),oe(s)&&!r&&l===0&&new Vo(s,t.getBody()).prev()||s}function ms(t,n){var r=n?"firstChild":"lastChild";if(/^(TR|TH|TD)$/.test(t.nodeName)&&t[r]){var a=t[r];return t.nodeName==="TR"&&a[r]||a}return t}function zn(t,n,r,a){var s=t.create(r,a);return n.parentNode.insertBefore(s,n),s.appendChild(n),s}function Xl(t,n,r,a,s){var l=lt.fromDom(n),d=lt.fromDom(t.create(a,s));return Fd(d,(r?vf:Ic)(l)),r?(ta(l,d),Qs(d,l)):(Fi(l,d),Jo(d,l)),d.dom}function id(t,n,r,a){var s=fv(n,r,a);return $r(s)||s.nodeName==="BR"||t.isBlock(s)}function Rx(t,n,r,a,s){var l,d,m=t.dom,h=m,p=a;if(!(jr(d=n)&&Nm(p,d.inline)||wn(d)&&Nm(p,d.block)||vr(d)&&Ae(p)&&h.is(p,d.selector)||n.links&&a.nodeName==="A"))return Am.keep();var x,y,_,E,T,A,B,N,P=a;if(jr(n)&&n.remove==="all"&&Nn(n.preserve_attributes)){var H=We(m.getAttribs(P),function($){return Vt(n.preserve_attributes,$.name.toLowerCase())});if(m.removeAllAttribs(P),gt(H,function($){return m.setAttrib(P,$.name,$.value)}),0<H.length)return Am.rename("span")}if(n.remove!=="all"){Dm(n.styles,function($,X){$=$g(m,Vs($,r),X+""),Va(X)&&(X=$,s=null),!n.remove_similar&&s&&!Nm(qg(m,s,X),$)||m.setStyle(P,X,""),l=!0}),l&&m.getAttrib(P,"style")===""&&(P.removeAttribute("style"),P.removeAttribute("data-mce-style")),Dm(n.attributes,function($,X){var it;if($=Vs($,r),Va(X)&&(X=$,s=null),n.remove_similar||!s||Nm(m.getAttrib(s,X),$))if(X==="class"&&($=m.getAttrib(P,X))&&(it="",gt($.split(/\s+/),function(dt){/mce\-\w+/.test(dt)&&(it+=(it?" ":"")+dt)}),it))m.setAttrib(P,X,it);else{if(x1.test(X)&&P.removeAttribute("data-mce-"+X),X==="style"&&ea(["li"])(P)&&m.getStyle(P,"list-style-type")==="none")return P.removeAttribute(X),void m.setStyle(P,"list-style-type","none");X==="class"&&P.removeAttribute("className"),P.removeAttribute(X)}}),Dm(n.classes,function($){$=Vs($,r),s&&!m.hasClass(s,$)||m.removeClass(P,$)});for(var G=m.getAttribs(P),Z=0;Z<G.length;Z++){var V=G[Z].nodeName;if(V.indexOf("_")!==0&&V.indexOf("data-")!==0)return Am.keep()}}return n.remove!=="none"?(x=t,_=n,A=(y=P).parentNode,B=x.dom,N=Vi(x),wn(_)&&(N?A===B.getRoot()&&(_.list_block&&Nm(y,_.list_block)||gt(Zn(y.childNodes),function($){Yc(x,N,$.nodeName.toLowerCase())?E?E.appendChild($):(E=zn(B,$,N),B.setAttribs(E,x.settings.forced_root_block_attrs)):E=null})):B.isBlock(y)&&!B.isBlock(A)&&(id(B,y,!1)||id(B,y.firstChild,!0,!0)||y.insertBefore(B.create("br"),y.firstChild),id(B,y,!0)||id(B,y.lastChild,!1,!0)||y.appendChild(B.create("br")))),vr(T=_)&&jr(T)&&xf(no(T,"mixed"),!0)&&!Nm(_.inline,y)||B.remove(y,!0),Am.removed()):Am.keep()}function Kl(t,n,r,a,s){return Rx(t,n,r,a,s).fold(Ln,function(l){return t.dom.rename(a,l),!0},lo)}function Qv(t,n,r,a,s){function l(N){var P,H,G,Z,V,$=(H=n,G=r,Z=s,gt(pm((P=t).dom,N.parentNode).reverse(),function(X){var it;V||X.id==="_start"||X.id==="_end"||(it=Ws(P,X,H,G,Z))&&it.split!==!1&&(V=X)}),V);return(function(X,it,dt,wt,bt,tt,et,at){var ft,It,Wt=X.dom;if(dt){for(var Pt=dt.parentNode,jt=wt.parentNode;jt&&jt!==Pt;jt=jt.parentNode){for(var Ht=Wt.clone(jt,!1),Ut=0;Ut<it.length&&(Ht=(function(zt,te,At){return Rx(zt,te,at,At,At).fold(Jt(At),function(Yt){return zt.dom.createFragment().appendChild(At),zt.dom.rename(At,Yt)},Jt(null))})(X,it[Ut],Ht))!==null;Ut++);Ht&&(ft&&Ht.appendChild(ft),It=It||Ht,ft=Ht)}!tt||et.mixed&&Wt.isBlock(dt)||(wt=Wt.split(dt,wt)),ft&&(bt.parentNode.insertBefore(ft,bt),It.appendChild(bt),jr(et)&&el(Wt,et,0,ft))}return wt})(t,x,$,N,N,!0,y,r)}function d(N){return Cr(x,function(P){return Kl(t,P,r,N,N)})}function m(N){var P,H=E.get(N?"_start":"_end"),G=H[N?"firstChild":"lastChild"];return eu(P=G)&&Ae(P)&&(P.id==="_start"||P.id==="_end")&&(G=G[N?"firstChild":"lastChild"]),oe(G)&&G.data.length===0&&(G=N?H.previousSibling||H.nextSibling:H.nextSibling||H.previousSibling),E.remove(H,!0),G}function h(N){var P=$f(t,N,x,N.collapsed);if(y.split){if(P=Qg(P),(G=Jv(t,P,!0))!==(Z=Jv(t,P))){if(G=ms(G,!0),Z=ms(Z,!1),va(E,G,Z)){var H=w.from(G.firstChild).getOr(G);return l(Xl(E,H,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void m(!0)}if(va(E,Z,G))return H=w.from(Z.lastChild).getOr(Z),l(Xl(E,H,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void m(!1);var G=zn(E,G,"span",{id:"_start","data-mce-type":"bookmark"}),Z=zn(E,Z,"span",{id:"_end","data-mce-type":"bookmark"}),V=E.createRng();V.setStartAfter(G),V.setEndBefore(Z),qf(E,V,function($){gt($,function(X){eu(X)||eu(X.parentNode)||l(X)})}),l(G),l(Z),G=m(!0),Z=m()}else G=Z=l(G);P.startContainer=G.parentNode||G,P.startOffset=E.nodeIndex(G),P.endContainer=Z.parentNode||Z,P.endOffset=E.nodeIndex(Z)+1}qf(E,P,function($){gt($,A)})}var p,x=t.formatter.get(n),y=x[0],_=!0,E=t.dom,T=t.selection,A=function(N){var P=!0,H=!1;Ae(N)&&E.getContentEditable(N)&&(P=_,_=E.getContentEditable(N)==="true",H=!0);var G,Z,V=Zn(N.childNodes);if(_&&!H&&(G=d(N)||Cr(x,function(X){return xx(E,N,X)}),Z=N.parentNode,!G&&ot(Z)&&mv(y)&&d(Z)),y.deep&&V.length){for(var $=0;$<V.length;$++)A(V[$]);H&&(_=P)}gt(["underline","line-through","overline"],function(X){Ae(N)&&t.dom.getStyle(N,"text-decoration")===X&&N.parentNode&&_0(E,N.parentNode)===X&&Kl(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:X}},null,N)})};if(a)return cr(a)?((p=E.createRng()).setStartBefore(a),p.setEndAfter(a),h(p)):h(a),void H0(t,n,a,r);if(E.getContentEditable(T.getNode())!=="false")T.isCollapsed()&&jr(y)&&!gc(t).length?tE(t,n,r,s):(rn(T,!0,function(){N0(t,h)}),jr(y)&&Uv(t,n,r,T.getStart())&&lv(E,T,T.getRng()),t.nodeChanged()),H0(t,n,a,r);else{a=T.getNode();for(var B=0;B<x.length&&(!x[B].ceFalseOverride||!Kl(t,x[B],r,a,a));B++);H0(t,n,a,r)}}function rE(t){return Ae(t)&&!eu(t)&&!zs(t)&&!Lc(t)}function Zv(t){return Ot(t,"vars")}function s1(t,n,r,a,s){return Ko(n,function(l){var d=t.formatter.matchNode(l,r,s??{},a);return!Je(d)},function(l){return De(t,l,r)||!a&&ot(t.formatter.matchNode(l,r,s,!0))})}function Mx(t,n){var r=n??zx(t);return We(pm(t.dom,r),function(a){return Ae(a)&&!Lc(a)})}function c1(t,n,r,a,s,l){var d,m,h,p,x,y,_,E,T;return n.get()===null&&(m=t,(d=n).set({}),m.on("NodeChange",function(A){Vx(m,A.element,d.get())}),m.on("FormatApply FormatRemove",function(A){var B=w.from(A.node).map(function(N){return cr(N)?N:N.startContainer}).bind(function(N){return Ae(N)?w.some(N):w.from(N.parentElement)}).getOrThunk(function(){return zx(m)});Vx(m,B,d.get())})),h=t,x=r,y=a,_=s,E=l,T=(p=n).get(),gt(x.split(","),function(A){function B(){var H=Mx(h);return s1(h,H,A,_,E).isSome()}var N,P=no(T,A).getOrThunk(function(){var H={withSimilar:{state:Bi(!1),similar:!0,callbacks:[]},withoutSimilar:{state:Bi(!1),similar:!1,callbacks:[]},withVars:[]};return T[A]=H});Je(E)?((N=_?P.withSimilar:P.withoutSimilar).callbacks.push(y),N.callbacks.length===1&&N.state.set(B())):P.withVars.push({state:Bi(B()),similar:_,vars:E,callback:y})}),p.set(T),{unbind:function(){var A,B=r,N=a,P=(A=n).get();gt(B.split(","),function(H){return no(P,H).each(function(G){P[H]={withSimilar:ht(ht({},G.withSimilar),{callbacks:We(G.withSimilar.callbacks,function(Z){return Z!==N})}),withoutSimilar:ht(ht({},G.withoutSimilar),{callbacks:We(G.withoutSimilar.callbacks,function(Z){return Z!==N})}),withVars:We(G.withVars,function(Z){return Z.callback!==N})}})}),A.set(P)}}}function yp(t,n){var r=(n||document).createDocumentFragment();return gt(t,function(a){r.appendChild(a.dom)}),lt.fromDom(r)}function tb(t,n,r){return{element:t,width:n,rows:r}}function xp(t,n){return{element:t,cells:n}}function l1(t,n){var r=parseInt(ki(t,n),10);return isNaN(r)?1:r}function f1(t){return on(t,function(n,r){return r.cells.length>n?r.cells.length:n},0)}function d1(t,n){for(var r=t.rows,a=0;a<r.length;a++)for(var s=r[a].cells,l=0;l<s.length;l++)if(ke(s[l],n))return w.some({x:l,y:a});return w.none()}function m1(t,n,r,a,s){for(var l=[],d=t.rows,m=r;m<=s;m++){var h=d[m].cells,p=n<a?h.slice(n,a+1):h.slice(a,n+1);l.push(xp(d[m].element,p))}return l}function iE(t){var n=tb(Qa(t),0,[]);return gt(Pa(t,"tr"),function(r,a){gt(Pa(r,"td,th"),function(s,l){(function(d,m,h,p,x){for(var y=l1(x,"rowspan"),_=l1(x,"colspan"),E=d.rows,T=h;T<h+y;T++){E[T]||(E[T]=xp(is(p),[]));for(var A=m;A<m+_;A++)E[T].cells[A]=T===h&&A===m?x:Qa(x)}})(n,(function(d,m,h){for(;p=m,((x=d.rows)[h]?x[h].cells:[])[p];)m++;var p,x;return m})(n,l,a),a,r,s)})}),tb(n.element,f1(n.rows),n.rows)}function aE(t,n){var r,a,s,l=lt.fromDom(n.commonAncestorContainer),d=vc(l,t),m=We(d,function(p){return co(p)||Ny(p)}),h=(s=n,bo(a=d,function(p){return Ho(p)==="li"&&A0(p,s)}).fold(Jt([]),function(p){return bo(a,function(x){return Ho(x)==="ul"||Ho(x)==="ol"}).map(function(x){var y=lt.fromTag(Ho(x));return cg(y,Fr(Ud(x),function(_,E){return er(E,"list-style")})),[lt.fromTag("li"),y]}).getOr([])}));return Ne(m.concat(h.length?h:fn(r=l)?_i(r).filter(Wo).fold(Jt([]),function(p){return[r,p]}):Wo(r)?[r]:[]),Qa)}function g1(){return yp([])}function uE(t,n){return Xa(n[0],"table",q(ke,t)).bind(function(r){var a,s,l=n[0],d=n[n.length-1],m=iE(r);return s=d,d1(a=m,l).bind(function(h){return d1(a,s).map(function(p){return x=a,y=h.x,_=h.y,E=p.x,A=_<(T=p.y)?m1(x,y,_,E,T):m1(x,y,T,E,_),tb(x.element,f1(A),A);var x,y,_,E,T,A})}).map(function(h){return yp([(x=Ne((p=h).rows,function(E){var T=Ne(E.cells,function(B){var N=is(B);return Xu(N,"colspan"),Xu(N,"rowspan"),N}),A=Qa(E.element);return Fd(A,T),A}),y=Qa(p.element),Fd(_=lt.fromTag("tbody"),x),Jo(y,_),y)]);var p,x,y,_})}).getOrThunk(g1)}function p1(t,n){var r,a,s,l,d,m,h,p=T0(n,t);return 0<p.length?uE(t,p):(r=t,0<(a=n).length&&a[0].collapsed?g1():(s=r,l=a[0],d=lt.fromDom(l.cloneContents()),h=on(m=aE(s,l),function(x,y){return Jo(y,x),y},d),0<m.length?yp([h]):h))}function Tm(t,n){return 0<=n&&n<t.length&&Go(t.charAt(n))}function eb(t,n){var r=Da(t.innerText);return n?r.replace(/^[ \f\n\r\t\v]+/,""):r}function Px(t){return Ae(t)?t.outerHTML:oe(t)?Ns.encodeRaw(t.data,!1):Es(t)?"<!--"+t.data+"-->":""}function h1(t,n){var r=0;gt(t,function(a){var s,l,d,m,h,p,x,y;a[0]===0?r++:a[0]===1?(m=n,h=a[1],p=r,y=(function(_){var E,T=document.createElement("div"),A=document.createDocumentFragment();for(_&&(T.innerHTML=_);E=T.firstChild;)A.appendChild(E);return A})(h),m.hasChildNodes()&&p<m.childNodes.length?(x=m.childNodes[p]).parentNode.insertBefore(y,x):m.appendChild(y),r++):a[0]===2&&(l=r,(s=n).hasChildNodes()&&l<s.childNodes.length&&(d=s.childNodes[l]).parentNode.removeChild(d))})}function wp(t){var n=t.serializer.getTempAttrs(),r=Q0(t.getBody(),n);return r.querySelector("iframe")!==null?{type:"fragmented",fragments:We(Ne(Zn(r.childNodes),ar(Da,Px)),function(a){return 0<a.length}),content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:Da(r.innerHTML),bookmark:null,beforeBookmark:null}}function nb(t,n,r){var a,s,l,d,m,h,p,x,y,_,E,T=r?n.beforeBookmark:n.bookmark;function A(B,N,P,H){for(var G=B;G-N<H&&G<P&&d[G]===m[G-N];)++G;return{start:B,end:G,diag:N}}n.type==="fragmented"?(a=n.fragments,s=t.getBody(),l=Ne(Zn(s.childNodes),Px),h1((m=a,h=(d=l).length+m.length+2,p=new Array(h),x=new Array(h),y=function(B,N,P,H,G){var Z=_(B,N,P,H);if(Z===null||Z.start===N&&Z.diag===N-H||Z.end===B&&Z.diag===B-P)for(var V=B,$=P;V<N||$<H;)V<N&&$<H&&d[V]===m[$]?(G.push([0,d[V]]),++V,++$):H-P<N-B?(G.push([2,d[V]]),++V):(G.push([1,m[$]]),++$);else{y(B,Z.start,P,Z.start-Z.diag,G);for(var X=Z.start;X<Z.end;++X)G.push([0,d[X]]);y(Z.end,N,Z.end-Z.diag,H,G)}},_=function(B,N,P,H){var G=N-B,Z=H-P;if(G==0||Z==0)return null;var V,$,X,it,dt,wt=G-Z,bt=Z+G,tt=(bt%2==0?bt:1+bt)/2;for(p[1+tt]=B,x[1+tt]=N+1,V=0;V<=tt;++V){for($=-V;$<=V;$+=2){for(X=$+tt,$===-V||$!==V&&p[X-1]<p[X+1]?p[X]=p[X+1]:p[X]=p[X-1]+1,dt=(it=p[X])-B+P-$;it<N&&dt<H&&d[it]===m[dt];)p[X]=++it,++dt;if(wt%2!=0&&wt-V<=$&&$<=wt+V&&x[X-wt]<=p[X])return A(x[X-wt],$+B-P,N,H)}for($=wt-V;$<=wt+V;$+=2){for(X=$+tt-wt,$===wt-V||$!==wt+V&&x[X+1]<=x[X-1]?x[X]=x[X+1]-1:x[X]=x[X-1],dt=(it=x[X]-1)-B+P-$;B<=it&&P<=dt&&d[it]===m[dt];)x[X]=it--,dt--;if(wt%2==0&&-V<=$&&$<=V&&x[X]<=p[X+wt])return A(x[X],$+B-P,N,H)}}},E=[],y(0,d.length,0,m.length,E),E),s)):t.setContent(n.content,{format:"raw",no_selection:!ot(T)||!w0(T)||!T.isFakeCaret}),t.selection.moveToBookmark(T)}function Bu(t){return t.type==="fragmented"?t.fragments.join(""):t.content}function v1(t){var n=lt.fromTag("body",sE());return dc(n,Bu(t)),gt(Pa(n,"*[data-mce-bogus]"),bf),n.dom.innerHTML}function ou(t,n){return!(!t||!n)&&(a=n,Bu(t)===Bu(a)||(r=n,v1(t)===v1(r)));var r,a}function Ix(t){return t.get()===0}function Cp(t,n,r){Ix(r)&&(t.typing=n)}function b1(t,n){t.typing&&(Cp(t,!1,n),t.add())}function ob(t){return{undoManager:{beforeChange:function(n,r){var a=t,s=r;Ix(n)&&s.set(r_(a.selection))},add:function(n,r,a,s,l,d){return(function(m,h,p,x,y,_,E){var T=wp(m);if(_=Ct.extend(_=_||{},T),Ix(x)===!1||m.removed)return null;var A=h.data[p.get()];if(m.fire("BeforeAddUndo",{level:_,lastLevel:A,originalEvent:E}).isDefaultPrevented()||A&&ou(A,_))return null;h.data[p.get()]&&y.get().each(function(H){h.data[p.get()].beforeBookmark=H});var B=m.getParam("custom_undo_redo_levels",0,"number");if(B&&h.data.length>B){for(var N=0;N<h.data.length-1;N++)h.data[N]=h.data[N+1];h.data.length--,p.set(h.data.length)}_.bookmark=r_(m.selection),p.get()<h.data.length-1&&(h.data.length=p.get()+1),h.data.push(_),p.set(h.data.length-1);var P={level:_,lastLevel:A,originalEvent:E};return 0<p.get()?(m.setDirty(!0),m.fire("AddUndo",P),m.fire("change",P)):m.fire("AddUndo",P),_})(t,n,r,a,s,l,d)},undo:function(n,r,a){return s=t,d=r,m=a,(l=n).typing&&(l.add(),l.typing=!1,Cp(l,!1,d)),0<m.get()&&(m.set(m.get()-1),nb(s,h=l.data[m.get()],!0),s.setDirty(!0),s.fire("Undo",{level:h})),h;var s,l,d,m,h},redo:function(n,r){return a=t,l=r,(s=n).get()<l.length-1&&(s.set(s.get()+1),nb(a,d=l[s.get()],!1),a.setDirty(!0),a.fire("Redo",{level:d})),d;var a,s,l,d},clear:function(n,r){var a,s=t,l=r;(a=n).data=[],l.set(0),a.typing=!1,s.fire("ClearUndos")},reset:function(n){var r;(r=n).clear(),r.add()},hasUndo:function(n,r){return a=t,s=n,0<r.get()||s.typing&&s.data[0]&&!ou(wp(a),s.data[0]);var a,s},hasRedo:function(n,r){return a=n,r.get()<a.data.length-1&&!a.typing;var a},transact:function(n,r,a){return l=a,b1(s=n,r),s.beforeChange(),s.ignore(l),s.add();var s,l},ignore:function(n,r){try{n.set(n.get()+1),r()}finally{n.set(n.get()-1)}},extra:function(n,r,a,s){var l,d,m=t,h=r,p=s;(l=n).transact(a)&&(d=l.data[h.get()].bookmark,nb(m,l.data[h.get()-1],!0),l.transact(p)&&(l.data[h.get()-1].beforeBookmark=d))}},formatter:{match:function(n,r,a,s){return Uv(t,n,r,a,s)},matchAll:function(n,r){return s=n,l=r,d=[],m={},h=(a=t).selection.getStart(),a.dom.getParent(h,function(p){for(var x=0;x<s.length;x++){var y=s[x];!m[y]&&Ws(a,p,y,l)&&(m[y]=!0,d.push(y))}},a.dom.getRoot()),d;var a,s,l,d,m,h},matchNode:function(n,r,a,s){return Ws(t,n,r,a,s)},canApply:function(n){return(function(r){var a=r.formatter.get(n),s=r.dom;if(a)for(var l=pm(s,r.selection.getStart()),d=a.length-1;0<=d;d--){var m=a[d];if(!vr(m)||ot(m.defaultBlock))return!0;for(var h=l.length-1;0<=h;h--)if(s.is(l[h],m.selector))return!0}return!1})(t)},closest:function(n){return a=t,s=n,w.from(a.selection.getStart(!0)).bind(function(l){return bx(lt.fromDom(l),function(d){return ko(s,function(m){return Ws(a,d.dom,h=m)?w.some(h):w.none();var h})},r)}).getOrNull();function r(l){return ke(l,lt.fromDom(a.getBody()))}var a,s},apply:function(n,r,a){return sb(t,n,r,a)},remove:function(n,r,a,s){return Qv(t,n,r,a,s)},toggle:function(n,r,a){var s,l=n,d=r,m=a,h=(s=t).formatter.get(l);(!Uv(s,l,d,m)||"toggle"in h[0]&&!h[0].toggle?sb:Qv)(s,l,d,m)},formatChanged:function(n,r,a,s,l){return c1(t,n,r,a,s,l)}},editor:{getContent:function(n,r){return a=t,s=n,l=r,w.from(a.getBody()).fold(Jt(s.format==="tree"?new Du("body",11):""),function(d){return m=a,p=d,x=l,A=ht(ht({},h=s),{format:x,get:!0,getInner:!0}),B=h.no_events?A:m.fire("BeforeGetContent",A),N=B.format==="raw"?Ct.trim(Da(Q0(p,m.serializer.getTempAttrs()).innerHTML)):B.format==="text"?m.dom.isEmpty(p)?"":Da(p.innerText||p.textContent):B.format==="tree"?m.serializer.serialize(p,B):(_=(y=m).serializer.serialize(p,B),E=Vi(y),T=new RegExp("^(<"+E+"[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/"+E+`>[\r
]*|<br \\/>[\r
]*)$`),_.replace(T,"")),Vt(["text","tree"],B.format)||Xd(lt.fromDom(p))?B.content=N:B.content=Ct.trim(N),(B.no_events?B:m.fire("GetContent",B)).content;var m,h,p,x,y,_,E,T,A,B,N});var a,s,l},setContent:function(n,r){return Le(t,n,r)},insertContent:function(n,r){return Qk(t,n,r)},addVisual:function(n){var r,a=n,s=(r=t).dom,l=ot(a)?a:r.getBody();Je(r.hasVisual)&&(r.hasVisual=r.getParam("visual",!0,"boolean")),gt(s.select("table,a",l),function(d){switch(d.nodeName){case"TABLE":var m=r.getParam("visual_table_class","mce-item-table","string"),h=s.getAttrib(d,"border");h&&h!=="0"||!r.hasVisual?s.removeClass(d,m):s.addClass(d,m);break;case"A":var p,x;s.getAttrib(d,"href")||(p=s.getAttrib(d,"name")||d.id,x=r.getParam("visual_anchor_class","mce-item-anchor","string"),p&&r.hasVisual?s.addClass(d,x):s.removeClass(d,x))}}),r.fire("VisualAid",{element:a,hasVisual:r.hasVisual})}},selection:{getContent:function(n,r){return(function(a,s,l){var d,m=(d=s,ht(ht({},l=l===void 0?{}:l),{format:d,get:!0,selection:!0})),h=a.fire("BeforeGetContent",m);if(h.isDefaultPrevented())return a.fire("GetContent",h),h.content;if(h.format==="text")return B=a,w.from(B.selection.getRng()).map(function(P){var H=w.from(B.dom.getParent(P.commonAncestorContainer,B.dom.isBlock)),G=B.getBody(),Z=H.map(function(bt){return bt.nodeName}).getOr("div").toLowerCase(),V=Te.browser.isIE()&&Z!=="pre",$=B.dom.add(G,Z,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},P.cloneContents()),X=eb($,V),it=Da($.textContent);if(B.dom.remove($),Tm(it,0)||Tm(it,it.length-1)){var dt=eb(H.getOr(G),V),wt=dt.indexOf(X);return wt===-1?X:(Tm(dt,wt-1)?" ":"")+X+(Tm(dt,wt+X.length)?" ":"")}return X}).getOr("");h.getInner=!0;var p,x,y,_,E,T,A,B,N=(x=h,y=(p=a).selection.getRng(),_=p.dom.create("body"),E=p.selection.getSel(),T=Ul(p,hv(E)),(A=x.contextual?p1(lt.fromDom(p.getBody()),T).dom:y.cloneContents())&&_.appendChild(A),p.selection.serializer.serialize(_,x));return h.format==="tree"?N:(h.content=a.selection.isCollapsed()?"":N,a.fire("GetContent",h),h.content)})(t,n,r)}},raw:{getModel:function(){return w.none()}}}}function qs(t){return Ot(t.plugins,"rtc")}function y1(t){var n=t;return no(t.plugins,"rtc").bind(function(r){return w.from(r.setup)}).fold(function(){return n.rtcInstance=ob(t),w.none()},function(r){var a,s;return n.rtcInstance=(a=Jt(null),s=Jt(""),{undoManager:{beforeChange:ne,add:a,undo:a,redo:a,clear:ne,reset:ne,hasUndo:Ln,hasRedo:Ln,transact:a,ignore:ne,extra:ne},formatter:{match:Ln,matchAll:Jt([]),matchNode:Jt(void 0),canApply:Ln,closest:s,apply:ne,remove:ne,toggle:ne,formatChanged:Jt({unbind:ne})},editor:{getContent:s,setContent:s,insertContent:ne,addVisual:ne},selection:{getContent:s},raw:{getModel:Jt(w.none())}}),w.some(function(){return r().then(function(l){return n.rtcInstance=(m=l.undoManager,h=l.formatter,p=l.editor,x=l.selection,y=l.raw,{undoManager:{beforeChange:m.beforeChange,add:m.add,undo:m.undo,redo:m.redo,clear:m.clear,reset:m.reset,hasUndo:m.hasUndo,hasRedo:m.hasRedo,transact:function(_,E,T){return m.transact(T)},ignore:function(_,E){return m.ignore(E)},extra:function(_,E,T,A){return m.extra(T,A)}},formatter:{match:function(_,E,T,A){return h.match(_,d(E),A)},matchAll:h.matchAll,matchNode:h.matchNode,canApply:function(_){return h.canApply(_)},closest:function(_){return h.closest(_)},apply:function(_,E,T){return h.apply(_,d(E))},remove:function(_,E,T,A){return h.remove(_,d(E))},toggle:function(_,E,T){return h.toggle(_,d(E))},formatChanged:function(_,E,T,A,B){return h.formatChanged(E,T,A,B)}},editor:{getContent:function(_,E){return p.getContent(_)},setContent:function(_,E){return p.setContent(_,E)},insertContent:function(_,E){return p.insertContent(_)},addVisual:p.addVisual},selection:{getContent:function(_,E){return x.getContent(E)}},raw:{getModel:function(){return w.some(y.getRawModel())}}}),l.rtc.isRemote;function d(_){return vo(_)?_:{}}var m,h,p,x,y})})})}function Lx(t){return t.rtcInstance||ob(t)}function br(t){var n=t.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")}function Fx(t){return t.dom.length===0?(Ee(t),w.none()):w.some(t)}function rb(t,n,r,a){t.bind(function(s){return(a?Iv:km)(s.dom,a?s.dom.length:0),n.filter(nr).map(function(l){var d=r,m=a,h=s.dom,p=l.dom,x=(m?h:p).length;m?(Lv(h,p,!1,!m),d.setStart(p,x)):(Lv(p,h,!1,!m),d.setEnd(p,x))})}).orThunk(function(){var s=a;return n.filter(function(l){return vm.isBookmarkNode(l.dom)}).bind(s?gr:$u).or(n).filter(nr).map(function(l){var d,m=a;_i(d=l).each(function(h){var p=d.dom;m&&hp(h,Et(p,0))?km(p,0):!m&&vp(h,Et(p,p.length))&&Iv(p,p.length)})})})}function Hx(t,n,r){var a,s=(a=n,ht(ht({format:"html"},r=r===void 0?{}:r),{set:!0,selection:!0,content:a})),l=s;if(!s.no_events){var d=t.fire("BeforeSetContent",s);if(d.isDefaultPrevented())return void t.fire("SetContent",d);l=d}l.content=(function(h,p){if(p.format==="raw")return p.content;var x=h.selection.getRng(),y=h.dom.getParent(x.commonAncestorContainer,h.dom.isBlock),_=y?{context:y.nodeName.toLowerCase()}:{},E=h.parser.parse(p.content,ht(ht({isRootContent:!0,forced_root_block:!1},_),p));return ed({validate:h.validate},h.schema).serialize(E)})(t,l);var m=t.selection.getRng();(function(h,p){var x=w.from(p.firstChild).map(lt.fromDom),y=w.from(p.lastChild).map(lt.fromDom);h.deleteContents(),h.insertNode(p);var _=x.bind($u).filter(nr).bind(Fx),E=y.bind(gr).filter(nr).bind(Fx);rb(_,x,h,!0),rb(E,y,h,!1),h.collapse(!1)})(m,m.createContextualFragment(l.content)),t.selection.setRng(m),op(t,m),l.no_events||t.fire("SetContent",l)}function ib(t,n,r){var a;t&&Ot(t,n)&&((a=We(t[n],function(s){return s!==r})).length===0?delete t[n]:t[n]=a)}Ex=function(t){var n,r=t.selection.getRng(),a=ea(["pre"]);r.collapsed||(n=t.selection.getSelectedBlocks(),Bx(r1(r1(n,a),function(s){return a(s.previousSibling)&&Bc(n,s.previousSibling)!==-1}),function(s){var l,d=s.previousSibling;Ue(l=s).remove(),Ue(d).append("<br><br>").append(l.childNodes)}))},Yv.pre||(Yv.pre=[]),Yv.pre.push(Ex);var ab=Ct.each,ub=function(t,n,r){ab(t.childNodes,function(a){rd(a)&&(n(a)&&r(a),a.hasChildNodes()&&ub(a,n,r))})},Am=Ga([{keep:[]},{rename:["name"]},{removed:[]}]),x1=/^(src|href|style)$/,Dm=Ct.each,Nm=Wg,_p=Ct.each,Yl=Ct.each,sb=function(t,n,r,a){function s(H,G){var Z;nn((G=G===void 0?_:G).onformat)&&G.onformat(H,G,r,a),Yl(G.styles,function(V,$){T.setStyle(H,$,Vs(V,r))}),!G.styles||(Z=T.getAttrib(H,"style"))&&T.setAttrib(H,"data-mce-style",Z),Yl(G.attributes,function(V,$){T.setAttrib(H,$,Vs(V,r))}),Yl(G.classes,function(V){V=Vs(V,r),T.hasClass(H,V)||T.addClass(H,V)})}function l(H,G){var Z=!1;return Yl(H,function(V){return!!vr(V)&&(ot(V.collapsed)&&V.collapsed!==E||!T.is(G,V.selector)||zs(G)?void 0:(s(G,V),!(Z=!0)))}),Z}function d(H,G,Z){var V=[],$=!0,X=_.inline||_.block,it=(function(dt){if(Dn(dt)){var wt=T.create(dt);return s(wt),wt}return null})(X);qf(H,G,function(dt){var wt,bt=function(tt){var et=!1,at=$,ft=tt.nodeName.toLowerCase(),It=tt.parentNode,Wt=It.nodeName.toLowerCase();if(Ae(tt)&&H.getContentEditable(tt)&&(at=$,$=H.getContentEditable(tt)==="true",et=!0),Do(tt)&&!(function(Ht,Ut,zt,te){if(Ht.getParam("format_empty_lines",!1,"boolean")&&jr(Ut)){var At=ec(Ht.schema),Yt=(Ft=lt.fromDom(zt),re=function(Y){return zs(Y.dom)},((Ye=(ie=Ft).dom).parentNode?ia(lt.fromDom(Ye.parentNode),function(Y){return!ke(ie,Y)&&re(Y)}):w.none()).isSome());return _r(At,te)&&Qe(lt.fromDom(zt.parentNode),!1)&&!Yt}var Ft,ie,re,Ye})(t,_,tt,Wt))return wt=null,void(wn(_)&&H.remove(tt));if(wn(_)&&_.wrapper&&Ws(t,tt,n,r))wt=null;else{if($&&!et&&wn(_)&&!_.wrapper&&dv(t,ft)&&Yc(t,Wt,X)){var Pt=H.rename(tt,X);return s(Pt),V.push(Pt),void(wt=null)}if(vr(_)){var jt=l(y,tt);if(!jt&&ot(It)&&mv(_)&&(jt=l(y,It)),!jr(_)||jt)return void(wt=null)}!$||et||!Yc(t,X,ft)||!Yc(t,Wt,X)||!Z&&oe(tt)&&Rt(tt.data)||zs(tt)||jr(_)&&H.isBlock(tt)?(wt=null,gt(Zn(tt.childNodes),bt),et&&($=at),wt=null):(wt||(wt=H.clone(it,!1),tt.parentNode.insertBefore(wt,tt),V.push(wt)),wt.appendChild(tt))}};gt(dt,bt)}),_.links===!0&&gt(V,function(dt){var wt=function(bt){bt.nodeName==="A"&&s(bt,_),gt(Zn(bt.childNodes),wt)};wt(dt)}),gt(V,function(dt){var wt,bt,tt,et,at,ft,It,Wt,Pt,jt,Ht,Ut,zt,te,At,Yt,Ft,ie,re=(wt=0,gt(dt.childNodes,function(Y){var nt;ot(nt=Y)&&oe(nt)&&nt.length===0||eu(Y)||wt++}),wt);function Ye(Y){var nt;Y.nodeType===1&&Y.parentNode&&Y.parentNode.nodeType===1&&(nt=_0(zt,Y.parentNode),zt.getStyle(Y,"color")&&nt?zt.setStyle(Y,"text-decoration",nt):zt.getStyle(Y,"text-decoration")===nt&&zt.setStyle(Y,"text-decoration",null))}!(1<V.length)&&H.isBlock(dt)||re!==0?(jr(_)||wn(_)&&_.wrapper)&&(_.exact||re!==1||(dt=bo((Ut=dt).childNodes,rE).filter(function(Y){return xx(H,Y,_)}).map(function(Y){var nt=H.clone(Y,!1);return s(nt),H.replace(nt,Ut,!0),H.remove(Y,!0),nt}).getOr(Ut)),Yt=t,Ft=r,ie=dt,_p(y,function(Y){var nt,St,Mt;jr(Y)&&_p(Yt.dom.select(Y.inline,ie),function(Dt){rd(Dt)&&Kl(Yt,Y,Ft,Dt,Y.exact?Dt:null)}),nt=Yt.dom,(St=Y).clear_child_styles&&(Mt=St.links?"*:not(a)":"*",ab(nt.select(Mt,ie),function(Dt){rd(Dt)&&ab(St.styles,function(qt,xe){nt.setStyle(Dt,xe,"")})}))}),Wt=_,Ws(It=t,(Ht=dt).parentNode,Pt=n,jt=r)&&Kl(It,Wt,jt,Ht)||Wt.merge_with_parents&&It.dom.getParent(Ht.parentNode,function(Y){if(Ws(It,Y,Pt,jt))return Kl(It,Wt,jt,Ht),!0}),ft=dt,(at=_).styles&&at.styles.backgroundColor&&ub(ft,a1(H,"fontSize"),u1(H,"backgroundColor",Vs(at.styles.backgroundColor,r))),zt=H,At=dt,(te=_).styles&&(te.styles.color||te.styles.textDecoration)&&(Ct.walk(At,Ye,"childNodes"),Ye(At)),bt=H,et=dt,!jr(tt=_)||tt.inline!=="sub"&&tt.inline!=="sup"||(ub(et,a1(bt,"fontSize"),u1(bt,"fontSize","")),bt.remove(bt.select(tt.inline==="sup"?"sub":"sup",et),!0)),el(H,_,0,dt)):H.remove(dt,!0)})}var m,h,p,x,y=t.formatter.get(n),_=y[0],E=!a&&t.selection.isCollapsed(),T=t.dom,A=t.selection;if(T.getContentEditable(A.getNode())!=="false")_&&(a?cr(a)?l(y,a)||((m=T.createRng()).setStartBefore(a),m.setEndAfter(a),d(T,$f(t,m,y),!0)):d(T,a,!0):E&&jr(_)&&!gc(t).length?(function(H,G,Z){var V,$=H.selection,X=$.getRng(),it=X.startOffset,dt=X.startContainer.nodeValue,wt=Vl(H.getBody(),$.getStart());wt&&(V=Cx(wt));var bt,tt,et,at,ft=/[^\s\u00a0\u00ad\u200b\ufeff]/;dt&&0<it&&it<dt.length&&ft.test(dt.charAt(it))&&ft.test(dt.charAt(it-1))?(bt=$.getBookmark(),X.collapse(!0),tt=Qg($f(H,X,H.formatter.get(G))),H.formatter.apply(G,Z,tt),$.moveToBookmark(bt)):(wt&&V.nodeValue===ri||(et=H.getDoc(),at=_x(!0).dom,V=(wt=et.importNode(at,!0)).firstChild,X.insertNode(wt),it=1),H.formatter.apply(G,Z,wt),$.setCursorLocation(V,it))})(t,n,r):(h=A.getNode(),p=y[0],t.settings.forced_root_block||!p.defaultBlock||T.getParent(h,T.isBlock)||sb(t,p.defaultBlock),A.setRng(hx(A.getRng())),rn(A,!0,function(){N0(t,function(H,G){var Z=G?H:$f(t,H,y);d(T,Z,!1)})}),lv(T,A,A.getRng()),t.nodeChanged()),x=t,Bx(Yv[n],function(H){H(x)})),Cv(t,n,a,r);else{a=A.getNode();for(var B=0,N=y.length;B<N;B++){var P=y[B];if(P.ceFalseOverride&&vr(P)&&T.is(a,P.selector)){s(a,P);break}}Cv(t,n,a,r)}},zx=function(t){return t.selection.getStart()},Vx=function(t,n,r){var a=Mx(t,n);yo(r,function(s,l){function d(m){var h,p=s1(t,a,l,m.similar,Zv(m)?m.vars:void 0),x=p.isSome();m.state.get()!==x&&(m.state.set(x),h=p.getOr(n),Zv(m)?m.callback(x,{node:h,format:l,parents:a}):gt(m.callbacks,function(y){return y(x,{node:h,format:l,parents:a})}))}gt([s.withSimilar,s.withoutSimilar],d),gt(s.withVars,d)})},sE=ae(function(){return document.implementation.createHTMLDocument("undo")});function w1(t){return t.select}function Bm(t){return t&&t.ownerDocument&&ze(lt.fromDom(t.ownerDocument),lt.fromDom(t))}function C1(t,n,r,a){function s(V,$){return Hx(a,V,$)}function l(){var V=m(),$=V?.anchorNode,X=V?.focusNode;if(!V||!$||!X||wl($)||wl(X))return!0;var it=t.createRng();it.setStart($,V.anchorOffset),it.collapse(!0);var dt=t.createRng();return dt.setStart(X,V.focusOffset),dt.collapse(!0),it.compareBoundaryPoints(it.START_TO_START,dt)<=0}function d(V){var $=A();$.collapse(!!V),B($)}function m(){return n.getSelection?n.getSelection():n.document.selection}var h,p,x,y,_,E,T=function(V,$){return _||(_={},E={},y.on("NodeChange",function(X){var it=X.element,dt=Z(it),wt={};Ct.each(_,function(bt,tt){G(tt,dt).each(function(et){E[tt]||(gt(bt,function(at){at(!0,{node:et,selector:tt,parents:dt})}),E[tt]=bt),wt[tt]=bt})}),Ct.each(E,function(bt,tt){wt[tt]||(delete E[tt],Ct.each(bt,function(et){et(!1,{node:it,selector:tt,parents:dt})}))})})),_[V]||(_[V]=[]),_[V].push($),G(V,Z(y.selection.getStart())).each(function(){E[V]=_[V]}),{unbind:function(){ib(_,V,$),ib(E,V,$)}}},A=function(){function V(bt,tt,et){try{return tt.compareBoundaryPoints(bt,et)}catch{return-1}}var $,X,it,dt=n.document;if(a.bookmark!==void 0&&hc(a)===!1){var wt=X0(a);if(wt.isSome())return wt.map(function(bt){return Ul(a,[bt])[0]}).getOr(dt.createRange())}try{($=m())&&!wl($.anchorNode)&&(X=0<$.rangeCount?$.getRangeAt(0):($.createRange?$:dt).createRange(),X=Ul(a,[X])[0])}catch{}return(X=X||(dt.createRange?dt.createRange():dt.body.createTextRange())).setStart&&X.startContainer.nodeType===9&&X.collapsed&&(it=t.getRoot(),X.setStart(it,0),X.setEnd(it,0)),h&&p&&(V(X.START_TO_START,X,h)===0&&V(X.END_TO_END,X,h)===0?X=p:p=h=null),X},B=function(V,$){var X;if((it=V)&&(w1(it)||Bm(it.startContainer)&&Bm(it.endContainer))){var it,dt=w1(V)?V:null;if(dt){p=null;try{dt.select()}catch{}}else{var wt=m();if(V=a.fire("SetSelectionRange",{range:V,forward:$}).range,wt){p=V;try{wt.removeAllRanges(),wt.addRange(V)}catch{}$===!1&&wt.extend&&(wt.collapse(V.endContainer,V.endOffset),wt.extend(V.startContainer,V.startOffset)),h=0<wt.rangeCount?wt.getRangeAt(0):null}V.collapsed||V.startContainer!==V.endContainer||!wt.setBaseAndExtent||Te.ie||V.endOffset-V.startOffset<2&&V.startContainer.hasChildNodes()&&(X=V.startContainer.childNodes[V.startOffset])&&X.tagName==="IMG"&&(wt.setBaseAndExtent(V.startContainer,V.startOffset,V.endContainer,V.endOffset),wt.anchorNode===V.startContainer&&wt.focusNode===V.endContainer||wt.setBaseAndExtent(X,0,X,1)),a.fire("AfterSetSelectionRange",{range:V,forward:$})}}},N={bookmarkManager:null,controlSelection:null,dom:x=t,win:n,serializer:r,editor:y=a,collapse:d,setCursorLocation:function(V,$){var X=t.createRng();ot(V)&&ot($)?(X.setStart(V,$),X.setEnd(V,$),B(X),d(!1)):(D0(t,X,a.getBody(),!0),B(X))},getContent:function(V){return X=($=($=V)===void 0?{}:$).format||"html",it=$,br(a).selection.getContent(X,it);var $,X,it},setContent:s,getBookmark:function(V,$){return P.getBookmark(V,$)},moveToBookmark:function(V){return P.moveToBookmark(V)},select:function(V,$){var X=t,it=$;return w.from(V).map(function(dt){var wt=X.nodeIndex(dt),bt=X.createRng();return bt.setStart(dt.parentNode,wt),bt.setEnd(dt.parentNode,wt+1),it&&(D0(X,bt,dt,!0),D0(X,bt,dt,!1)),bt}).each(B),V},isCollapsed:function(){var V=A(),$=m();return!(!V||V.item)&&(V.compareEndPoints?V.compareEndPoints("StartToEnd",V)===0:!$||V.collapsed)},isForward:l,setNode:function(V){return s(t.getOuterHTML(V)),V},getNode:function(){return(function(V,$){if(!$)return V;var X=$.startContainer,it=$.endContainer,dt=$.startOffset,wt=$.endOffset,bt=$.commonAncestorContainer;return!$.collapsed&&(X===it&&wt-dt<2&&X.hasChildNodes()&&(bt=X.childNodes[dt]),X.nodeType===3&&it.nodeType===3&&(X=X.length===dt?ip(X.nextSibling,!0):X.parentNode,it=wt===0?ip(it.previousSibling,!1):it.parentNode,X&&X===it))?X:bt&&bt.nodeType===3?bt.parentNode:bt})(a.getBody(),A())},getSel:m,setRng:B,getRng:A,getStart:function(V){return rp(a.getBody(),A(),V)},getEnd:function(V){return ym(a.getBody(),A(),V)},getSelectedBlocks:function(V,$){return(function(X,it,dt,wt){var bt=[],tt=X.getRoot();if(dt=X.getParent(dt||rp(tt,it,it.collapsed),X.isBlock),wt=X.getParent(wt||ym(tt,it,it.collapsed),X.isBlock),dt&&dt!==tt&&bt.push(dt),dt&&wt&&dt!==wt)for(var et,at=new Vo(dt,tt);(et=at.next())&&et!==wt;)X.isBlock(et)&&bt.push(et);return wt&&dt!==wt&&wt!==tt&&bt.push(wt),bt})(t,A(),V,$)},normalize:function(){var V=A();if(1<hv(m()).length||!vv(a))return V;var $=Jg(t,V);return $.each(function(X){B(X,l())}),$.getOr(V)},selectorChanged:function(V,$){return T(V,$),N},selectorChangedWithUnbind:T,getScrollContainer:function(){for(var V,$=t.getRoot();$&&$.nodeName!=="BODY";){if($.scrollHeight>$.clientHeight){V=$;break}$=$.parentNode}return V},scrollIntoView:function(V,$){ot(V)?(a.inline?Sv:Pk)(a,V,$):op(a,A(),$)},placeCaretAt:function(V,$){return B(z0(V,$,a.getDoc()))},getBoundingClientRect:function(){var V=A();return V.collapsed?Et.fromRangeStart(V).getClientRects()[0]:V.getBoundingClientRect()},destroy:function(){n=h=p=null,H.destroy()}},P=vm(N),H=v_(N,a);function G(V,$){return bo($,function(X){return x.is(X,V)})}function Z(V){return x.getParents(V,null,x.getRoot())}return N.bookmarkManager=P,N.controlSelection=H,N}function jx(t,n){var r,a,s,l,d=Qo();n.convert_fonts_to_spans&&(a=t,s=d,l=Ct.explode(n.font_size_legacy_values),a.addNodeFilter("font",function(m){gt(m,function(h){var p,x=s.parse(h.attr("style")),y=h.attr("color"),_=h.attr("face"),E=h.attr("size");y&&(x.color=y),_&&(x["font-family"]=_),E&&(x["font-size"]=l[parseInt(h.attr("size"),10)-1]),h.name="span",h.attr("style",s.serialize(x)),p=h,gt(["color","face","size"],function(T){p.attr(T,null)})})})),r=d,t.addNodeFilter("strike",function(m){gt(m,function(h){var p=r.parse(h.attr("style"));p["text-decoration"]="line-through",h.name="span",h.attr("style",r.serialize(p))})})}function Ux(t){var n,r=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(r[0]);return{type:n=a?a[1]:n,data:r[1]}}function Wx(t,n){var r;try{r=atob(n)}catch{return w.none()}for(var a=new Uint8Array(r.length),s=0;s<a.length;s++)a[s]=r.charCodeAt(s);return w.some(new Blob([a],{type:t}))}function _1(t){return t.indexOf("blob:")===0?(n=t,new rt(function(a,s){function l(){s("Cannot convert "+n+" to Blob. Resource might not exist or is inaccessible.")}try{var d=new XMLHttpRequest;d.open("GET",n,!0),d.responseType="blob",d.onload=function(){d.status===200?a(d.response):l()},d.onerror=l,d.send()}catch{l()}})):t.indexOf("data:")===0?(r=t,new rt(function(a){var s=Ux(r);Wx(s.type,s.data).fold(function(){return a(new Blob([]))},a)})):null;var n,r}function $x(t){return(t||"blobid")+S1++}function cE(t,n){var r={};return{findAll:function(a,s){s=s||lo;var l=Ne(We(a?Zn(a.getElementsByTagName("img")):[],function(d){var m=d.src;return Te.fileApi&&!d.hasAttribute("data-mce-bogus")&&!d.hasAttribute("data-mce-placeholder")&&m&&m!==Te.transparentSrc&&(m.indexOf("blob:")===0?!t.isUploaded(m)&&s(d):m.indexOf("data:")===0&&s(d))}),function(d){if(r[d.src]!==void 0)return new rt(function(h){r[d.src].then(function(p){return typeof p=="string"?p:void h({image:d,blobInfo:p.blobInfo})})});var m=new rt(function(h,p){var x,y,_,E,T,A,B,N,P;x=n,_=h,E=p,(y=d).src.indexOf("blob:")!==0?(A=(T=Ux(y.src)).data,B=T.type,N=A,(P=x.getByData(N,B))?_({image:y,blobInfo:P}):_1(y.src).then(function(H){P=x.create($x(),H,N),x.add(P),_({image:y,blobInfo:P})},function(H){E(H)})):(P=x.getByUri(y.src))?_({image:y,blobInfo:P}):_1(y.src).then(function(H){var G=H;new rt(function(Z){var V=new FileReader;V.onloadend=function(){Z(V.result)},V.readAsDataURL(G)}).then(function(Z){N=Ux(Z).data,P=x.create($x(),H,N),x.add(P),_({image:y,blobInfo:P})})},function(H){E(H)})}).then(function(h){return delete r[h.image.src],h}).catch(function(h){return delete r[d.src],h});return r[d.src]=m});return rt.all(l)}}}function qx(t,n){return t.replace(n.re,function(r){return no(n.uris,r).getOr(r)})}function Gx(t,n,r,a){(t.padd_empty_with_br||n.insert)&&r[a.name]?a.empty().append(new Du("br",1)).shortEnded=!0:a.empty().append(new Du("#text",3)).value=Aa}function Sp(t,n,r,a){return a.isEmpty(n,r,function(s){return(l=t.getElementRule(s.name))&&l.paddEmpty;var l})}function lE(t,n){var r,a,s,l=t.schema;function d(m){var h,p,x=m.attr("src");(h=m).attr("src")===Te.transparentSrc||ot(h.attr("data-mce-placeholder"))||ot(m.attr("data-mce-bogus"))||((p=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(x))?w.some({type:p[1],data:decodeURIComponent(p[2])}):w.none()).filter(function(){return(function(y,_){if(_.images_dataimg_filter){var E=new Image;return E.src=y.attr("src"),yo(y.attributes.map,function(T,A){E.setAttribute(A,T)}),_.images_dataimg_filter(E)}return!0})(m,a)}).bind(function(y){var _=y.type,E=y.data;return w.from(s.getByData(E,_)).orThunk(function(){return Wx(_,E).map(function(T){var A=s.create($x(),T,E);return s.add(A),A})})}).each(function(y){m.attr("src",y.blobUri())})}n.remove_trailing_brs&&t.addNodeFilter("br",function(m,h,p){var x,y,_,E,T,A,B,N,P=m.length,H=Ct.extend({},l.getBlockElements()),G=l.getNonEmptyElements(),Z=l.getWhiteSpaceElements();for(H.body=1,x=0;x<P;x++)if(_=(y=m[x]).parent,H[y.parent.name]&&y===_.lastChild){for(T=y.prev;T;){if((A=T.name)!=="span"||T.attr("data-mce-type")!=="bookmark"){A==="br"&&(y=null);break}T=T.prev}y&&(y.remove(),Sp(l,G,Z,_)&&(B=l.getElementRule(_.name))&&(B.removeEmpty?_.remove():B.paddEmpty&&Gx(n,p,H,_)))}else{for(E=y;_&&_.firstChild===E&&_.lastChild===E&&!H[(E=_).name];)_=_.parent;E===_&&n.padd_empty_with_br!==!0&&((N=new Du("#text",3)).value=Aa,y.replace(N))}}),t.addAttributeFilter("href",function(m){var h,p,x=m.length;if(!n.allow_unsafe_link_target)for(;x--;){var y=m[x];y.name==="a"&&y.attr("target")==="_blank"&&y.attr("rel",(p=void 0,p=(h=y.attr("rel"))?Ct.trim(h):"",/\b(noopener)\b/g.test(p)?p:p.split(" ").filter(function(_){return 0<_.length}).concat(["noopener"]).sort().join(" ")))}}),n.allow_html_in_named_anchor||t.addAttributeFilter("id,name",function(m){for(var h,p,x,y,_=m.length;_--;)if((y=m[_]).name==="a"&&y.firstChild&&!y.attr("href"))for(x=y.parent,h=y.lastChild;p=h.prev,x.insert(h,y),h=p;);}),n.fix_list_elements&&t.addNodeFilter("ul,ol",function(m){for(var h,p,x,y=m.length;y--;)(x=(p=m[y]).parent).name!=="ul"&&x.name!=="ol"||(p.prev&&p.prev.name==="li"?p.prev.append(p):((h=new Du("li",1)).attr("style","list-style-type: none"),p.wrap(h)))}),n.validate&&l.getValidClasses()&&t.addAttributeFilter("class",function(m){for(var h=l.getValidClasses(),p=m.length;p--;){for(var x=m[p],y=x.attr("class").split(" "),_="",E=0;E<y.length;E++){var T=y[E],A=!1,B=h["*"];B&&B[T]&&(A=!0),B=h[x.name],(A=!(A||!B||!B[T])||A)&&(_&&(_+=" "),_+=T)}_.length||(_=null),x.attr("class",_)}}),r=t,(s=(a=n).blob_cache)&&r.addAttributeFilter("src",function(m){return gt(m,d)})}var S1=0,cb=function(t,n){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===n},ad=Ct.each,lb=Ct.trim,Xx="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),k1={ftp:21,http:80,https:443,mailto:25},Kx=["img","video"],Gs=(Ar.parseDataUri=function(t){var n,r=decodeURIComponent(t).split(","),a=/data:([^;]+)/.exec(r[0]);return{type:n=a?a[1]:n,data:r[1]}},Ar.isDomSafe=function(t,n,r){if((r=r===void 0?{}:r).allow_script_urls)return!0;var a,s,l,d,m=Ns.decode(t).replace(/[\s\u0000-\u001F]+/g,"");try{m=decodeURIComponent(m)}catch{m=unescape(m)}return!(/((java|vb)script|mhtml):/i.test(m)||(s=m,l=n,!(a=r).allow_html_data_urls&&(/^data:image\//i.test(s)?(ot(d=a.allow_svg_data_urls)?!d:!ot(l)||!Vt(Kx,l))&&/^data:image\/svg\+xml/i.test(s):/^data:/i.test(s))))},Ar.getDocumentBaseUrl=function(t){var n=t.protocol.indexOf("http")!==0&&t.protocol!=="file:"?t.href:t.protocol+"//"+t.host+t.pathname;return/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n},Ar.prototype.setPath=function(t){var n=/^(.*?)\/?(\w+)?$/.exec(t);this.path=n[0],this.directory=n[1],this.file=n[2],this.source="",this.getURI()},Ar.prototype.toRelative=function(t){var n;if(t==="./")return t;var r=new Ar(t,{base_uri:this});if(r.host!=="mce_host"&&this.host!==r.host&&r.host||this.port!==r.port||this.protocol!==r.protocol&&r.protocol!=="")return r.getURI();var a=this.getURI(),s=r.getURI();return a===s||a.charAt(a.length-1)==="/"&&a.substr(0,a.length-1)===s?a:(n=this.toRelPath(this.path,r.path),r.query&&(n+="?"+r.query),r.anchor&&(n+="#"+r.anchor),n)},Ar.prototype.toAbsolute=function(t,n){var r=new Ar(t,{base_uri:this});return r.getURI(n&&this.isSameOrigin(r))},Ar.prototype.isSameOrigin=function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var n=k1[this.protocol];if(n&&(this.port||n)==(t.port||n))return!0}return!1},Ar.prototype.toRelPath=function(t,n){var r,a,s=0,l="",d=t.substring(0,t.lastIndexOf("/")).split("/"),m=n.split("/");if(d.length>=m.length){for(r=0,a=d.length;r<a;r++)if(r>=m.length||d[r]!==m[r]){s=r+1;break}}if(d.length<m.length){for(r=0,a=m.length;r<a;r++)if(r>=d.length||d[r]!==m[r]){s=r+1;break}}if(s===1)return n;for(r=0,a=d.length-(s-1);r<a;r++)l+="../";for(r=s-1,a=m.length;r<a;r++)l+=r!==s-1?"/"+m[r]:m[r];return l},Ar.prototype.toAbsPath=function(t,n){var r,a,s=0,l=[],d=/\/$/.test(n)?"/":"",m=t.split("/"),h=n.split("/");for(ad(m,function(p){p&&l.push(p)}),m=l,r=h.length-1,l=[];0<=r;r--)h[r].length!==0&&h[r]!=="."&&(h[r]!==".."?0<s?s--:l.push(h[r]):s++);return(a=(r=m.length-s)<=0?Ua(l).join("/"):m.slice(0,r).join("/")+"/"+Ua(l).join("/")).indexOf("/")!==0&&(a="/"+a),d&&a.lastIndexOf("/")!==a.length-1&&(a+=d),a},Ar.prototype.getURI=function(t){var n;return t===void 0&&(t=!1),this.source&&!t||(n="",t||(this.protocol?n+=this.protocol+"://":n+="//",this.userInfo&&(n+=this.userInfo+"@"),this.host&&(n+=this.host),this.port&&(n+=":"+this.port)),this.path&&(n+=this.path),this.query&&(n+="?"+this.query),this.anchor&&(n+="#"+this.anchor),this.source=n),this.source},Ar);function Ar(t,n){t=lb(t),this.settings=n||{};var r,a,s,l,d=this.settings.base_uri,m=this;/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t)?m.source=t:(r=t.indexOf("//")===0,t.indexOf("/")!==0||r||(t=(d&&d.protocol||"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(a=this.settings.base_uri?this.settings.base_uri.path:new Ar(document.location.href).directory,t=this.settings.base_uri&&this.settings.base_uri.protocol==""?"//mce_host"+m.toAbsPath(a,t):(s=/([^#?]*)([#?]?.*)/.exec(t),(d&&d.protocol||"http")+"://mce_host"+m.toAbsPath(a,s[1])+s[2])),t=t.replace(/@@/g,"(mce_at)"),l=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),ad(Xx,function(h,p){var x=(x=l[p])&&x.replace(/\(mce_at\)/g,"@@");m[h]=x}),d&&(m.protocol||(m.protocol=d.protocol),m.userInfo||(m.userInfo=d.userInfo),m.port||m.host!=="mce_host"||(m.port=d.port),m.host&&m.host!=="mce_host"||(m.host=d.host),m.source=""),r&&(m.protocol=""))}function Yx(t,n,r){for(var a=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,s=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,l=t.getShortEndedElements(),d=1,m=r;d!==0;)for(a.lastIndex=m;;){var h=a.exec(n);if(h===null)return m;if(h[1]==="!"){m=er(h[2],"--")?fb(n,!1,h.index+3):fb(n,!0,h.index+1);break}s.lastIndex=a.lastIndex;var p=s.exec(n);if(!Io(p)&&p.index===a.lastIndex){h[1]==="/"?--d:Ot(l,h[2])||(d+=1),m=a.lastIndex+p[0].length;break}}return m}function kp(t,n){n===void 0&&(n=nc()),t=t||{};var r=E1(),a=r.createElement("form");function s(_,E){E===void 0&&(E="html");for(var T,A,B,N,P,H,G,Z,V,$,X,it,dt,wt,bt,tt,et,at,ft,It=_.html,Wt=0,Pt=[],jt=0,Ht=Ns.decode,Ut=Ct.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),zt=E==="html"?0:1,te=function(Ve){for(var Se,xn=Pt.length;xn--&&Pt[xn].name!==Ve;);if(0<=xn){for(Se=Pt.length-1;xn<=Se;Se--)(Ve=Pt[Se]).valid&&p(Ve.name);Pt.length=xn}},At=function(Ve,Se){return m(qx(Ve,_),Se)},Yt=function(Ve){Ve!==""&&(Ve.charAt(0)===">"&&(Ve=" "+Ve),t.allow_conditional_comments||Ve.substr(0,3).toLowerCase()!=="[if"||(Ve=" "+Ve),l(qx(Ve,_)))},Ft=function(Ve,Se){var xn=Ve||"",Ro=!er(xn,"--"),ai=fb(It,Ro,Se);return Ve=It.substr(Se,ai-Se),Yt(Ro?xn+Ve:Ve),ai+1},ie=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),re=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Ye=n.getShortEndedElements(),Y=t.self_closing_elements||n.getSelfClosingElements(),nt=n.getBoolAttrs(),St=t.validate,Mt=t.remove_internals,Dt=t.fix_self_closing,qt=n.getSpecialElements(),xe=It+">";T=ie.exec(xe);){var Oe=T[0];if(Wt<T.index&&At(Ht(It.substr(Wt,T.index-Wt))),A=T[7])te(A=(A=A.toLowerCase()).charAt(0)===":"?A.substr(1):A);else if(A=T[8]){if(T.index+Oe.length>It.length){At(Ht(It.substr(T.index))),Wt=T.index+Oe.length;continue}V=(A=(A=A.toLowerCase()).charAt(0)===":"?A.substr(1):A)in Ye,Dt&&Y[A]&&0<Pt.length&&Pt[Pt.length-1].name===A&&te(A);var Kn=(function(Ve,Se){var xn=Ve.exec(Se);if(xn){var Ro=xn[1],ai=xn[2];return typeof Ro=="string"&&Ro.toLowerCase()==="data-mce-bogus"?ai:null}return null})(re,T[9]);if(Kn!==null){if(Kn==="all"){Wt=Yx(n,It,ie.lastIndex),ie.lastIndex=Wt;continue}X=!1}if(!St||($=n.getElementRule(A))){if(X=!0,St&&(wt=$.attributes,bt=$.attributePatterns),(dt=T[9])?((Z=dt.indexOf("data-mce-type")!==-1)&&Mt&&(X=!1),(N=[]).map={},dt.replace(re,function(Ve,Se,xn,Ro,ai){return(function(hi,lr,ui,Ec,Oc){var Od;if(ui=qx((lr=lr.toLowerCase())in nt?lr:Ht(ui||Ec||Oc||""),_),St&&!Z&&((Od=lr).indexOf("data-")===0||Od.indexOf("aria-")===0)==0){var uu=wt[lr];if(!uu&&bt){for(var cf=bt.length;cf--&&!(uu=bt[cf]).pattern.test(lr););cf===-1&&(uu=null)}if(!uu||uu.validValues&&!(ui in uu.validValues))return}(lr==="name"||lr==="id")&&hi in Jx&&(ui in r||ui in a)||Ut[lr]&&!Gs.isDomSafe(ui,hi,t)||Z&&(lr in Ut||lr.indexOf("on")===0)||(N.map[lr]=ui,N.push({name:lr,value:ui}))})(A,Se,xn,Ro,ai),""})):(N=[]).map={},St&&!Z){if(tt=$.attributesRequired,et=$.attributesDefault,at=$.attributesForced,$.removeEmptyAttrs&&!N.length&&(X=!1),at)for(P=at.length;P--;)G=(it=at[P]).name,(ft=it.value)==="{$uid}"&&(ft="mce_"+jt++),N.map[G]=ft,N.push({name:G,value:ft});if(et)for(P=et.length;P--;)(G=(it=et[P]).name)in N.map||((ft=it.value)==="{$uid}"&&(ft="mce_"+jt++),N.map[G]=ft,N.push({name:G,value:ft}));if(tt){for(P=tt.length;P--&&!(tt[P]in N.map););P===-1&&(X=!1)}if(it=N.map["data-mce-bogus"]){if(it==="all"){Wt=Yx(n,It,ie.lastIndex),ie.lastIndex=Wt;continue}X=!1}}X&&h(A,N,V)}else X=!1;if(B=qt[A]){B.lastIndex=Wt=T.index+Oe.length,Wt=(T=B.exec(It))?(X&&(H=It.substr(Wt,T.index-Wt)),T.index+T[0].length):(H=It.substr(Wt),It.length),X&&(0<H.length&&At(H,!0),p(A)),ie.lastIndex=Wt;continue}V||(dt&&dt.indexOf("/")===dt.length-1?X&&p(A):Pt.push({name:A,valid:X}))}else if(A=T[1])Yt(A);else if(A=T[2]){if(!(zt==1||t.preserve_cdata||0<Pt.length&&n.isValidChild(Pt[Pt.length-1].name,"#cdata"))){Wt=Ft("",T.index+2),ie.lastIndex=Wt;continue}d(A)}else if(A=T[3])y(A);else{if((A=T[4])||Oe==="<!"){Wt=Ft(A,T.index+Oe.length),ie.lastIndex=Wt;continue}if(A=T[5]){if(zt!=1){Wt=Ft("?",T.index+2),ie.lastIndex=Wt;continue}x(A,T[6])}}Wt=T.index+Oe.length}for(Wt<It.length&&At(Ht(It.substr(Wt))),P=Pt.length-1;0<=P;P--)(A=Pt[P]).valid&&p(A.name)}t.fix_self_closing!==!1&&(t.fix_self_closing=!0);var l=t.comment||ne,d=t.cdata||ne,m=t.text||ne,h=t.start||ne,p=t.end||ne,x=t.pi||ne,y=t.doctype||ne;return{parse:function(_,E){E===void 0&&(E="html"),s((function(T){for(var A,B=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,N=[],P={},H=Ky("img"),G=0,Z=0;A=B.exec(T);){var V=A[0],$=H+"_"+Z++;P[$]=V,G<A.index&&N.push(T.substr(G,A.index-G)),N.push($),G=A.index+V.length}var X=new RegExp(H+"_[0-9]+","g");return G===0?{prefix:H,uris:P,html:T,re:X}:(G<T.length&&N.push(T.substr(G)),{prefix:H,uris:P,html:N.join(""),re:X})})(_),E)}}}var Jx=Ct.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),E1=ae(function(){return document.implementation.createHTMLDocument("parser")}),fb=function(t,n,r){r===void 0&&(r=0);var a=t.toLowerCase();if(a.indexOf("[if ",r)!==-1&&(m=r,/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(a.substr(m)))){var s=a.indexOf("[endif]",r);return a.indexOf(">",s)}if(n){var l=a.indexOf(">",r);return l!==-1?l:a.length}var d=/--!?>/g;d.lastIndex=r;var m,h=d.exec(t);return h?h.index+h[0].length:a.length};function db(t,n){n===void 0&&(n=nc());var r={},a=[],s={},l={};(t=t||{}).validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";function d(h){var p=h.name;p in r&&((y=s[p])?y.push(h):s[p]=[h]);for(var x=a.length;x--;){var y,_=a[x].name;_ in h.attributes.map&&((y=l[_])?y.push(h):l[_]=[h])}return h}var m={schema:n,addAttributeFilter:function(h,p){ew(Pm(h),function(x){for(var y=0;y<a.length;y++)if(a[y].name===x)return void a[y].callbacks.push(p);a.push({name:x,callbacks:[p]})})},getAttributeFilters:function(){return[].concat(a)},addNodeFilter:function(h,p){ew(Pm(h),function(x){var y=r[x];y||(r[x]=y=[]),y.push(p)})},getNodeFilters:function(){var h,p=[];for(h in r)Ot(r,h)&&p.push({name:h,callbacks:r[h]});return p},filterNode:d,parse:function(h,p){var x,y,_,E,T,A,B,N,P=[];function H(jt){for(var Ht=n.getBlockElements(),Ut=jt.prev;Ut&&Ut.type===3;){var zt=Ut.value.replace(et,"");if(0<zt.length)return Ut.value=zt,0;var te=Ut.next;if(te){if(te.type===3&&te.value.length){Ut=Ut.prev;continue}if(!Ht[te.name]&&te.name!=="script"&&te.name!=="style"){Ut=Ut.prev;continue}}var At=Ut.prev;Ut.remove(),Ut=At}}p=p||{},s={},l={};function G(jt,Ht){var Ut,zt=new Du(jt,Ht);return jt in r&&((Ut=s[jt])?Ut.push(zt):s[jt]=[zt]),zt}var Z=N1(vb("script,style,head,html,body,title,meta,param"),n.getBlockElements()),V=ec(n),$=n.getNonEmptyElements(),X=n.children,it=t.validate,dt=("forced_root_block"in p?p:t).forced_root_block,wt=dt===!1?"":dt===!0?"p":dt,bt=n.getWhiteSpaceElements(),tt=/^[ \t\r\n]+/,et=/[ \t\r\n]+$/,at=/[ \t\r\n]+/g,ft=/^[ \t\r\n]+$/,It=Ot(bt,p.context)||Ot(bt,t.root_name),Wt=kp({validate:it,document:t.document,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,preserve_cdata:t.preserve_cdata,self_closing_elements:(function(jt){var Ht,Ut={};for(Ht in jt)Ht!=="li"&&Ht!=="p"&&(Ut[Ht]=jt[Ht]);return Ut})(n.getSelfClosingElements()),cdata:function(jt){N.append(G("#cdata",4)).value=jt},text:function(jt,Ht){var Ut,zt;It||(jt=jt.replace(at," "),(zt=N.lastChild)&&(Ot(Z,zt.name)||zt.name==="br")&&(jt=jt.replace(tt,""))),jt.length!==0&&((Ut=G("#text",3)).raw=!!Ht,N.append(Ut).value=jt)},comment:function(jt){N.append(G("#comment",8)).value=jt},pi:function(jt,Ht){N.append(G(jt,7)).value=Ht,H(N)},doctype:function(jt){N.append(G("#doctype",10)).value=jt,H(N)},start:function(jt,Ht,Ut){var zt=it?n.getElementRule(jt):{};if(zt){var te=G(zt.outputName||jt,1);te.attributes=Ht,te.shortEnded=Ut,N.append(te);var At=X[N.name];At&&X[te.name]&&!At[te.name]&&P.push(te);for(var Yt=a.length;Yt--;){var Ft=a[Yt].name;Ft in Ht.map&&((A=l[Ft])?A.push(te):l[Ft]=[te])}Z[jt]&&H(te),Ut||(N=te),!It&&bt[jt]&&(It=!0)}},end:function(jt){var Ht,Ut,zt,te,At=it?n.getElementRule(jt):{};if(At){if(Z[jt]&&!It){if((Ht=N.firstChild)&&Ht.type===3)if(0<(Ut=Ht.value.replace(tt,"")).length)Ht.value=Ut,Ht=Ht.next;else for(zt=Ht.next,Ht.remove(),Ht=zt;Ht&&Ht.type===3;)Ut=Ht.value,zt=Ht.next,Ut.length!==0&&!ft.test(Ut)||(Ht.remove(),Ht=zt),Ht=zt;if((Ht=N.lastChild)&&Ht.type===3)if(0<(Ut=Ht.value.replace(et,"")).length)Ht.value=Ut,Ht=Ht.prev;else for(zt=Ht.prev,Ht.remove(),Ht=zt;Ht&&Ht.type===3;)Ut=Ht.value,zt=Ht.prev,Ut.length!==0&&!ft.test(Ut)||(Ht.remove(),Ht=zt),Ht=zt}It&&bt[jt]&&(It=!1);var Yt=Sp(n,$,bt,N),Ft=N.parent;At.paddInEmptyBlock&&Yt&&(function(){for(var ie=N;ot(ie);){if(ie.name in V)return Sp(n,$,bt,ie);ie=ie.parent}})()?Gx(t,p,Z,N):At.removeEmpty&&Yt?Z[N.name]?N.empty().remove():N.unwrap():At.paddEmpty&&(cb(te=N,"#text")&&te.firstChild.value===Aa||Yt)&&Gx(t,p,Z,N),N=Ft}}},n),Pt=N=new Du(p.context||t.root_name,11);if(Wt.parse(h,p.format),it&&P.length&&(p.context?p.invalid=!0:(function(jt){for(var Ht=vb("tr,td,th,tbody,thead,tfoot,table"),Ut=n.getNonEmptyElements(),zt=n.getWhiteSpaceElements(),te=n.getTextBlockElements(),At=n.getSpecialElements(),Yt=function(Oe,Kn){if(Kn===void 0&&(Kn=Oe.parent),At[Oe.name])Oe.empty().remove();else{for(var Ve=0,Se=Oe.children();Ve<Se.length;Ve++){var xn=Se[Ve];n.isValidChild(Kn.name,xn.name)||Yt(xn,Kn)}Oe.unwrap()}},Ft=0;Ft<jt.length;Ft++){var ie,re=jt[Ft],Ye=void 0,Y=void 0;if(re.parent&&!re.fixed)if(te[re.name]&&re.parent.name==="li"){for(var nt=re.next;nt&&te[nt.name];)nt.name="li",nt.fixed=!0,re.parent.insert(nt,re.parent),nt=nt.next;re.unwrap()}else{for(var St=[re],Ye=re.parent;Ye&&!n.isValidChild(Ye.name,re.name)&&!Ht[Ye.name];Ye=Ye.parent)St.push(Ye);if(Ye&&1<St.length)if(n.isValidChild(Ye.name,re.name)){St.reverse();for(var Mt=ie=d(St[0].clone()),Dt=0;Dt<St.length-1;Dt++){n.isValidChild(Mt.name,St[Dt].name)?(Y=d(St[Dt].clone()),Mt.append(Y)):Y=Mt;for(var qt=St[Dt].firstChild;qt&&qt!==St[Dt+1];){var xe=qt.next;Y.append(qt),qt=xe}Mt=Y}Sp(n,Ut,zt,ie)?Ye.insert(re,St[0],!0):(Ye.insert(ie,St[0],!0),Ye.insert(re,ie)),Ye=St[0],(Sp(n,Ut,zt,Ye)||cb(Ye,"br"))&&Ye.empty().remove()}else Yt(re);else re.parent&&(re.name!=="li"?n.isValidChild(re.parent.name,"div")&&n.isValidChild("div",re.name)?re.wrap(d(new Du("div",1))):Yt(re):!(nt=re.prev)||nt.name!=="ul"&&nt.name!=="ol"?!(nt=re.next)||nt.name!=="ul"&&nt.name!=="ol"?re.wrap(d(new Du("ul",1))):nt.insert(re,nt.firstChild,!0):nt.append(re))}}})(P)),wt&&(Pt.name==="body"||p.isRootContent)&&(function(){function jt(te){te&&((Ht=te.firstChild)&&Ht.type===3&&(Ht.value=Ht.value.replace(tt,"")),(Ht=te.lastChild)&&Ht.type===3&&(Ht.value=Ht.value.replace(et,"")))}var Ht=Pt.firstChild,Ut=null;if(n.isValidChild(Pt.name,wt.toLowerCase())){for(;Ht;){var zt=Ht.next;Ht.type===3||Ht.type===1&&Ht.name!=="p"&&!Z[Ht.name]&&!Ht.attr("data-mce-type")?(Ut||((Ut=G(wt,1)).attr(t.forced_root_block_attrs),Pt.insert(Ut,Ht)),Ut.append(Ht)):(jt(Ut),Ut=null),Ht=zt}jt(Ut)}})(),!p.invalid){for(B in s)if(Ot(s,B)){for(A=r[B],E=(x=s[B]).length;E--;)x[E].parent||x.splice(E,1);for(y=0,_=A.length;y<_;y++)A[y](x,B,p)}for(y=0,_=a.length;y<_;y++)if((A=a[y]).name in l){for(E=(x=l[A.name]).length;E--;)x[E].parent||x.splice(E,1);for(E=0,T=A.callbacks.length;E<T;E++)A.callbacks[E](x,A.name,p)}}return Pt}};return lE(m,t),t.inline_styles&&jx(m,t),m}function O1(t,n,r){Ct.inArray(n,r)===-1&&(t.addAttributeFilter(r,function(a,s){for(var l=a.length;l--;)a[l].attr(s,null)}),n.push(r))}function T1(t,n){var r=["data-mce-selected"],a=n&&n.dom?n.dom:Re.DOM,s=n&&n.schema?n.schema:nc(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs;var l,d=db(t,s),m=t,h=a;return(l=d).addAttributeFilter("data-mce-tabindex",function(p,x){for(var y=p.length;y--;){var _=p[y];_.attr("tabindex",_.attr("data-mce-tabindex")),_.attr(x,null)}}),l.addAttributeFilter("src,href,style",function(p,x){for(var y="data-mce-"+x,_=m.url_converter,E=m.url_converter_scope,T=p.length;T--;){var A=p[T],B=A.attr(y);B!==void 0?(A.attr(x,0<B.length?B:null),A.attr(y,null)):(B=A.attr(x),x==="style"?B=h.serializeStyle(h.parseStyle(B),A.name):_&&(B=_.call(E,B,x,A.name)),A.attr(x,0<B.length?B:null))}}),l.addAttributeFilter("class",function(p){for(var x=p.length;x--;){var y,_=p[x];_.attr("class")&&(y=_.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),_.attr("class",0<y.length?y:null))}}),l.addAttributeFilter("data-mce-type",function(p,x,y){for(var _=p.length;_--;){var E=p[_];E.attr("data-mce-type")!=="bookmark"||y.cleanup||(w.from(E.firstChild).exists(function(T){return!Rt(T.value)})?E.unwrap():E.remove())}}),l.addNodeFilter("noscript",function(p){for(var x=p.length;x--;){var y=p[x].firstChild;y&&(y.value=Ns.decode(y.value))}}),l.addNodeFilter("script,style",function(p,x){for(var y=function(B){return B.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},_=p.length;_--;){var E,T=p[_],A=T.firstChild?T.firstChild.value:"";x==="script"?((E=T.attr("type"))&&T.attr("type",E==="mce-no/type"?null:E.replace(/^mce\-/,"")),m.element_format==="xhtml"&&0<A.length&&(T.firstChild.value=`// <![CDATA[
`+y(A)+`
// ]]>`)):m.element_format==="xhtml"&&0<A.length&&(T.firstChild.value=`<!--
`+y(A)+`
-->`)}}),l.addNodeFilter("#comment",function(p){for(var x=p.length;x--;){var y=p[x];m.preserve_cdata&&y.value.indexOf("[CDATA[")===0?(y.name="#cdata",y.type=4,y.value=h.decode(y.value.replace(/^\[CDATA\[|\]\]$/g,""))):y.value.indexOf("mce:protected ")===0&&(y.name="#text",y.type=3,y.raw=!0,y.value=unescape(y.value).substr(14))}}),l.addNodeFilter("xml:namespace,input",function(p,x){for(var y=p.length;y--;){var _=p[y];_.type===7?_.remove():_.type===1&&(x!=="input"||_.attr("type")||_.attr("type","text"))}}),l.addAttributeFilter("data-mce-type",function(p){gt(p,function(x){x.attr("data-mce-type")==="format-caret"&&(x.isEmpty(l.schema.getNonEmptyElements())?x.remove():x.unwrap())})}),l.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(p,x){for(var y=p.length;y--;)p[y].attr(x,null)}),{schema:s,addNodeFilter:d.addNodeFilter,addAttributeFilter:d.addAttributeFilter,serialize:function(p,x){var y,_,E,T,A,B,N,P,H,G,Z,V,$,X,it,dt,wt,bt,tt,et,at,ft,It,Wt,Pt,jt,Ht,Ut,zt,te=ht({format:"html"},x=x===void 0?{}:x),At=(y=(V=p,It=$=te,(Z=n)&&Z.hasEventListeners("PreProcess")&&!It.no_events?(it=$,et=(X=Z).dom,at=V.cloneNode(!0),(ft=document.implementation).createHTMLDocument&&(wt=ft.createHTMLDocument(""),Ct.each(at.nodeName==="BODY"?at.childNodes:[at],function(ie){wt.body.appendChild(wt.importNode(ie,!0))}),at=at.nodeName!=="BODY"?wt.body.firstChild:wt.body,dt=et.doc,et.doc=wt),bt=X,tt=ht(ht({},it),{node:at}),bt.fire("PreProcess",tt),dt&&(et.doc=dt),at):V),E=Da((_=te).getInner?y.innerHTML:a.getOuterHTML(y)),_.selection||Xd(lt.fromDom(y))?E:Ct.trim(E)),Yt=(T=d,A=At,N=(B=te).selection?ht({forced_root_block:!1},B):B,P=T.parse(A,N),!Ft(G=P.lastChild)||Ft(H=G.prev)&&(G.remove(),H.remove()),P);function Ft(ie){return ie&&ie.name==="br"}return te.format==="tree"?Yt:(Wt=n,Pt=te,jt=Yt,zt=ed(t,s).serialize(jt),Pt.no_events||!Wt?zt:(Ht=Wt,Ut=ht(ht({},Pt),{content:zt}),Ht.fire("PostProcess",Ut).content))},addRules:s.addValidElements,setRules:s.setValidElements,addTempAttr:q(O1,d,r),getTempAttrs:Jt(r),getNodeFilters:d.getNodeFilters,getAttributeFilters:d.getAttributeFilters}}function mb(t,n){var r=T1(t,n);return{schema:r.schema,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:r.serialize,addRules:r.addRules,setRules:r.setRules,addTempAttr:r.addTempAttr,getTempAttrs:r.getTempAttrs,getNodeFilters:r.getNodeFilters,getAttributeFilters:r.getAttributeFilters}}function gb(t,n,r){return a=r=r===void 0?{}:r,Lx(t).editor.setContent(n,a);var a}function Rm(t){return w.from(t).each(function(n){return n.destroy()})}function Qx(t,n){var r,a,s,l,d,m,h,p=(r=t,a=We(fE,function(A){return Ot(r,A)}),(s=r.forced_root_block)!==!1&&s!==""||a.push("forced_root_block (false only)"),si(a)),x=(h=Ct.makeMap(n.plugins," "),si(ue(ue([],We(dE,T),!0),ja(mE,function(A){return T(A)?[A+" (moving to premium)"]:[]}),!0))),y=0<x.length,_=0<p.length,E=n.theme==="mobile";function T(A){return Ot(h,A)}(y||_||E)&&(l=E?`

Themes:
- mobile`:"",d=y?`

Plugins:
- `+x.join(`
- `):"",m=_?`

Settings:
- `+p.join(`
- `):"",console.warn("The following deprecated features are currently enabled, these will be removed in TinyMCE 6.0. See https://www.tiny.cloud/docs/release-notes/6.0-upcoming-changes/ for more information."+l+d+m))}function Mm(t){var n=Nn(t)?t.join(" "):t;return We(Ne(Dn(n)?n.split(" "):[],wi),function(r){return 0<r.length})}function Wi(t,n){return Ot(t.sections(),n)}function Ep(t,n){return no(t,"toolbar_mode").orThunk(function(){return no(t,"toolbar_drawer").map(function(r){return r===!1?"wrap":r})}).getOr(n)}function ud(t,n,r,a){var s,l,d,m,h,p,x,y,_=Mm(r.forced_plugins),E=Mm(a.plugins),T=Wi(s=n,"mobile")?s.sections().mobile:{},A=T.plugins?Mm(T.plugins):E,B=(l=(m=n,h=E,p=A,(d=t)&&(y=(x=m).sections(),Wi(x,"mobile")&&y.mobile.theme==="mobile")?We(p,q(Vt,gE)):d&&Wi(m,"mobile")?p:h),[].concat(Mm(_)).concat(Mm(l)));if(Te.browser.isIE()&&Vt(B,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return Ct.extend(a,{plugins:B.join(" ")})}function Zx(t,n,r,a,s){var l,d,m,h,p,x,y,_,E=t?{mobile:(l=n,d={resize:!1,toolbar_mode:Ep(s.mobile||{},"scrolling"),toolbar_sticky:!1},ht(ht(ht({},P1),d),l?{menubar:!1}:{}))}:{},T=(p=["mobile"],be(B1(E,s),function(B,N){return Vt(p,N)},Wu(x={}),Wu(y={})),{sections:Jt((_={t:x,f:y}).t),settings:Jt(_.f)}),A=Ct.extend(r,a,T.settings(),t&&Wi(T,"mobile")?(function(B){B===void 0&&(B={});var N=no(T.sections(),"mobile").getOr({});return Ct.extend({},B,N)})():{},{validate:!0,external_plugins:(m=a,h=T.settings().external_plugins||{},m&&m.external_plugins?Ct.extend({},m.external_plugins,h):h)});return ud(t,T,a,A)}function $i(t,n,r){return w.from(n.settings[r]).filter(t)}function pb(t,n){return n.dom[t]}function hb(t,n){return parseInt(Ku(n,t),10)}function A1(t,n,r){var a,s,l,d,m,h,p=lt.fromDom(t.getBody()),x=t.inline?p:lt.fromDom(_s(p).dom.documentElement),y=(a=t.inline,l=n,d=r,m=(s=x).dom.getBoundingClientRect(),{x:l-(a?m.left+s.dom.clientLeft+bE(s):0),y:d-(a?m.top+s.dom.clientTop+vE(s):0)}),_=y.x,E=y.y,T=pE(h=x),A=hE(h);return 0<=_&&0<=E&&_<=T&&E<=A}function D1(t){function n(){var p=t.theme;return p&&p.getNotificationManagerImpl?p.getNotificationManagerImpl():{open:x,close:x,reposition:x,getArgs:x};function x(){throw new Error("Theme did not provide a NotificationManager implementation.")}}function r(){return w.from(m[0])}function a(){0<m.length&&n().reposition(m)}function s(p){Pe(m,function(x){return x===p}).each(function(x){m.splice(x,1)})}function l(p,x){if(x===void 0&&(x=!0),!t.removed&&(_=(y=t).inline?y.getBody():y.getContentAreaContainer(),w.from(_).map(lt.fromDom).map(Fc).getOr(!1)))return x&&t.fire("BeforeOpenNotification",{notification:p}),bo(m,function(E){return!((T=n().getArgs(E)).type!==p.type||T.text!==p.text||T.progressBar||T.timeout||p.progressBar||p.timeout);var T}).getOrThunk(function(){t.editorManager.setActive(t);var E=n().open(p,function(){s(E),a(),r().fold(function(){return t.focus()},function(T){return lt.fromDom(T.getEl()).dom.focus()})});return m.push(E),a(),t.fire("OpenNotification",{notification:ht({},E)}),E});var y,_}var d,m=[],h=Jt(m);return(d=t).on("SkinLoaded",function(){var p=d.getParam("service_message");p&&l({text:p,type:"warning",timeout:0},!1),a()}),d.on("show ResizeEditor ResizeWindow NodeChange",function(){wo.requestAnimationFrame(a)}),d.on("remove",function(){gt(m.slice(),function(p){n().close(p)})}),{open:l,close:function(){r().each(function(p){n().close(p),s(p),a()})},getNotifications:h}}kp.findEndTag=Yx;var tw,Op,vb=Ct.makeMap,ew=Ct.each,Pm=Ct.explode,N1=Ct.extend,Tp=Re.DOM,B1=(tw=function(t,n){return vo(t)&&vo(n)?B1(t,n):n},function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length===0)throw new Error("Can't merge zero objects");for(var r={},a=0;a<t.length;a++){var s,l=t[a];for(s in l)Ot(l,s)&&(r[s]=tw(r[s],l[s]))}return r}),fE="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),dE="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),mE="imagetools,toc".split(","),nw=Fo().deviceType,R1=nw.isTouch(),M1=nw.isPhone(),Im=nw.isTablet(),gE=["lists","autolink","autosave"],P1={table_grid:!1,object_resizing:!1,resize:!1},Ap=(Op={},{add:function(t,n){Op[t]=n},get:function(t){return Op[t]||{icons:{}}},has:function(t){return Ot(Op,t)}}),pE=q(pb,"clientWidth"),hE=q(pb,"clientHeight"),vE=q(hb,"margin-top"),bE=q(hb,"margin-left"),ru=fa.PluginManager,nl=fa.ThemeManager;function Lm(t){function n(){var d=t.theme;return d&&d.getWindowManagerImpl?d.getWindowManagerImpl():{open:m,openUrl:m,alert:m,confirm:m,close:m,getParams:m,setParams:m};function m(){throw new Error("Theme did not provide a WindowManager implementation.")}}function r(d,m){return function(){for(var h=[],p=0;p<arguments.length;p++)h[p]=arguments[p];return m?m.apply(d,h):void 0}}function a(d){t.fire("CloseWindow",{dialog:d}),(l=We(l,function(m){return m!==d})).length===0&&t.focus()}function s(d){t.editorManager.setActive(t),Ov(t);var m,h=d();return m=h,l.push(m),t.fire("OpenWindow",{dialog:m}),h}var l=[];return t.on("remove",function(){gt(l,function(d){n().close(d)})}),{open:function(d,m){return s(function(){return n().open(d,m,a)})},openUrl:function(d){return s(function(){return n().openUrl(d,a)})},alert:function(d,m,h){var p=n();p.alert(d,r(h||p,m))},confirm:function(d,m,h){var p=n();p.confirm(d,r(h||p,m))},close:function(){w.from(l[l.length-1]).each(function(d){n().close(d),a(d)})}}}function Fm(t,n){t.notificationManager.open({type:"error",text:n})}function bb(t,n){t._skinLoaded?Fm(t,n):t.on("SkinLoaded",function(){Fm(t,n)})}function ow(t,n,r){Jf(t,n,{message:r}),console.error(r)}function yb(t,n,r){return r?"Failed to load "+t+": "+r+" from url "+n:"Failed to load "+t+" url: "+n}function sd(t,n,r){ow(t,"PluginLoadError",yb("plugin",n,r))}function yE(t){var n,r;t.contentCSS=t.contentCSS.concat(zp(t,(r=(n=t).getParam("content_css"),Dn(r)?Ne(r.split(","),wi):Nn(r)?r:r===!1||n.inline?[]:["default"])),zp(t,l0(t)))}function Dp(){function t(a,s){return{status:a,resultUri:s}}function n(a){return a in r}var r={};return{hasBlobUri:n,getResultUri:function(a){var s=r[a];return s?s.resultUri:null},isPending:function(a){return!!n(a)&&r[a].status===1},isUploaded:function(a){return!!n(a)&&r[a].status===2},markPending:function(a){r[a]=t(1,null)},markUploaded:function(a,s){r[a]=t(2,s)},removeFailed:function(a){delete r[a]},destroy:function(){r={}}}}function Hm(t){return t+Q1+++("s"+new Date().getTime().toString(36)+n()+n()+n());function n(){return Math.round(4294967295*Math.random()).toString(36)}}function I1(){function t(s){return bo(a,s).getOrUndefined()}function n(s){if(!s.blob||!s.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var l=s.id||Hm("blobid"),d=s.name||l,m=s.blob;return{id:Jt(l),name:Jt(d),filename:Jt(s.filename||d+"."+({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"}[m.type.toLowerCase()]||"dat")),blob:Jt(m),base64:Jt(s.base64),blobUri:Jt(s.blobUri||URL.createObjectURL(m)),uri:Jt(s.uri)}}function r(s){return t(function(l){return l.id()===s})}var a=[];return{create:function(s,l,d,m,h){if(Dn(s))return n({id:s,name:m,filename:h,blob:l,base64:d});if(vo(s))return n(s);throw new Error("Unknown input type")},add:function(s){r(s.id())||a.push(s)},get:r,getByUri:function(s){return t(function(l){return l.blobUri()===s})},getByData:function(s,l){return t(function(d){return d.base64()===s&&d.blob().type===l})},findFirst:t,removeByUri:function(s){a=We(a,function(l){return l.blobUri()!==s||void URL.revokeObjectURL(l.blobUri())})},destroy:function(){gt(a,function(s){URL.revokeObjectURL(s.blobUri())}),a=[]}}}function L1(t,n){function r(m,h,p,x){var y=new XMLHttpRequest;y.open("POST",n.url),y.withCredentials=n.credentials,y.upload.onprogress=function(E){x(E.loaded/E.total*100)},y.onerror=function(){p("Image upload failed due to a XHR Transport error. Code: "+y.status)},y.onload=function(){var E,T,A;y.status<200||300<=y.status?p("HTTP Error: "+y.status):(E=JSON.parse(y.responseText))&&typeof E.location=="string"?h((T=n.basePath,A=E.location,T?T.replace(/\/$/,"")+"/"+A.replace(/^\//,""):A)):p("Invalid JSON: "+y.responseText)};var _=new FormData;_.append("file",m.blob(),m.filename()),y.send(_)}function a(m,h){return{url:h,blobInfo:m,status:!0}}function s(m,h,p){return{url:"",blobInfo:m,status:!1,error:{message:h,options:p}}}function l(m,h){Ct.each(d[m],function(p){p(h)}),delete d[m]}var d={};return nn(n.handler)===!1&&(n.handler=r),{upload:function(m,h){return n.url||n.handler!==r?(p=m,x=h,p=Ct.grep(m,function(y){return!t.isUploaded(y.blobUri())}),rt.all(Ct.map(p,function(y){return t.isPending(y.blobUri())?(A=y.blobUri(),new rt(function(B){d[A]=d[A]||[],d[A].push(B)})):(_=y,E=n.handler,T=x,t.markPending(_.blobUri()),new rt(function(B){var N;try{var P=function(){N&&N.close()};E(_,function(H){P(),t.markUploaded(_.blobUri(),H),l(_.blobUri(),a(_,H)),B(a(_,H))},function(H,G){var Z=G||{};P(),t.removeFailed(_.blobUri()),l(_.blobUri(),s(_,H,Z)),B(s(_,H,Z))},function(H){H<0||100<H||w.from(N).orThunk(function(){return w.from(T).map(Ge)}).each(function(G){(N=G).progressBar.value(H)})})}catch(H){B(s(_,H.message,{}))}}));var _,E,T,A}))):new rt(function(y){y([])});var p,x}}}function rw(t){return function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}}function Np(t,n){return L1(n,{url:t.getParam("images_upload_url","","string"),basePath:t.getParam("images_upload_base_path","","string"),credentials:t.getParam("images_upload_credentials",!1,"boolean"),handler:t.getParam("images_upload_handler",null,"function")})}function F1(t){function n(P){return function(H){return t.selection?P(H):[]}}function r(P,H,G){for(var Z=0;(Z=P.indexOf(H,Z))!==-1&&(P=P.substring(0,Z)+G+P.substr(Z+H.length),Z+=G.length-H.length+1),Z!==-1;);return P}function a(P,H,G){return P=r(P,'src="'+H+'"','src="'+G+'"'+(G===Te.transparentSrc?' data-mce-placeholder="1"':"")),r(P,'data-mce-src="'+H+'"','data-mce-src="'+G+'"')}function s(P,H){gt(t.undoManager.data,function(G){G.type==="fragmented"?G.fragments=Ne(G.fragments,function(Z){return a(Z,P,H)}):G.content=a(G.content,P,H)})}function l(P){return p=p||Np(t,T),N().then(n(function(H){var G=Ne(H,function(Z){return Z.blobInfo});return p.upload(G,rw(t)).then(n(function(Z){var V=[],$=Ne(Z,function(X,it){var dt,wt,bt,tt,et=H[it].blobInfo,at=H[it].image;return X.status&&t.getParam("images_replace_blob_uris",!0,"boolean")?(E.removeByUri(at.src),qs(t)||(wt=at,bt=X.url,tt=t.convertURL(bt,"src"),s(wt.src,bt),t.$(wt).attr({src:t.getParam("images_reuse_filename",!1,"boolean")?bt+(bt.indexOf("?")===-1?"?":"&")+new Date().getTime():bt,"data-mce-src":tt}))):X.error&&(X.error.options.remove&&(s(at.getAttribute("src"),Te.transparentSrc),V.push(at)),dt=X.error.message,bb(t,ku.translate(["Failed to upload image: {0}",dt]))),{element:at,status:X.status,uploadUri:X.url,blobInfo:et}});return 0<$.length&&B.fireIfChanged(),0<V.length&&(qs(t)?console.error("Removing images on failed uploads is currently unsupported for RTC"):t.undoManager.transact(function(){gt(V,function(X){t.dom.remove(X),E.removeByUri(X.src)})})),P&&P($),$}))}))}function d(P){if(YC(t))return l(P)}function m(P){return Cs(A,function(H){return H(P)})!==!1&&(P.getAttribute("src").indexOf("data:")!==0||t.getParam("images_dataimg_filter",lo,"function")(P))}function h(P){return P.replace(/src="(blob:[^"]+)"/g,function(H,G){var Z=T.getResultUri(G);if(Z)return'src="'+Z+'"';var V=(V=E.getByUri(G))||on(t.editorManager.get(),function($,X){return $||X.editorUpload&&X.editorUpload.blobCache.getByUri(G)},null);return V?'src="data:'+V.blob().type+";base64,"+V.base64()+'"':H})}var p,x,y,_,E=I1(),T=Dp(),A=[],B=(_=Bi(null),(y=t).on("change AddUndo",function(P){_.set(ht({},P.level))}),{fireIfChanged:function(){var P=y.undoManager.data;Qn(P).filter(function(H){return!ou(_.get(),H)}).each(function(H){y.setDirty(!0),y.fire("change",{level:H,lastLevel:Uu(P,P.length-2).getOrNull()})})}}),N=function(){return(x=x||cE(T,E)).findAll(t.getBody(),m).then(n(function(P){return P=We(P,function(H){return typeof H!="string"||void bb(t,H)}),qs(t)||gt(P,function(H){s(H.image.src,H.blobInfo.blobUri()),H.image.src=H.blobInfo.blobUri(),H.image.removeAttribute("data-mce-src")}),P}))};return t.on("SetContent",function(){(YC(t)?d:N)()}),t.on("RawSaveContent",function(P){P.content=h(P.content)}),t.on("GetContent",function(P){P.source_view||P.format==="raw"||P.format==="tree"||(P.content=h(P.content))}),t.on("PostRender",function(){t.parser.addNodeFilter("img",function(P){gt(P,function(H){var G,Z=H.attr("src");E.getByUri(Z)||(G=T.getResultUri(Z))&&H.attr("src",G)})})}),{blobCache:E,addFilter:function(P){A.push(P)},uploadImages:l,uploadImagesAuto:d,scanForImages:N,destroy:function(){E.destroy(),T.destroy(),x=p=null}}}function iw(t,n){function r(h){s=typeof h=="string"?{name:h,classes:[],attrs:{}}:h;var p,x=ii.create(s.name),y=x;return(p=s).classes.length&&ii.addClass(y,p.classes.join(" ")),ii.setAttribs(y,p.attrs),x}var a,s,l,d=n&&n.schema||nc({}),m=function(h,p,x){var y,_,E,T,A,B,N,P=0<p.length&&p[0],H=P&&P.name,G=(T=H,A=typeof(E=h)!="string"?E.nodeName.toLowerCase():E,!(!(N=(B=d.getElementRule(A))&&B.parentsRequired)||!N.length)&&(T&&Ct.inArray(N,T)!==-1?T:N[0]));if(G)H===G?(_=p[0],p=p.slice(1)):_=G;else if(P)_=p[0],p=p.slice(1);else if(!x)return h;return _&&(y=r(_)).appendChild(h),x&&(y||(y=ii.create("div")).appendChild(h),Ct.each(x,function(Z){var V=r(Z);y.insertBefore(V,h)})),m(y,p,_&&_.siblings)};return t&&t.length?(a=r(s=t[0]),(l=ii.create("div")).appendChild(m(a,t.slice(1),s.siblings)),l):""}function xb(t){var n,r={classes:[],attrs:{}};return(t=r.selector=Ct.trim(t))!=="*"&&(n=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(a,s,l,d,m){switch(s){case"#":r.attrs.id=l;break;case".":r.classes.push(l);break;case":":Ct.inArray("checked disabled enabled read-only required".split(" "),l)!==-1&&(r.attrs[l]=l)}var h;return d!=="["||(h=m.match(/([\w\-]+)(?:\=\"([^\"]+))?/))&&(r.attrs[h[1]]=h[2]),""})),r.name=n||"div",r}function zm(t,n){var r,a,s="",l=(a=t.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),Dn(a)?a:"");if(l==="")return"";function d(E){return E.replace(/%(\w+)/g,"")}if(typeof n=="string"){if(!(n=t.formatter.get(n)))return;n=n[0]}if("preview"in n){var m=no(n,"preview");if(xf(m,!1))return"";l=m.getOr(l)}var h,p=n.block||n.inline||"span",x=(h=n.selector)&&typeof h=="string"?(h=(h=h.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Ct.map(h.split(/(?:>|\s+(?![^\[\]]+\]))/),function(E){var T=Ct.map(E.split(/(?:~\+|~|\+)/),xb),A=T.pop();return T.length&&(A.siblings=T),A}).reverse()):[],y=x.length?(x[0].name||(x[0].name=p),p=n.selector,iw(x,t)):iw([p],t),_=ii.select(p,y)[0]||y.firstChild;return fd(n.styles,function(E,T){var A=d(E);A&&ii.setStyle(_,T,A)}),fd(n.attributes,function(E,T){var A=d(E);A&&ii.setAttrib(_,T,A)}),fd(n.classes,function(E){var T=d(E);ii.hasClass(_,T)||ii.addClass(_,T)}),t.fire("PreviewFormats"),ii.setStyles(y,{position:"absolute",left:-65535}),t.getBody().appendChild(y),r=ii.getStyle(t.getBody(),"fontSize",!0),r=/px$/.test(r)?parseInt(r,10):0,fd(l.split(" "),function(E){var T=ii.getStyle(_,E,!0);if(!(E==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(T)&&(T=ii.getStyle(t.getBody(),E,!0),ii.toHex(T).toLowerCase()==="#ffffff")||E==="color"&&ii.toHex(T).toLowerCase()==="#000000")){if(E==="font-size"&&/em|%$/.test(T)){if(r===0)return;T=parseFloat(T)/(/%$/.test(T)?100:1)*r+"px"}E==="border"&&T&&(s+="padding:0 2px;"),s+=E+":"+T+";"}}),t.fire("AfterPreviewFormats"),ii.remove(y),s}function aw(t){var n,r,a,s,l,d,m=(s={},(l=function(p,x){p&&(Dn(p)?(gt(x=Nn(x)?x:[x],function(y){Je(y.deep)&&(y.deep=!vr(y)),Je(y.split)&&(y.split=!vr(y)||jr(y)),Je(y.remove)&&vr(y)&&!jr(y)&&(y.remove="none"),vr(y)&&jr(y)&&(y.mixed=!0,y.block_expand=!0),Dn(y.classes)&&(y.classes=y.classes.split(/\s+/))}),s[p]=x):yo(p,function(y,_){l(_,y)}))})((r=(n=t).dom,a={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(p,x,y){return Ae(p)&&p.hasAttribute("href")},onformat:function(p,x,y){Ct.each(y,function(_,E){r.setAttrib(p,E,_)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(p){var x;return(x=p?.customValue)!==null&&x!==void 0?x:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]},Ct.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(p){a[p]={block:p,remove:"all"}}),a)),l(n.getParam("formats")),{get:function(p){return ot(p)?s[p]:s},has:function(p){return Ot(s,p)},register:l,unregister:function(p){return p&&s[p]&&delete s[p],s}}),h=Bi(null);return(function(p){p.addShortcut("meta+b","","Bold"),p.addShortcut("meta+i","","Italic"),p.addShortcut("meta+u","","Underline");for(var x=1;x<=6;x++)p.addShortcut("access+"+x,"",["FormatBlock",!1,"h"+x]);p.addShortcut("access+7","",["FormatBlock",!1,"p"]),p.addShortcut("access+8","",["FormatBlock",!1,"div"]),p.addShortcut("access+9","",["FormatBlock",!1,"address"])})(t),(d=t).on("mouseup keydown",function(p){var x=d,y=p.keyCode,_=x.selection,E=x.getBody();kx(x,null,!1),y!==8&&y!==46||!_.isCollapsed()||_.getStart().innerHTML!==ri||kx(x,Vl(E,_.getStart())),y!==37&&y!==39||kx(x,Vl(E,_.getStart()))}),{get:m.get,has:m.has,register:m.register,unregister:m.unregister,apply:function(p,x,y){var _=p,E=x,T=y;br(t).formatter.apply(_,E,T)},remove:function(p,x,y,_){var E=p,T=x,A=y,B=_;br(t).formatter.remove(E,T,A,B)},toggle:function(p,x,y){var _=p,E=x,T=y;br(t).formatter.toggle(_,E,T)},match:function(p,x,y,_){return E=p,T=x,A=y,B=_,br(t).formatter.match(E,T,A,B);var E,T,A,B},closest:function(p){return x=p,br(t).formatter.closest(x);var x},matchAll:function(p,x){return y=p,_=x,br(t).formatter.matchAll(y,_);var y,_},matchNode:function(p,x,y,_){return E=p,T=x,A=y,B=_,br(t).formatter.matchNode(E,T,A,B);var E,T,A,B},canApply:function(p){return x=p,br(t).formatter.canApply(x);var x},formatChanged:function(p,x,y,_){return E=h,T=p,A=x,B=y,N=_,br(t).formatter.formatChanged(E,T,A,B,N);var E,T,A,B,N},getCssText:q(zm,t)}}function ir(t){switch(t.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return 1;default:return}}function Bp(t){var n,r,a,s,l,d=Ff(),m=Bi(0),h=Bi(0),p={data:[],typing:!1,beforeChange:function(){var y=m,_=d;br(t).undoManager.beforeChange(y,_)},add:function(y,_){return E=p,T=h,A=m,B=d,N=y,P=_,br(t).undoManager.add(E,T,A,B,N,P);var E,T,A,B,N,P},undo:function(){return y=p,_=m,E=h,br(t).undoManager.undo(y,_,E);var y,_,E},redo:function(){return y=h,_=p.data,br(t).undoManager.redo(y,_);var y,_},clear:function(){var y=p,_=h;br(t).undoManager.clear(y,_)},reset:function(){var y=p;br(t).undoManager.reset(y)},hasUndo:function(){return y=p,_=h,br(t).undoManager.hasUndo(y,_);var y,_},hasRedo:function(){return y=p,_=h,br(t).undoManager.hasRedo(y,_);var y,_},transact:function(y){return _=p,E=m,T=y,br(t).undoManager.transact(_,E,T);var _,E,T},ignore:function(y){var _=m,E=y;br(t).undoManager.ignore(_,E)},extra:function(y,_){var E=p,T=h,A=y,B=_;br(t).undoManager.extra(E,T,A,B)}};return qs(t)||(a=p,s=m,l=Bi(!1),(r=t).on("init",function(){a.add()}),r.on("BeforeExecCommand",function(y){ir(y.command)||(b1(a,s),a.beforeChange())}),r.on("ExecCommand",function(y){ir(y.command)||x(y)}),r.on("ObjectResizeStart cut",function(){a.beforeChange()}),r.on("SaveContent ObjectResized blur",x),r.on("dragend",x),r.on("keyup",function(y){var _=y.keyCode;y.isDefaultPrevented()||((33<=_&&_<=36||37<=_&&_<=40||_===45||y.ctrlKey)&&(x(),r.nodeChanged()),_!==46&&_!==8||r.nodeChanged(),l.get()&&a.typing&&ou(wp(r),a.data[0])===!1&&(r.isDirty()===!1&&(r.setDirty(!0),r.fire("change",{level:a.data[0],lastLevel:null})),r.fire("TypingUndo"),l.set(!1),r.nodeChanged()))}),r.on("keydown",function(y){var _,E=y.keyCode;y.isDefaultPrevented()||(33<=E&&E<=36||37<=E&&E<=40||E===45?a.typing&&x(y):(_=y.ctrlKey&&!y.altKey||y.metaKey,!(E<16||20<E)||E===224||E===91||a.typing||_||(a.beforeChange(),Cp(a,!0,s),a.add({},y),l.set(!0))))}),r.on("mousedown",function(y){a.typing&&x(y)}),r.on("input",function(y){y.inputType&&(y.inputType==="insertReplacementText"||y.inputType==="insertText"&&y.data===null||y.inputType==="insertFromPaste"||y.inputType==="insertFromDrop")&&x(y)}),r.on("AddUndo Undo Redo ClearUndos",function(y){y.isDefaultPrevented()||r.nodeChanged()})),(n=t).addShortcut("meta+z","","Undo"),n.addShortcut("meta+y,meta+shift+z","","Redo"),p;function x(y){Cp(a,!1,s),a.add({},y)}}function Vm(t){return t.type==="keydown"||t.type==="keyup"}function jm(t){var n=t.keyCode;return n===Ce.BACKSPACE||n===Ce.DELETE}function gs(t,n){return $n(lt.fromDom(n),t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string"))}function Ru(t,n,r){var a,s,l=(a=t,s=n,We(Re.DOM.getParents(r.container(),"*",s),a));return w.from(l[l.length-1])}function La(t,n){if(!n)return n;var r=n.container(),a=n.offset();return t?ge(r)?oe(r.nextSibling)?Et(r.nextSibling,0):Et.after(r):Oa(n)?Et(r,a+1):n:ge(r)?oe(r.previousSibling)?Et(r.previousSibling,r.previousSibling.data.length):Et.before(r):st(n)?Et(r,a-1):n}function H1(t){return Of(t)||fn(t)}function Rp(t,n){return ze(t,n)?zo(n,H1,(r=t,function(a){return ke(r,lt.fromDom(a.dom.parentNode))})):w.none();var r}function z1(t){var n,r,a;t.dom.isEmpty(t.getBody())&&(t.setContent(""),a=(r=(n=t).getBody()).firstChild&&n.dom.isBlock(r.firstChild)?r.firstChild:r,n.selection.setCursorLocation(a,0))}function xE(t,n){return{from:t,to:n}}function wb(t,n){return Rp(lt.fromDom(t),lt.fromDom(n.container())).map(function(r){return{block:r,position:n}})}function uw(t){var n,r=Pe(n=mo(t),Ts).fold(Jt(n),function(a){return n.slice(0,a)});return gt(r,Ee),r}function Um(t,n){return bo(vc(n,t).reverse(),function(r){return Qe(r)}).each(Ee)}function V1(t,n,r,a){if(Qe(r))return ql(r),pa(r.dom);We(Ic(a),function(l){return!Qe(l)}).length===0&&Qe(n)&&ta(a,lt.fromTag("br"));var s=pc(r.dom,Et.before(a.dom));return gt(uw(n),function(l){ta(a,l)}),Um(t,n),s}function j1(t,n,r){if(Qe(r))return Ee(r),Qe(n)&&ql(n),pa(n.dom);var a=Tu(r.dom);return gt(uw(n),function(s){Jo(r,s)}),Um(t,n),a}function sw(t,n){Uf(t,n.dom).map(function(r){return r.getNode()}).map(lt.fromDom).filter(Zu).each(Ee)}function cw(t,n,r){return sw(!0,n),sw(!1,r),(ze(s=r,a=n)?(l=vc(a,s),w.from(l[l.length-1])):w.none()).fold(q(j1,t,n,r),q(V1,t,n,r));var a,s,l}function Cb(t,n,r,a){return n?cw(t,a,r):cw(t,r,a)}function Jl(t,n){var r,a,s,l,d,m,h,p=lt.fromDom(t.getBody()),x=(r=p.dom,a=n,((s=t.selection.getRng()).collapsed?(d=a,m=wb(l=r,Et.fromRangeStart(s)),h=m.bind(function(y){return ga(d,l,y.position).bind(function(_){return wb(l,_).map(function(E){return T=l,A=d,Do((B=E).position.getNode())&&Qe(B.block)===!1?Uf(!1,B.block.dom).bind(function(N){return N.isEqual(B.position)?ga(A,T,N).bind(function(P){return wb(T,P)}):w.some(B)}).getOr(B):B;var T,A,B})})}),fi(m,h,xE).filter(function(y){return ke(y.from.block,y.to.block)===!1&&_i((E=y).from.block).bind(function(T){return _i(E.to.block).filter(function(A){return ke(T,A)})}).isSome()&&Un((_=y).from.block.dom)===!1&&Un(_.to.block.dom)===!1;var _,E})):w.none()).bind(function(y){return Cb(p,n,y.from.block,y.to.block)}));return x.each(function(y){t.selection.setRng(y.toRange())}),x.isSome()}function ol(t,n){var r=lt.fromDom(n),a=q(ke,t);return Os(r,rc,a).isSome()}function lw(t){var n,r,a,s,l,d,m,h,p,x,y=lt.fromDom(t.getBody()),_=t.selection.getRng();return d=_,p=pc((l=y).dom,Et.fromRangeStart(d)).isNone(),x=cs(l.dom,Et.fromRangeEnd(d)).isNone(),!ol(m=l,(h=d).startContainer)&&!ol(m,h.endContainer)&&p&&x?((s=t).setContent(""),s.selection.setCursorLocation(),!0):(n=y,r=t.selection,a=r.getRng(),fi(Rp(n,lt.fromDom(a.startContainer)),Rp(n,lt.fromDom(a.endContainer)),function(E,T){return ke(E,T)===!1&&(a.deleteContents(),Cb(n,!0,E,T).each(function(A){r.setRng(A.toRange())}),!0)}).getOr(!1))}function Mp(t,n){return!t.selection.isCollapsed()&&lw(t)}function Mu(t,n,r,a,s){return w.from(n._selectionOverrides.showCaret(t,r,a,s))}function cd(t,n){var r,a;return t.fire("BeforeObjectSelected",{target:n}).isDefaultPrevented()?w.none():w.some(((a=(r=n).ownerDocument.createRange()).selectNode(r),a))}function fw(t,n,r){var a=Ig(1,t.getBody(),n),s=Et.fromRangeStart(a),l=s.getNode();if(mm(l))return Mu(1,t,l,!s.isAtEnd(),!1);var d=s.getNode(!0);if(mm(d))return Mu(1,t,d,!1,!1);var m=t.dom.getParent(s.getNode(),function(h){return eS(h)||CE(h)});return mm(m)?Mu(1,t,m,!1,r):w.none()}function _b(t,n,r){return n.collapsed?fw(t,n,r).getOr(n):n}function dw(t){return Nu(t)||fs(t)}function Pp(t){return Ia(t)||ro(t)}function Sb(t,n,r,a,s,l){var d,m;return Mu(a,t,l.getNode(!s),s,!0).each(function(h){var p;n.collapsed?(p=n.cloneRange(),s?p.setEnd(h.startContainer,h.startOffset):p.setStart(h.endContainer,h.endOffset),p.deleteContents()):n.deleteContents(),t.selection.setRng(h)}),d=t.dom,oe(m=r)&&m.data.length===0&&d.remove(m),!0}function Ip(t,n){var r=t.selection.getRng();if(!oe(r.commonAncestorContainer))return!1;var a=n?ei.Forwards:ei.Backwards,s=us(t.getBody()),l=q(p0,n?s.next:s.prev),d=n?dw:Pp,m=Lg(a,t.getBody(),r),h=La(n,l(m));if(!h||!ov(m,h))return!1;if(d(h))return Sb(t,r,m.getNode(),a,n,h);var p=l(h);return!!(p&&d(p)&&ov(h,p))&&Sb(t,r,m.getNode(),a,n,p)}function U1(t,n,r){return ga(n,t,r).bind(function(a){return y=a.getNode(),rc(lt.fromDom(y))||fn(lt.fromDom(y))||(m=t,x=a,n_(!(h=n),p=r).fold(function(){return n_(h,x).fold(Ln,_)},_))?w.none():n&&Un(a.getNode())||n===!1&&Un(a.getNode(!0))?(s=t,l=r,d=a.getNode(n===!1),Rp(lt.fromDom(s),lt.fromDom(l.getNode())).map(function(E){return Qe(E)?iu.remove(E.dom):iu.moveToElement(d)}).orThunk(function(){return w.some(iu.moveToElement(d))})):n&&Ia(r)||n===!1&&Nu(r)?w.some(iu.moveToPosition(a)):w.none();var s,l,d,m,h,p,x,y;function _(E){return co(lt.fromDom(E))&&!Hs(p,x,m)}})}function mw(t,n){return w.from(Ze(t.getBody(),n))}function W1(t,n){var r=t.selection.getNode();return mw(t,r).filter(Un).fold(function(){return y=t.getBody(),E=Ig((_=n)?1:-1,y,t.selection.getRng()),T=Et.fromRangeStart(E),A=lt.fromDom(y),(_===!1&&Ia(T)?w.some(iu.remove(T.getNode(!0))):_&&Nu(T)?w.some(iu.remove(T.getNode())):_===!1&&Nu(T)&&mp(A,T)?Us(A,T).map(function(B){return iu.remove(B.getNode())}):_&&Ia(T)&&dp(A,T)?Tx(A,T).map(function(B){return iu.remove(B.getNode())}):(a=y,s=_,p=(l=T).getNode((h=s)===!1),x=h?"after":"before",Ae(p)&&p.getAttribute("data-mce-caret")===x?(m=l.getNode((d=s)===!1),(d&&Un(m.nextSibling)?w.some(iu.moveToElement(m.nextSibling)):d===!1&&Un(m.previousSibling)?w.some(iu.moveToElement(m.previousSibling)):w.none()).fold(function(){return U1(a,s,l)},w.some)):U1(a,s,l).bind(function(B){return N=a,P=l,B.fold(function(H){return w.some(iu.remove(H))},function(H){return w.some(iu.moveToElement(H))},function(H){return Hs(P,H,N)?w.none():w.some(iu.moveToPosition(H))});var N,P}))).exists(function(B){return B.fold(function(V){return G._selectionOverrides.hideFakeCaret(),Gl(G,Z,lt.fromDom(V)),!0},(H=Z=n,function(V){var $=H?Et.before(V):Et.after(V);return P.selection.setRng($.toRange()),!0}),(N=P=G=t,function(V){return N.selection.setRng(V.toRange()),!0}));var N,P,H,G,Z});var a,s,l,d,m,h,p,x,y,_,E,T,A},lo)}function gw(t,n){var r=t.selection.getNode();return!(!Un(r)||Sl(r))&&mw(t,r.parentNode).filter(Un).fold(function(){return gt(Pa(lt.fromDom(t.getBody()),".mce-offscreen-selection"),Ee),Gl(t,n,lt.fromDom(t.selection.getNode())),z1(t),!0},lo)}function $1(t){var n,r=t.dom,a=t.selection,s=Ze(t.getBody(),a.getNode());return Hr(s)&&r.isBlock(s)&&r.isEmpty(s)&&(n=r.create("br",{"data-mce-bogus":"1"}),r.setHTML(s,""),s.appendChild(n),a.setRng(Et.before(n).toRange())),!0}function rl(t,n){return(t.selection.isCollapsed()?W1:gw)(t,n)}function Wm(t,n){return!!t.selection.isCollapsed()&&(r=t,a=n,s=Et.fromRangeStart(r.selection.getRng()),ga(a,r.getBody(),s).filter(function(l){return(a?nE:oE)(l)}).bind(function(l){return w.from(nv(a?0:-1,l))}).exists(function(l){return r.selection.select(l),!0}));var r,a,s}function q1(t){return $m(t)&&t.data[0]===Qr}function ld(t){return $m(t)&&t.data[t.data.length-1]===Qr}function kb(t){return t.ownerDocument.createTextNode(Qr)}function Lp(t,n){return(t?function(r){if($m(r.previousSibling))return ld(r.previousSibling)||r.previousSibling.appendData(Qr),r.previousSibling;if($m(r))return q1(r)||r.insertData(0,Qr),r;var a=kb(r);return r.parentNode.insertBefore(a,r),a}:function(r){if($m(r.nextSibling))return q1(r.nextSibling)||r.nextSibling.insertData(0,Qr),r.nextSibling;if($m(r))return ld(r)||r.appendData(Qr),r;var a=kb(r);return r.nextSibling?r.parentNode.insertBefore(a,r.nextSibling):r.parentNode.appendChild(a),a})(n)}function pw(t,n){return oe(t.container())?Lp(n,t.container()):Lp(n,t.getNode())}function hw(t,n){var r=n.get();return r&&t.container()===r&&ge(r)}function Eb(t,n){return n.fold(function(r){Fl(t.get());var a=nS(r);return t.set(a),w.some(Et(a,a.length-1))},function(r){return pa(r).map(function(a){if(hw(a,t))return Et(t.get(),1);Fl(t.get());var s=pw(a,!0);return t.set(s),Et(s,1)})},function(r){return Tu(r).map(function(a){if(hw(a,t))return Et(t.get(),t.get().length-1);Fl(t.get());var s=pw(a,!1);return t.set(s),Et(s,s.length-1)})},function(r){Fl(t.get());var a=_E(r);return t.set(a),w.some(Et(a,1))})}function vw(t,n){for(var r=0;r<t.length;r++){var a=t[r].apply(null,n);if(a.isSome())return a}return w.none()}function bw(t,n){return Kc(n,t)||t}function Ob(t,n,r){var a=Nb(r),s=bw(n,a.container());return Ru(t,s,a).fold(function(){return cs(s,a).bind(q(Ru,t,s)).map(function(l){return qi.before(l)})},w.none)}function wE(t,n){return Vl(t,n)===null}function G1(t,n,r){return Ru(t,n,r).filter(q(wE,n))}function X1(t,n,r){var a=Cw(r);return G1(t,n,a).bind(function(s){return pc(s,a).isNone()?w.some(qi.start(s)):w.none()})}function Tb(t,n,r){var a=Nb(r);return G1(t,n,a).bind(function(s){return cs(s,a).isNone()?w.some(qi.end(s)):w.none()})}function K1(t,n,r){var a=Cw(r),s=bw(n,a.container());return Ru(t,s,a).fold(function(){return pc(s,a).bind(q(Ru,t,s)).map(function(l){return qi.after(l)})},w.none)}function yw(t){return n=_w(t),(Re.DOM.getStyle(n,"direction",!0)==="rtl"||(r=n.textContent,tS.test(r)))===!1;var n,r}function ps(t,n,r){return vw([Ob,X1,Tb,K1],[t,n,r]).filter(yw)}function xw(t){return t.fold(Jt("before"),Jt("start"),Jt("end"),Jt("after"))}function Fp(t){return t.fold(qi.before,qi.before,qi.after,qi.after)}function Ab(t){return t.fold(qi.start,qi.start,qi.end,qi.end)}function ww(t,n,r,a,s,l){return fi(Ru(n,r,a),Ru(n,r,s),function(d,m){return d!==m&&(p=m,x=Kc(d,h=r),y=Kc(p,h),x&&x===y)?qi.after(t?d:m):l;var h,p,x,y}).getOr(l)}function Y1(t,n){return t.fold(lo,function(r){return s=n,!(xw(a=r)===xw(s)&&_w(a)===_w(s));var a,s})}function J1(t,n){return t?n.fold(ar(w.some,qi.start),w.none,ar(w.some,qi.after),w.none):n.fold(w.none,ar(w.some,qi.before),w.none,ar(w.some,qi.end))}function Db(t,n,r,a){var s=La(t,a),l=ps(n,r,s);return ps(n,r,s).bind(q(J1,t)).orThunk(function(){return m=n,h=r,p=l,x=La(d=t,a),ga(d,h,x).map(q(La,d)).fold(function(){return p.map(Fp)},function(y){return ps(m,h,y).map(q(ww,d,m,h,x,y)).filter(q(Y1,p))}).filter(yw);var d,m,h,p,x})}function Hp(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a=window.console;a&&(a.error||a.log).apply(a,ue([t],n,!1))}var yc,xc,zp=function(t,n){var r=t.editorManager.baseURL+"/skins/content",a="content"+t.editorManager.suffix+".css",s=t.inline===!0;return Ne(n,function(l){return/^[a-z0-9\-]+$/i.test(l)&&!s?r+"/"+l+"/"+a:t.documentBaseURI.toAbsolute(l)})},Q1=0,fd=Ct.each,ii=Re.DOM,yr=[9,27,Ce.HOME,Ce.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ce.DOWN,Ce.UP,Ce.LEFT,Ce.RIGHT].concat(Te.browser.isFirefox()?[224]:[]),Z1="data-mce-placeholder",tS=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Nb=q(La,!0),Cw=q(La,!1),CE=Hr,eS=Un,iu=Ga([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),$m=oe,nS=q(Lp,!0),_E=q(Lp,!1),qi=Ga([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),_w=function(t){return t.fold(An,An,An,An)};function oS(t,n,r){var a=t?1:-1;return n.setRng(Et(r.container(),r.offset()+a).toRange()),n.getSel().modify("move",t?"forward":"backward","word"),!0}function Bb(t,n){return t===ei.Backwards?Ua(n):n}function Sw(t,n,r,a){for(var s,l,d,m,h=us(r),p=a,x=[];p;){var y=(d=h,m=p,n===ei.Forwards?d.next(m):d.prev(m));if(!y)break;if(Do(y.getNode(!1)))return n===ei.Forwards?{positions:Bb(n,x).concat([y]),breakType:yc.Br,breakAt:w.some(y)}:{positions:Bb(n,x),breakType:yc.Br,breakAt:w.some(y)};if(y.isVisible()){if(t(p,y)){var _=(s=p,Do((l=y).getNode(n===ei.Forwards))?yc.Br:Hs(s,l)===!1?yc.Block:yc.Wrap);return{positions:Bb(n,x),breakType:_,breakAt:w.some(y)}}x.push(y),p=y}else p=y}return{positions:Bb(n,x),breakType:yc.Eol,breakAt:w.none()}}function kw(t,n,r,a){return n(r,a).breakAt.map(function(s){var l=n(r,s).positions;return t===ei.Backwards?l.concat(s):[s].concat(l)}).getOr([])}function dd(t,n){return on(t,function(r,a){return r.fold(function(){return w.some(a)},function(s){return fi(eo(s.getClientRects()),eo(a.getClientRects()),function(l,d){var m=Math.abs(n-l.left);return Math.abs(n-d.left)<=m?a:s}).or(r)})},w.none())}function Ew(t,n){return eo(n.getClientRects()).bind(function(r){return dd(t,r.left)})}function rS(t){function n(a){return Ne(a,function(s){var l=Ml(s);return l.node=t,l})}if(Ae(t))return n(t.getClientRects());if(oe(t)){var r=t.ownerDocument.createRange();return r.setStart(t,0),r.setEnd(t,t.data.length),n(r.getClientRects())}}function Rb(t){return ja(t,rS)}q(Db,!1),q(Db,!0),(xc=yc={})[xc.Br=0]="Br",xc[xc.Block=1]="Block",xc[xc.Wrap=2]="Wrap",xc[xc.Eol=3]="Eol";var md,Vp,qm=q(Sw,Et.isAbove,-1),jp=q(Sw,Et.isBelow,1),iS=q(kw,-1,qm),Up=q(kw,1,jp);function il(t,n,r,a,s,l){function d(y){var _=Rb([y]);t===-1&&(_=_.reverse());for(var E=0;E<_.length;E++){var T=_[E];if(!r(T,p)){if(0<h.length&&n(T,xi(h))&&m++,T.line=m,s(T))return!0;h.push(T)}}}var m=0,h=[],p=xi(l.getClientRects());if(!p)return h;var x=l.getNode();return d(x),(function(y,_,E,T){for(;T=Vf(T,y,$t,_);)if(E(T))return})(t,a,d,x),h}function Ow(t){return function(n){return n.line>t}}function Mb(t){return function(n){return n.line===t}}function Tw(t,n){return Math.abs(t.left-n)}function gd(t,n){return Math.abs(t.right-n)}function Aw(t,n){return t>=n.left&&t<=n.right}function aS(t,n){return t>=n.top&&t<=n.bottom}function Dr(t,n,r){return r===void 0&&(r=lo),Gr(t,function(a,s){if(Aw(n,s))return r(s)?s:a;if(Aw(n,a))return r(a)?a:s;var l=Math.min(Tw(a,n),gd(a,n)),d=Math.min(Tw(s,n),gd(s,n));return d===l&&_r(s,"node")&&wS(s.node)||d<l?s:a})}function uS(t,n,r,a,s){var l=$b(a,t,$t,n,!s);do if(!l||r(l))return;while(l=$b(l,t,$t,n))}function SE(t,n,r){function a(p){return!_l(p.node)&&!qa(p.node)}var s,l,d,m=Rb(We(Zn(t.getElementsByTagName("*")),Ll)),h=We(m,q(aS,r));return(d=Dr(h,n,a))&&(d=Dr((function(p,x,y){function _(T,A){var B=We(Rb([A]),function(N){return!T(N,x)});return E=E.concat(B),B.length===0}y===void 0&&(y=!0);var E=[];return E.push(x),uS(md.Up,p,q(_,Pl),x.node,y),uS(md.Down,p,q(_,sm),x.node,y),E})(t,d,a(d)),n,a))&&Ll(d.node)?{node:(s=d).node,before:Tw(s,l=n)<gd(s,l)}:null}function tn(t,n){t.selection.setRng(n),op(t,t.selection.getRng())}function Dw(t,n,r){return w.some(_b(t,n,r))}function Bo(t,n,r,a,s,l){var d=n===ei.Forwards,m=us(t.getBody()),h=q(p0,d?m.next:m.prev),p=d?a:s;if(!r.collapsed){var x=Is(r);if(l(x))return Mu(n,t,x,n===ei.Backwards,!1)}var y=Lg(n,t.getBody(),r);if(p(y))return cd(t,y.getNode(!d));var _=La(d,h(y)),E=W(r);if(!_)return E?w.some(r):w.none();if(p(_))return Mu(n,t,_.getNode(!d),d,!1);var T=h(_);return T&&p(T)&&ov(_,T)?Mu(n,t,T.getNode(!d),d,!1):E?Dw(t,_.toRange(),!1):w.none()}function sS(t,n,r,a,s,l){var d=Lg(n,t.getBody(),r),m=xi(d.getClientRects()),h=n===md.Down;if(!m)return w.none();var p,x=We((h?Yw:Wb)(t.getBody(),Ow(1),d),Mb(1)),y=m.left,_=Dr(x,y);if(_&&l(_.node)){var E=Math.abs(y-_.left),T=Math.abs(y-_.right);return Mu(n,t,_.node,E<T,!1)}if(p=a(d)?d.getNode():s(d)?d.getNode(!0):Is(r)){var A=(function(N,P,H,G){function Z(ft){return xi(ft.getClientRects())}var V,$,X,it=us(P),dt=[],wt=0,bt=N===1?(V=it.next,$=sm,X=Pl,Et.after(G)):(V=it.prev,$=Pl,X=sm,Et.before(G)),tt=Z(bt);do if(bt.isVisible()){var et=Z(bt);if(!X(et,tt)){0<dt.length&&$(et,xi(dt))&&wt++;var at=Ml(et);if(at.position=bt,at.line=wt,H(at))return dt;dt.push(at)}}while(bt=V(bt));return dt})(n,t.getBody(),Ow(1),p),B=Dr(We(A,Mb(1)),y);if(B||(B=xi(We(A,Mb(0)))))return Dw(t,B.position.toRange(),!1)}return x.length===0?Qm(t,h).filter(h?s:a).map(function(N){return _b(t,N.toRange(),!1)}):w.none()}function cS(t,n,r){return Qm(t,n).filter(r).exists(function(a){return t.selection.setRng(a.toRange()),!0})}function Wp(t,n){var r=t.dom.createRng();r.setStart(n.container(),n.offset()),r.setEnd(n.container(),n.offset()),t.selection.setRng(r)}function Fa(t,n){t?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")}function Gm(t,n,r){return Eb(n,r).map(function(a){return Wp(t,a),r})}function Ql(t,n,r){return!!Rg(t)&&(s=n,l=r,d=(a=t).getBody(),m=Et.fromRangeStart(a.selection.getRng()),Db(l,q(gs,a),d,m).bind(function(h){return Gm(a,s,h)}).isSome());var a,s,l,d,m}function Xs(t,n,r){return!!Rg(n)&&(a=t,l=(s=n).selection.getRng(),d=a?Et.fromRangeEnd(l):Et.fromRangeStart(l),!!nn(s.selection.getSel().modify)&&(a&&Oa(d)?oS(!0,s.selection,d):!(a||!st(d))&&oS(!1,s.selection,d)));var a,s,l,d}function $p(t){var n=Bi(null),r=q(gs,t);return t.on("NodeChange",function(a){var s,l,d,m,h,p,x,y,_,E,T,A,B;!Rg(t)||Te.browser.isIE()&&a.initial||(h=r,p=t.dom,x=a.parents,gt(vl(y=We(Ne(Pa(lt.fromDom(p.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(N){return N.dom}),h),_=We(x,h)),q(Fa,!1)),gt(vl(_,y),q(Fa,!0)),T=n,(E=t).selection.isCollapsed()&&E.composing!==!0&&T.get()&&(A=Et.fromRangeStart(E.selection.getRng()),Et.isTextPosition(A)&&(Oa(B=A)||st(B))===!1&&(Wp(E,Dk(T.get(),A)),T.set(null))),s=r,l=t,d=n,m=a.parents,l.selection.isCollapsed()&&gt(We(m,s),function(N){var P=Et.fromRangeStart(l.selection.getRng());ps(s,l.getBody(),P).bind(function(H){return Gm(l,d,H)})}))}),n}function Xm(t,n,r){if(Rg(t)){var a=Qm(t,n).getOrThunk(function(){var s=t.selection.getRng();return n?Et.fromRangeEnd(s):Et.fromRangeStart(s)});return ps(q(gs,t),t.getBody(),a).exists(function(s){var l=Fp(s);return Eb(r,l).exists(function(d){return Wp(t,d),!0})})}return!1}function Pb(t,n){return function(r){return Eb(n,r).exists(function(a){return Wp(t,a),!0})}}function Nw(t,n,r,a){var s=t.getBody(),l=q(gs,t);t.undoManager.ignore(function(){var d,m,h;t.selection.setRng((d=r,m=a,(h=document.createRange()).setStart(d.container(),d.offset()),h.setEnd(m.container(),m.offset()),h)),t.execCommand("Delete"),ps(l,s,Et.fromRangeStart(t.selection.getRng())).map(Ab).map(Pb(t,n))}),t.nodeChanged()}function qp(t,n,r){if(t.selection.isCollapsed()&&Rg(t)){var a=Et.fromRangeStart(t.selection.getRng());return l=n,d=r,m=a,h=(s=t).getBody(),p=Kc(m.container(),h)||h,x=q(gs,s),(y=ps(x,p,m)).bind(function(_){return d?_.fold(Jt(w.some(Ab(_))),w.none,Jt(w.some(Fp(_))),w.none):_.fold(w.none,Jt(w.some(Fp(_))),w.none,Jt(w.some(Ab(_))))}).map(Pb(s,l)).getOrThunk(function(){var _=jg(d,p,m),E=_.bind(function(T){return ps(x,p,T)});return fi(y,E,function(){return Ru(x,p,m).exists(function(T){return!!fi(pa(A=T),Tu(A),function(B,N){var P=La(!0,B),H=La(!1,N);return cs(A,P).forall(function(G){return G.isEqual(H)})}).getOr(!0)&&(Gl(s,d,lt.fromDom(T)),!0);var A})}).orThunk(function(){return E.bind(function(T){return _.map(function(A){return d?Nw(s,l,m,A):Nw(s,l,A,m),!0})})}).getOr(!1)})}var s,l,d,m,h,p,x,y;return!1}function lS(t){return Pd(t)===1}function Gp(t,n){var r,a=lt.fromDom(t.getBody()),s=lt.fromDom(t.selection.getStart()),l=We(Pe(r=vc(s,a),Ts).fold(Jt(r),function(d){return r.slice(0,d)}),lS);return Qn(l).exists(function(d){var m,h,p,x,y,_,E,T,A,B=Et.fromRangeStart(t.selection.getRng()),N=n,P=B,H=d.dom;return!(!fi(pa(H),Tu(H),function(G,Z){var V=La(!0,G),$=La(!1,Z),X=La(!1,P);return N?cs(H,X).exists(function(it){return it.isEqual($)&&P.isEqual(V)}):pc(H,X).exists(function(it){return it.isEqual(V)&&P.isEqual($)})}).getOr(!0)||zs((m=d).dom)&&wx(m.dom)||(h=n,x=d,(A=Ne(We(l,q(eE,p=t)),function(G){return G.dom})).length===0?Gl(p,h,x):(_=x.dom,T=$v(A,(E=_x(!1)).dom),ta(lt.fromDom(_),E),Ee(lt.fromDom(_)),y=Et(T,0),p.selection.setRng(y.toRange())),0))})}function Xp(t,n){return!!t.selection.isCollapsed()&&Gp(t,n)}function Kp(t,n,r){return t._selectionOverrides.hideFakeCaret(),Gl(t,n,lt.fromDom(r)),!0}function Ib(t,n){return t.selection.isCollapsed()?(l=t,m=(d=n)?fs:ro,h=d?ei.Forwards:ei.Backwards,p=Lg(h,l.getBody(),l.selection.getRng()),m(p)?Kp(l,d,p.getNode(!d)):w.from(La(d,p)).filter(function(x){return m(x)&&ov(p,x)}).exists(function(x){return Kp(l,d,x.getNode(!d))})):(a=n,s=(r=t).selection.getNode(),!!qa(s)&&Kp(r,a,s));var r,a,s,l,d,m,h,p}function Lb(t){var n=parseInt(t,10);return isNaN(n)?0:n}function Bw(t,n){return(t||Ho(n)==="table"?"margin":"padding")+(Ku(n,"direction")==="rtl"?"-right":"-left")}function Rw(t){var n,r=Jw(t);return!t.mode.isReadOnly()&&(1<r.length||(n=t,Cs(r,function(a){var s=xo(a,Bw(c0(n),a)).map(Lb).getOr(0);return n.dom.getContentEditable(a.dom)!=="false"&&0<s})))}function Mw(t){return Wo(t)||fn(t)}function Fb(t,n){var r=t.dom,a=t.selection,s=t.formatter,l=t.getParam("indentation","40px","string"),d=/[a-z%]+$/i.exec(l)[0],m=parseInt(l,10),h=c0(t),p=Vi(t);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||p!==""||r.getParent(a.getNode(),r.isBlock)||s.apply("div"),gt(Jw(t),function(x){var y,_=r,E=n,T=m,A=d,B=x.dom,N=Bw(h,lt.fromDom(B));E==="outdent"?(y=Math.max(0,Lb(B.style[N])-T),_.setStyle(B,N,y?y+A:"")):(y=Lb(B.style[N])+T+A,_.setStyle(B,N,y))})}function hs(t,n){if(t.selection.isCollapsed()&&Rw(t)){var r=t.dom,a=t.selection.getRng(),s=Et.fromRangeStart(a),l=r.getParent(a.startContainer,r.isBlock);if(l!==null&&pi(lt.fromDom(l),s))return Fb(t,"outdent"),!0}return!1}function Yp(t,n){t.getDoc().execCommand(n,!1,null)}function wc(t){return t.touches===void 0||t.touches.length!==1?w.none():w.some(t.touches[0])}function Jp(t,n){return Ot(t,n.nodeName)}function kE(t){var n,r,a,s=t.dom,l=t.selection,d=t.schema,m=d.getBlockElements(),h=l.getStart(),p=t.getBody(),x=Vi(t);if(h&&Ae(h)&&x){var y=p.nodeName.toLowerCase();if(d.isValidChild(y,x.toLowerCase())&&(_=m,E=p,T=h,!Cr(ax(lt.fromDom(T),lt.fromDom(E)),function($){return Jp(_,$.dom)}))){for(var _,E,T,A,B,N=l.getRng(),P=N.startContainer,H=N.startOffset,G=N.endContainer,Z=N.endOffset,V=hc(t),h=p.firstChild;h;)A=m,oe(B=h)||Ae(B)&&!Jp(A,B)&&!eu(B)?(function(X,it){if(oe(it)&&(it.nodeValue.length===0||/^\s+$/.test(it.nodeValue)&&(!it.nextSibling||Jp(X,it.nextSibling))))return 1})(m,h)?(h=(r=h).nextSibling,s.remove(r)):(n||(n=s.create(x,Dg(t)),h.parentNode.insertBefore(n,h),a=!0),h=(r=h).nextSibling,n.appendChild(r)):(n=null,h=h.nextSibling);a&&V&&(N.setStart(P,H),N.setEnd(G,Z),l.setRng(N),t.nodeChanged())}}}function pd(t,n){n.hasAttribute("data-mce-caret")&&(k(n),t.selection.setRng(t.selection.getRng()),t.selection.scrollIntoView(n))}function Zl(t,n){var r=zc(lt.fromDom(t.getBody()),"*[data-mce-caret]").map(function(a){return a.dom}).getOrNull();if(r)return n.type==="compositionstart"?(n.preventDefault(),n.stopPropagation(),void pd(t,r)):void(Ah(r)&&(pd(t,r),t.undoManager.add()))}function Cc(t,n,r){var a,s,l,d=us(t.getBody()),m=q(p0,n===1?d.next:d.prev);!r.collapsed||Vi(t)===""||(a=t.dom.getParent(r.startContainer,"PRE"))&&(m(Et.fromRangeStart(r))||(l=t.dom.create(Vi(t)),(!Te.ie||11<=Te.ie)&&(l.innerHTML='<br data-mce-bogus="1">'),s=l,n===1?t.$(a).after(s):t.$(a).before(s),t.selection.select(s,!0),t.selection.collapse()))}function fS(t,n){return r=t,a=n?ei.Forwards:ei.Backwards,s=r.selection.getRng(),Bo(r,a,s,Nu,Ia,CS).orThunk(function(){return Cc(r,a,s),w.none()}).exists(function(l){return tn(t,l),!0});var r,a,s}function dS(t,n){return a=n?1:-1,s=(r=t).selection.getRng(),sS(r,a,s,function(l){return Nu(l)||tl(l)},function(l){return Ia(l)||ds(l)},CS).orThunk(function(){return Cc(r,a,s),w.none()}).exists(function(l){return tn(t,l),!0});var r,a,s}function mS(t,n){return cS(t,n,n?Ia:Nu)}function _c(t){return Vt(["figcaption"],Ho(t))}function gS(t){var n=document.createRange();return n.setStartBefore(t.dom),n.setEndBefore(t.dom),n}function Xo(t,n,r){(r?Jo:Qs)(t,n)}function pS(t,n){var r=lt.fromDom(t.getBody()),a=Et.fromRangeStart(t.selection.getRng()),s=Vi(t),l=Dg(t),d=a,m=q(ke,r);return zo(lt.fromDom(d.container()),Ts,m).filter(_c).exists(function(){if(G=r,Z=a,n?($=G.dom,jp($,Z).breakAt.isNone()):(V=G.dom,qm(V,Z).breakAt.isNone())){var h=(p=r,y=l,_=n,(x=s)===""?(P=_,Xo(p,H=lt.fromTag("br"),P),gS(H)):(E=p,T=_,A=y,B=lt.fromTag(x),N=lt.fromTag("br"),Zs(B,A),Jo(B,N),Xo(E,B,T),gS(N)));return t.selection.setRng(h),!0}var p,x,y,_,E,T,A,B,N,P,H,G,Z,V,$;return!1})}function Pw(t,n){return!!t.selection.isCollapsed()&&pS(t,n)}function cn(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){return t.apply(null,n)}}function tf(t,n){return bo((r=n,ja(Ne(t,function(a){return ht({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:ne},a)}),function(a){return r.keyCode===a.keyCode&&r.shiftKey===a.shiftKey&&r.altKey===a.altKey&&r.ctrlKey===a.ctrlKey&&r.metaKey===a.metaKey?[a]:[]})),function(a){return a.action()});var r}function hd(t,n){var r=n?ei.Forwards:ei.Backwards,a=t.selection.getRng();return Bo(t,r,a,fs,ro,qa).exists(function(s){return tn(t,s),!0})}function Iw(t,n){var r=n?1:-1,a=t.selection.getRng();return sS(t,r,a,fs,ro,qa).exists(function(s){return tn(t,s),!0})}function Hb(t,n){return cS(t,n,n?ro:fs)}function Lw(t,n,r,a,s){var l,d=Pa(lt.fromDom(r),"td,th,caption").map(function(x){return x.dom}),m=We((l=t,ja(d,function(x){var y,_={left:(y=Ml(x.getBoundingClientRect())).left- -1,top:y.top- -1,right:y.right+-2,bottom:y.bottom+-2,width:y.width+-1,height:y.height+-1};return[{x:_.left,y:l(_),cell:x},{x:_.right,y:l(_),cell:x}]})),function(x){return n(x,s)}),h=a,p=s;return on(m,function(x,y){return x.fold(function(){return w.some(y)},function(_){var E=Math.sqrt(Math.abs(_.x-h)+Math.abs(_.y-p)),T=Math.sqrt(Math.abs(y.x-h)+Math.abs(y.y-p));return w.some(T<E?y:_)})},w.none()).map(function(x){return x.cell})}function zb(t,n,r){var a,s,l=t(n,r);return l.breakType===yc.Wrap&&l.positions.length===0||!Do(r.getNode())&&l.breakType===yc.Br&&l.positions.length===1?(a=t,s=n,!l.breakAt.exists(function(d){return a(s,d).breakAt.isSome()})):l.breakAt.isNone()}function ef(t,n,r,a){var s,l,d,m=t.selection.getRng(),h=n?1:-1;return!(!d0()||(s=n,l=r,d=Et.fromRangeStart(m),!Uf(!s,l).exists(function(p){return p.isEqual(d)}))||(Mu(h,t,r,!n,!1).each(function(p){tn(t,p)}),0))}function Vb(t,n,r){var a,s,l=(a=!!n,s=r.getNode(a),Ae(s)&&s.nodeName==="TABLE"?w.some(s):w.none()),d=n===!1;l.fold(function(){return tn(t,r.toRange())},function(m){return Uf(d,t.getBody()).filter(function(h){return h.isEqual(r)}).fold(function(){return tn(t,r.toRange())},function(h){var p,x,y=n,_=m,E=r;(x=Vi(p=t))?p.undoManager.transact(function(){var T=lt.fromTag(x);Zs(T,Dg(p)),Jo(T,lt.fromTag("br")),(y?Fi:ta)(lt.fromDom(_),T);var A=p.dom.createRng();A.setStart(T.dom,0),A.setEnd(T.dom,0),tn(p,A)}):tn(p,E.toRange())})})}function vd(t,n,r,a){var s,l,d,m,h,p,x,y,_,E,T=t.selection.getRng(),A=Et.fromRangeStart(T),B=t.getBody();if(n||!_S(a,A))return!(!n||!TE(a,A))&&(s=B,_=l=r,Vb(t,n,N=Qn((E=d=A).getClientRects()).bind(function(P){return OE(_,P.left,P.top)}).bind(function(P){return Ew(pa(H=P).map(function(G){return[G].concat(jp(H,G).positions)}).getOr([]),E);var H}).orThunk(function(){return eo(d.getClientRects()).bind(function(P){return dd(Up(s,Et.after(l)),P.left)})}).getOr(Et.after(l))),!0);var N=(m=B,x=h=r,eo((y=p=A).getClientRects()).bind(function(P){return EE(x,P.left,P.top)}).bind(function(P){return Ew(Tu(H=P).map(function(G){return qm(H,G).positions.concat(G)}).getOr([]),y);var H}).orThunk(function(){return eo(p.getClientRects()).bind(function(P){return dd(iS(m,Et.before(h)),P.left)})}).getOr(Et.before(h)));return Vb(t,n,N),!0}function nf(t,n,r){return w.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(a){return w.from(t.dom.getParent(a,"table")).map(function(s){return r(t,n,s,a)})}).getOr(!1)}function Qp(t,n){return nf(t,n,ef)}function Zp(t,n){return nf(t,n,vd)}function Ks(t,n){var r,a,s=n,l=t.dom,d=t.schema.getMoveCaretBeforeOnEnterElements();if(n){!/^(LI|DT|DD)$/.test(n.nodeName)||(a=(function(p){for(;p;){if(p.nodeType===1||p.nodeType===3&&p.data&&/[\r\n\s]/.test(p.data))return p;p=p.nextSibling}})(n.firstChild))&&/^(UL|OL|DL)$/.test(a.nodeName)&&n.insertBefore(l.doc.createTextNode(Aa),n.firstChild);var m=l.createRng();if(n.normalize(),n.hasChildNodes()){for(var h=new Vo(n,n);r=h.current();){if(oe(r)){m.setStart(r,0),m.setEnd(r,0);break}if(d[r.nodeName.toLowerCase()]){m.setStartBefore(r),m.setEndBefore(r);break}s=r,r=h.next()}r||(m.setStart(s,0),m.setEnd(s,0))}else Do(n)?n.nextSibling&&l.isBlock(n.nextSibling)?(m.setStartBefore(n),m.setEndBefore(n)):(m.setStartAfter(n),m.setEndAfter(n)):(m.setStart(n,0),m.setEnd(n,0));t.selection.setRng(m),op(t,m)}}function al(t){return w.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))}function th(t,n){return t&&t.parentNode&&t.parentNode.nodeName===n}function eh(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)}function nh(t){var n=t.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:t}function Km(t,n,r){for(var a=t[r?"firstChild":"lastChild"];a&&!Ae(a);)a=a[r?"nextSibling":"previousSibling"];return a===n}function oh(t){t.innerHTML='<br data-mce-bogus="1">'}function jb(t,n){return t.nodeName===n||t.previousSibling&&t.previousSibling.nodeName===n}function Fw(t,n){return n&&t.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&t.getContentEditable(n)!=="true"}function of(t,n,r){return oe(n)===!1?r:t?r===1&&n.data.charAt(r-1)===Qr?0:r:r===n.data.length-1&&n.data.charAt(r)===Qr?n.data.length:r}function Hw(t,n){for(var r,a=t.getRoot(),s=n;s!==a&&t.getContentEditable(s)!=="false";)t.getContentEditable(s)==="true"&&(r=s),s=s.parentNode;return s!==a?r:a}function Ym(t,n){var r=Vi(t);r&&r.toLowerCase()===n.tagName.toLowerCase()&&(function(a,s,l){var d=a.dom;w.from(l.style).map(d.parseStyle).each(function(p){var x=Ud(lt.fromDom(s)),y=ht(ht({},x),p);d.setStyles(s,y)}),fi(w.from(l.class).map(function(p){return p.split(/\s+/)}),w.from(s.className).map(function(p){return We(p.split(/\s+/),function(x){return x!==""})}),function(p,x){var y=We(x,function(E){return!Vt(p,E)}),_=ue(ue([],p,!0),y,!0);d.setAttrib(s,"class",_.join(" "))});var m=["style","class"],h=Fr(l,function(p,x){return!Vt(m,x)});d.setAttribs(s,h)})(t,n,Dg(t))}function hS(t,n){function r(zt){var te,At=E,Yt=x.getTextInlineElements(),Ft=zt||H==="TABLE"||H==="HR"?p.create(zt||$):N.cloneNode(!1),ie=Ft;if(t.getParam("keep_styles",!0)===!1)p.setAttrib(Ft,"style",null),p.setAttrib(Ft,"class",null);else for(;Yt[At.nodeName]&&(zs(At)||eu(At)||(te=At.cloneNode(!1),p.setAttrib(te,"id",""),Ft.hasChildNodes()?te.appendChild(Ft.firstChild):ie=te,Ft.appendChild(te))),(At=At.parentNode)&&At!==Ut;);return Ym(t,Ft),oh(ie),Ft}function a(zt){var te,At,Yt=of(zt,E,T);if(!oe(E)||!(zt?0<Yt:Yt<E.nodeValue.length)){if(E.parentNode===N&&h&&!zt||zt&&Ae(E)&&E===N.firstChild)return 1;if(jb(E,"TABLE")||jb(E,"HR"))return h&&!zt||!h&&zt;var Ft=new Vo(E,N);for(oe(E)&&(zt&&Yt===0?Ft.prev():zt||Yt!==E.nodeValue.length||Ft.next());te=Ft.current();){if(Ae(te)){if(!te.getAttribute("data-mce-bogus")&&(At=te.nodeName.toLowerCase(),y[At]&&At!=="br"))return}else if(oe(te)&&!se(te.nodeValue))return;zt?Ft.prev():Ft.next()}return 1}}function s(){d=/^(H[1-6]|PRE|FIGURE)$/.test(H)&&G!=="HGROUP"?r($):r(),t.getParam("end_container_on_empty_block",!1)&&Fw(p,P)&&p.isEmpty(N)?d=p.split(P,N):p.insertAfter(d,N),Ks(t,d)}var l,d,m,h,p=t.dom,x=t.schema,y=x.getNonEmptyElements(),_=t.selection.getRng();Jg(p,_).each(function(zt){_.setStart(zt.startContainer,zt.startOffset),_.setEnd(zt.endContainer,zt.endOffset)});var E=_.startContainer,T=_.startOffset,$=Vi(t),A=!(!n||!n.shiftKey),B=!(!n||!n.ctrlKey);Ae(E)&&E.hasChildNodes()&&(h=T>E.childNodes.length-1,E=E.childNodes[Math.min(T,E.childNodes.length-1)]||E,T=h&&oe(E)?E.nodeValue.length:0);var N,P,H,G,Z,V,$,X,it,dt,wt,bt,tt,et,at,ft,It,Wt,Pt,jt,Ht,Ut=Hw(p,E);Ut&&(($&&!A||!$&&A)&&(E=(function(zt,te,At,Yt){var Ft,ie,re,Ye,Y,nt,St=$||"P",Mt=zt.dom,Dt=Hw(Mt,At),qt=Mt.getParent(At,Mt.isBlock);if(!qt||!Fw(Mt,qt)){if(Y=((qt=qt||Dt)===zt.getBody()||(nt=qt)&&/^(TD|TH|CAPTION)$/.test(nt.nodeName)?qt:qt.parentNode).nodeName.toLowerCase(),!qt.hasChildNodes())return Ym(zt,Ft=Mt.create(St)),qt.appendChild(Ft),te.setStart(Ft,0),te.setEnd(Ft,0),Ft;for(re=At;re.parentNode!==qt;)re=re.parentNode;for(;re&&!Mt.isBlock(re);)re=(ie=re).previousSibling;if(ie&&zt.schema.isValidChild(Y,St.toLowerCase())){for(Ym(zt,Ft=Mt.create(St)),ie.parentNode.insertBefore(Ft,ie),re=ie;re&&!Mt.isBlock(re);)Ye=re.nextSibling,Ft.appendChild(re),re=Ye;te.setStart(At,Yt),te.setEnd(At,Yt)}}return At})(t,_,E,T)),P=(N=p.getParent(E,p.isBlock))?p.getParent(N.parentNode,p.isBlock):null,H=N?N.nodeName.toUpperCase():"",(G=P?P.nodeName.toUpperCase():"")!=="LI"||B||(P=(N=P).parentNode,H=G),/^(LI|DT|DD)$/.test(H)&&p.isEmpty(N)?(it=r,dt=P,wt=N,bt=$,jt=(X=t).dom,Ht=X.selection.getRng(),dt!==X.getBody()&&(et=(bt=eh(tt=dt)&&eh(tt.parentNode)?"LI":bt)?it(bt):jt.create("BR"),Km(dt,wt,!0)&&Km(dt,wt,!1)?th(dt,"LI")?(at=nh(dt),jt.insertAfter(et,at),((Pt=(Wt=dt).parentNode)===null||Pt===void 0?void 0:Pt.firstChild)===Wt?jt.remove(at):jt.remove(dt)):jt.replace(et,dt):(Km(dt,wt,!0)?th(dt,"LI")?(jt.insertAfter(et,nh(dt)),et.appendChild(jt.doc.createTextNode(" ")),et.appendChild(dt)):dt.parentNode.insertBefore(et,dt):Km(dt,wt,!1)?jt.insertAfter(et,nh(dt)):(dt=nh(dt),(ft=Ht.cloneRange()).setStartAfter(wt),ft.setEndAfter(dt),It=ft.extractContents(),bt==="LI"&&It.firstChild&&It.firstChild.nodeName==="LI"?(et=It.firstChild,jt.insertAfter(It,dt)):(jt.insertAfter(It,dt),jt.insertAfter(et,dt))),jt.remove(wt)),Ks(X,et))):$&&N===t.getBody()||($=$||"P",xu(N)?(d=k(N),p.isEmpty(N)&&oh(N),Ym(t,d),Ks(t,d)):a()?s():a(!0)?(d=N.parentNode.insertBefore(r(),N),Ks(t,jb(N,"HR")?d:N)):((V=(Z=_).cloneRange()).setStart(Z.startContainer,of(!0,Z.startContainer,Z.startOffset)),V.setEnd(Z.endContainer,of(!1,Z.endContainer,Z.endOffset)),(l=V.cloneRange()).setEndAfter(N),m=l.extractContents(),gt(Za(lt.fromDom(m),nr),function(zt){var te=zt.dom;te.nodeValue=Da(te.nodeValue)}),(function(zt){for(;oe(zt)&&(zt.nodeValue=zt.nodeValue.replace(/^[\r\n]+/,"")),zt=zt.firstChild;);})(m),d=m.firstChild,p.insertAfter(m,N),(function(zt,te){var At,Yt,Ft=d,ie=[];if(Ft){for(;Ft=Ft.firstChild;){if(zt.isBlock(Ft))return;Ae(Ft)&&!te[Ft.nodeName.toLowerCase()]&&ie.push(Ft)}for(At=ie.length;At--;)(!(Ft=ie[At]).hasChildNodes()||Ft.firstChild===Ft.lastChild&&Ft.firstChild.nodeValue===""||(Yt=Ft)&&Yt.nodeName==="A"&&zt.isEmpty(Yt))&&zt.remove(Ft)}})(p,y),(function(zt,te){te.normalize();var At=te.lastChild;At&&!/^(left|right)$/gi.test(zt.getStyle(At,"float",!0))||zt.add(te,"br")})(p,N),p.isEmpty(N)&&oh(N),d.normalize(),p.isEmpty(d)?(p.remove(d),s()):(Ym(t,d),Ks(t,d))),p.setAttrib(d,"id",""),t.fire("NewBlock",{newBlock:d})))}function rh(t,n,r){var a=t.dom.createRng();r?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),t.selection.setRng(a),op(t,a)}function vS(t,n){var r=lt.fromTag("br");ta(lt.fromDom(n),r),t.undoManager.add()}function bS(t,n){SS(t.getBody(),n)||Fi(lt.fromDom(n),lt.fromTag("br"));var r=lt.fromTag("br");Fi(lt.fromDom(n),r),rh(t,r.dom,!1),t.undoManager.add()}function zw(t){return t&&t.nodeName==="A"&&"href"in t}function yS(t){return t.fold(Ln,zw,zw,Ln)}function ul(t,n){n.fold(ne,q(vS,t),q(bS,t),ne)}function sl(t,n){var r,a,s,l=(a=q(gs,r=t),s=Et.fromRangeStart(r.selection.getRng()),ps(a,r.getBody(),s).filter(yS));l.isSome()?l.each(q(ul,t)):(function(d,m){var h,p,x=d.selection,y=d.dom,_=x.getRng();Jg(y,_).each(function(G){_.setStart(G.startContainer,G.startOffset),_.setEnd(G.endContainer,G.endOffset)});var E,T=_.startOffset,A=_.startContainer;A.nodeType===1&&A.hasChildNodes()&&(E=T>A.childNodes.length-1,A=A.childNodes[Math.min(T,A.childNodes.length-1)]||A,T=E&&A.nodeType===3?A.nodeValue.length:0);var B=y.getParent(A,y.isBlock),N=B?y.getParent(B.parentNode,y.isBlock):null,P=N?N.nodeName.toUpperCase():"",H=!(!m||!m.ctrlKey);P!=="LI"||H||(B=N),A&&A.nodeType===3&&T>=A.nodeValue.length&&!(function(G){for(var Z,V=new Vo(A,B),$=G.getNonEmptyElements();Z=V.next();)if($[Z.nodeName.toLowerCase()]||0<Z.length)return 1})(d.schema)&&(h=y.create("br"),_.insertNode(h),_.setStartAfter(h),_.setEndAfter(h),p=!0),h=y.create("br"),Og(y,_,h),rh(d,h,p),d.undoManager.add()})(t,n)}function Pu(t,n){return al(t).filter(function(r){return 0<n.length&&$n(lt.fromDom(r),n)}).isSome()}function Vw(t,n){return Pu(t,t.getParam("no_newline_selector",""))}function ih(t){return function(n,r){return Vi(n)===""===t}}function jw(t){return function(n,r){return al(n).filter(function(a){return fn(lt.fromDom(a))}).isSome()===t}}function Uw(t,n){return function(r,a){return al(r).fold(Jt(""),function(s){return s.nodeName.toUpperCase()})===t.toUpperCase()===n}}function ah(t){return Uw("pre",t)}function Iu(t){return function(n,r){return n.getParam("br_in_pre",!0)===t}}function Ub(t,n){return Pu(t,t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption"))}function Jm(t,n){return n}function uh(t){var n=Vi(t),r=(function(a,s){for(var l,d=a.getRoot(),m=s;m!==d&&a.getContentEditable(m)!=="false";)a.getContentEditable(m)==="true"&&(l=m),m=m.parentNode;return m!==d?l:d})(t.dom,t.selection.getStart());return r&&t.schema.isValidChild(r.nodeName,n||"P")}function au(t,n){return function(r,a){return on(t,function(s,l){return s&&l(r,a)},!0)?w.some(n):w.none()}}function Ww(t,n){var r,a;r=t,a=n,vw([au([Vw],Ha.none()),au([Uw("summary",!0)],Ha.br()),au([ah(!0),Iu(!1),Jm],Ha.br()),au([ah(!0),Iu(!1)],Ha.block()),au([ah(!0),Iu(!0),Jm],Ha.block()),au([ah(!0),Iu(!0)],Ha.br()),au([jw(!0),Jm],Ha.br()),au([jw(!0)],Ha.block()),au([ih(!0),Jm,uh],Ha.block()),au([ih(!0)],Ha.br()),au([Ub],Ha.br()),au([ih(!1),Jm],Ha.br()),au([uh],Ha.block())],[r,!(!a||!a.shiftKey)]).getOr(Ha.none()).fold(function(){sl(t,n)},function(){hS(t,n)},ne)}function $w(t){return t.stopImmediatePropagation()}function qw(t){return t.keyCode===Ce.PAGE_UP||t.keyCode===Ce.PAGE_DOWN}function Gw(t,n,r){r&&!t.get()?n.on("NodeChange",$w,!0):!r&&t.get()&&n.off("NodeChange",$w),t.set(r)}function sh(t,n){var r=n.container(),a=n.offset();return oe(r)?(r.insertData(a,t),w.some(Et(r,a+t.length))):Fg(n).map(function(s){var l=lt.fromText(t);return(n.isAtEnd()?Fi:ta)(s,l),Et(l.dom,t.length)})}function Xw(t,n){return function(r){return l=t,(!nd(d=r)&&(s=d,pc((a=l).dom,s).isNone()||cs(a.dom,s).isNone()||pi(a,s)||od(a,s)||mp(a,s)||dp(a,s)||pp(l,d)||Sm(l,d))?ch:Zm)(n);var a,s,l,d}}function xS(t){var n,r,a=Et.fromRangeStart(t.selection.getRng()),s=lt.fromDom(t.getBody());if(t.selection.isCollapsed()){var l=q(gs,t),d=Et.fromRangeStart(t.selection.getRng());return ps(l,t.getBody(),d).bind((r=s,function(m){return m.fold(function(h){return pc(r.dom,Et.before(h))},function(h){return pa(h)},function(h){return Tu(h)},function(h){return cs(r.dom,Et.after(h))})})).bind(Xw(s,a)).exists((n=t,function(m){return n.selection.setRng(m.toRange()),n.nodeChanged(),!0}))}return!1}function Kw(t){var n,r,a,s,l,d,m,h,p,x,y,_,E,T,A=$p(t);return t.on("keyup compositionstart",q(Zl,t)),T=A,(E=t).on("keydown",function(B){var N,P,H,G;B.isDefaultPrevented()===!1&&(N=E,P=T,H=B,G=Fo().os,tf([{keyCode:Ce.RIGHT,action:cn(fS,N,!0)},{keyCode:Ce.LEFT,action:cn(fS,N,!1)},{keyCode:Ce.UP,action:cn(dS,N,!1)},{keyCode:Ce.DOWN,action:cn(dS,N,!0)},{keyCode:Ce.RIGHT,action:cn(Qp,N,!0)},{keyCode:Ce.LEFT,action:cn(Qp,N,!1)},{keyCode:Ce.UP,action:cn(Zp,N,!1)},{keyCode:Ce.DOWN,action:cn(Zp,N,!0)},{keyCode:Ce.RIGHT,action:cn(hd,N,!0)},{keyCode:Ce.LEFT,action:cn(hd,N,!1)},{keyCode:Ce.UP,action:cn(Iw,N,!1)},{keyCode:Ce.DOWN,action:cn(Iw,N,!0)},{keyCode:Ce.RIGHT,action:cn(Ql,N,P,!0)},{keyCode:Ce.LEFT,action:cn(Ql,N,P,!1)},{keyCode:Ce.RIGHT,ctrlKey:!G.isOSX(),altKey:G.isOSX(),action:cn(qb,N,P)},{keyCode:Ce.LEFT,ctrlKey:!G.isOSX(),altKey:G.isOSX(),action:cn(Gb,N,P)},{keyCode:Ce.UP,action:cn(Pw,N,!1)},{keyCode:Ce.DOWN,action:cn(Pw,N,!0)}],H).each(function(Z){H.preventDefault()}))}),_=A,(y=t).on("keydown",function(B){var N,P,H;B.isDefaultPrevented()===!1&&(P=_,H=B,tf([{keyCode:Ce.BACKSPACE,action:cn(hs,N=y,!1)},{keyCode:Ce.BACKSPACE,action:cn(rl,N,!1)},{keyCode:Ce.DELETE,action:cn(rl,N,!0)},{keyCode:Ce.BACKSPACE,action:cn(Ip,N,!1)},{keyCode:Ce.DELETE,action:cn(Ip,N,!0)},{keyCode:Ce.BACKSPACE,action:cn(qp,N,P,!1)},{keyCode:Ce.DELETE,action:cn(qp,N,P,!0)},{keyCode:Ce.BACKSPACE,action:cn(jv,N,!1)},{keyCode:Ce.DELETE,action:cn(jv,N,!0)},{keyCode:Ce.BACKSPACE,action:cn(Wm,N,!1)},{keyCode:Ce.DELETE,action:cn(Wm,N,!0)},{keyCode:Ce.BACKSPACE,action:cn(Ib,N,!1)},{keyCode:Ce.DELETE,action:cn(Ib,N,!0)},{keyCode:Ce.BACKSPACE,action:cn(Mp,N,!1)},{keyCode:Ce.DELETE,action:cn(Mp,N,!0)},{keyCode:Ce.BACKSPACE,action:cn(Jl,N,!1)},{keyCode:Ce.DELETE,action:cn(Jl,N,!0)},{keyCode:Ce.BACKSPACE,action:cn(Xp,N,!1)},{keyCode:Ce.DELETE,action:cn(Xp,N,!0)}],H).each(function(G){H.preventDefault()}))}),y.on("keyup",function(B){var N,P;B.isDefaultPrevented()===!1&&(P=B,tf([{keyCode:Ce.BACKSPACE,action:cn($1,N=y)},{keyCode:Ce.DELETE,action:cn($1,N)}],P))}),(x=t).on("keydown",function(B){var N,P,H;B.keyCode===Ce.ENTER&&(N=x,(P=B).isDefaultPrevented()||(P.preventDefault(),(H=N.undoManager).typing&&(H.typing=!1,H.add()),N.undoManager.transact(function(){N.selection.isCollapsed()===!1&&N.execCommand("Delete"),Ww(N,P)})))}),(p=t).on("keydown",function(B){var N;B.isDefaultPrevented()===!1&&(N=B,tf([{keyCode:Ce.SPACEBAR,action:cn(xS,p)}],N).each(function(P){N.preventDefault()}))}),m=d=t,h=Gh(function(){m.composing||bc(m)},0),kS.isIE()&&(m.on("keypress",function(B){h.throttle()}),m.on("remove",function(B){h.cancel()})),d.on("input",function(B){B.isComposing===!1&&bc(d)}),l=A,(s=t).on("keydown",function(B){var N,P,H;B.isDefaultPrevented()===!1&&(P=l,H=B,tf([{keyCode:Ce.END,action:cn(mS,N=s,!0)},{keyCode:Ce.HOME,action:cn(mS,N,!1)},{keyCode:Ce.END,action:cn(Hb,N,!0)},{keyCode:Ce.HOME,action:cn(Hb,N,!1)},{keyCode:Ce.END,action:cn(Xm,N,!0,P)},{keyCode:Ce.HOME,action:cn(Xm,N,!1,P)}],H).each(function(G){H.preventDefault()}))}),n=t,r=A,AE.os.isOSX()||(a=Bi(!1),n.on("keydown",function(B){qw(B)&&Gw(a,n,!0)}),n.on("keyup",function(B){var N,P,H;B.isDefaultPrevented()===!1&&(H=B,tf([{keyCode:Ce.PAGE_UP,action:cn(Xm,N=n,!1,P=r)},{keyCode:Ce.PAGE_DOWN,action:cn(Xm,N,!0,P)}],H)),qw(B)&&a.get()&&(Gw(a,n,!1),n.nodeChanged())})),A}(Vp=md=md||{})[Vp.Up=-1]="Up",Vp[Vp.Down=1]="Down";var Wb=q(il,md.Up,Pl,sm),Yw=q(il,md.Down,sm,Pl),wS=Un,$b=Vf,Qm=function(t,n){var r=t.selection.getRng(),a=t.getBody();if(n){var s=Et.fromRangeEnd(r),l=jp(a,s);return Qn(l.positions)}return s=Et.fromRangeStart(r),eo((l=qm(a,s)).positions)},qb=q(Xs,!0),Gb=q(Xs,!1),Jw=function(t){return We(Ne(t.selection.getSelectedBlocks(),lt.fromDom),function(n){return!Mw(n)&&!_i(n).exists(Mw)&&zo(n,function(r){return Hr(r.dom)||Un(r.dom)}).exists(function(r){return Hr(r.dom)})})},CS=Un,EE=q(Lw,function(t){return t.bottom},function(t,n){return t.y<n}),OE=q(Lw,function(t){return t.top},function(t,n){return t.y>n}),_S=q(zb,qm),TE=q(zb,jp),SS=function(t,n){return r=Et.after(n),!!Do(r.getNode())||cs(t,Et.after(n)).map(function(a){return Do(a.getNode())}).getOr(!1);var r},Ha=Ga([{br:[]},{block:[]},{none:[]}]),kS=Fo().browser,AE=Fo(),ch=q(sh,Aa),Zm=q(sh," "),DE=(lh.prototype.nodeChanged=function(t){var n,r,a,s=this.editor.selection;this.editor.initialized&&s&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(a=this.editor.getBody(),(n=s.getStart(!0)||a).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(n,a)||(n=a),r=[],this.editor.dom.getParent(n,function(l){return l===a||void r.push(l)}),(t=t||{}).element=n,t.parents=r,this.editor.fire("NodeChange",t))},lh.prototype.isSameElementPath=function(t){var n,r=this.editor.$(t).parentsUntil(this.editor.getBody()).add(t);if(r.length===this.lastPath.length){for(n=r.length;0<=n&&r[n]===this.lastPath[n];n--);if(n===-1)return this.lastPath=r,!0}return this.lastPath=r,!1},lh);function lh(t){var n;this.lastPath=[],this.editor=t;var r=this;"onselectionchange"in t.getDoc()||t.on("NodeChange click mouseup keyup focus",function(a){var s=t.selection.getRng(),l={startContainer:s.startContainer,startOffset:s.startOffset,endContainer:s.endContainer,endOffset:s.endOffset};a.type!=="nodechange"&&V0(l,n)||t.fire("SelectionChange"),n=l}),t.on("contextmenu",function(){t.fire("SelectionChange")}),t.on("SelectionChange",function(){var a=t.selection.getStart(!0);!a||!Te.range&&t.selection.isCollapsed()||vv(t)&&!r.isSameElementPath(a)&&t.dom.isChildOf(a,t.getBody())&&t.nodeChanged({selectionChange:!0})}),t.on("mouseup",function(a){!a.isDefaultPrevented()&&vv(t)&&(t.selection.getNode().nodeName==="IMG"?wo.setEditorTimeout(t,function(){t.nodeChanged()}):t.nodeChanged())})}function Xb(t){return Ae(t)&&Of(lt.fromDom(t))}function Qw(t){var n=t.getBoundingClientRect(),r=t.ownerDocument,a=r.documentElement,s=r.defaultView;return{top:n.top+s.pageYOffset-a.clientTop,left:n.left+s.pageXOffset-a.clientLeft}}function Zw(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function bd(t,n){var r=wo.throttle(function(a,s){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(a,s)},0);return n.on("remove",r.stop),function(a){return t.on(function(s){var l,d,m,h,p,x,y,_,E,T,A,B,N,P,H,G,Z,V,$,X,it=Math.max(Math.abs(a.screenX-s.screenX),Math.abs(a.screenY-s.screenY));if(!s.dragging&&10<it){if(n.fire("dragstart",{target:s.element}).isDefaultPrevented())return;s.dragging=!0,n.focus()}s.dragging&&(B=s,l={pageX:(H=a,G=(P=n).inline?Qw(P.getBody()):{left:0,top:0},X=($=P).getBody(),Z=$.inline?{left:X.scrollLeft,top:X.scrollTop}:{left:0,top:0},(N={pageX:(V=(function(dt,wt){if(wt.target.ownerDocument===dt.getDoc())return{left:wt.pageX,top:wt.pageY};var bt,tt,et,at,ft,It=Qw(dt.getContentAreaContainer()),Wt=(tt=(bt=dt).getBody(),et=bt.getDoc().documentElement,at={left:tt.scrollLeft,top:tt.scrollTop},ft={left:tt.scrollLeft||et.scrollLeft,top:tt.scrollTop||et.scrollTop},bt.inline?at:ft);return{left:wt.pageX-It.left+Wt.left,top:wt.pageY-It.top+Wt.top}})(P,H)).left-G.left+Z.left,pageY:V.top-G.top+Z.top}).pageX-B.relX),pageY:N.pageY+5},T=s.ghost,A=n.getBody(),T.parentNode!==A&&A.appendChild(T),d=s.ghost,h=s.width,p=s.height,x=s.maxX,y=s.maxY,E=_=0,d.style.left=(m=l).pageX+"px",d.style.top=m.pageY+"px",y<m.pageY+p&&(E=m.pageY+p-y),d.style.width=h-(_=x<m.pageX+h?m.pageX+h-x:_)+"px",d.style.height=p-E+"px",r(a.clientX,a.clientY))})}}function NE(t){function n(T){var A,B,N,P,H,G;T.button===0&&(A=bo(h.dom.getParents(T.target),(function(){for(var Z=[],V=0;V<arguments.length;V++)Z[V]=arguments[V];return function($){for(var X=0;X<Z.length;X++)if(Z[X]($))return!0;return!1}})(gh,BS)).getOr(null),H=h.getBody(),gh(G=A)&&G!==H&&(B=h.dom.getPos(A),N=h.getBody(),P=h.getDoc().documentElement,m.set({element:A,dragging:!1,screenX:T.screenX,screenY:T.screenY,maxX:(h.inline?N.scrollWidth:P.offsetWidth)-2,maxY:(h.inline?N.scrollHeight:P.offsetHeight)-2,relX:T.pageX-B.x,relY:T.pageY-B.y,width:A.offsetWidth,height:A.offsetHeight,ghost:(function(Z,V,$){var X=h.dom,it=Z.cloneNode(!0);X.setStyles(it,{width:V,height:$}),X.setAttrib(it,"data-mce-selected",null);var dt=X.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return X.setStyles(dt,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:V,height:$}),X.setStyles(it,{margin:0,boxSizing:"border-box"}),dt.appendChild(it),dt})(A,A.offsetWidth,A.offsetHeight)})))}function r(T){l.on(function(A){var B,N,P,H,G,Z;A.dragging&&((H=(Z=(P=d).selection.getSel().getRangeAt(0).startContainer).nodeType===3?Z.parentNode:Z)===(G=A.element)||P.dom.isChildOf(H,G)||gh(H)||((N=A.element.cloneNode(!0)).removeAttribute("data-mce-selected"),B=N,d.fire("drop",{clientX:T.clientX,clientY:T.clientY}).isDefaultPrevented()||d.undoManager.transact(function(){Zw(A.element),d.insertContent(d.dom.getOuterHTML(B)),d._selectionOverrides.hideFakeCaret()})),d.fire("dragend"))}),ey(l)}var a,s,l,d,m,h,p=Ff(),x=Re.DOM,y=document,_=bd(m=p,h=t),E=(a=l=p,function(){a.on(function(T){T.dragging&&s.fire("dragend")}),ey(a)});(s=d=t).on("mousedown",n),t.on("mousemove",_),t.on("mouseup",r),x.bind(y,"mousemove",_),x.bind(y,"mouseup",E),t.on("remove",function(){x.unbind(y,"mousemove",_),x.unbind(y,"mouseup",E)}),t.on("keydown",function(T){T.keyCode===Ce.ESC&&E()})}function fh(t){var n,r;function a(d){var m;d.isDefaultPrevented()||(m=d.dataTransfer)&&(Vt(m.types,"Files")||0<m.files.length)&&(d.preventDefault(),d.type==="drop"&&bb(r,"Dropped file type is not supported"))}function s(d){Tv(r,d.target)&&a(d)}function l(){var d=Re.DOM,m=r.dom,h=document,p=r.inline?r.getBody():r.getDoc(),x=["drop","dragover"];gt(x,function(y){d.bind(h,y,s),m.bind(p,y,a)}),r.on("remove",function(){gt(x,function(y){d.unbind(h,y,s),m.unbind(p,y,a)})})}NE(t),(n=t).on("drop",function(d){var m=d.clientX!==void 0?n.getDoc().elementFromPoint(d.clientX,d.clientY):null;!gh(m)&&n.dom.getContentEditableParent(m)!=="false"||d.preventDefault()}),t.getParam("block_unsupported_drop",!0,"boolean")&&(r=t).on("init",function(){wo.setEditorTimeout(r,l,0)})}function dh(t,n){return Ze(t.getBody(),n)}function tC(t){function n(V){return V!==B&&(Sc(V)||qa(V))&&T.isChildOf(V,B)}function r(V){return Nu(V)||Ia(V)||fs(V)||ro(V)}function a(V){V&&E.setRng(V)}function s(V,$,X,it){return it===void 0&&(it=!0),t.fire("ShowCaret",{target:$,direction:V,before:X}).isDefaultPrevented()?null:(it&&E.scrollIntoView($,V===-1),N.show(X,$))}function l(V){return jo(V)||Kd(V)||ic(V)}function d(V){return l(V.startContainer)||l(V.endContainer)}function m(V,$){if(!V)return null;if(V.collapsed){if(!d(V)){var X=$?1:-1,it=Lg(X,B,V),dt=it.getNode(!$);if(Ll(dt))return s(X,dt,!!$&&!it.isAtEnd(),!1);var wt=it.getNode($);if(Ll(wt))return s(X,wt,!$&&!it.isAtEnd(),!1)}return null}var bt=V.startContainer,tt=V.startOffset,et=V.endOffset;if(bt.nodeType===3&&tt===0&&Sc(bt.parentNode)&&(bt=bt.parentNode,tt=T.nodeIndex(bt),bt=bt.parentNode),bt.nodeType!==1)return null;if(et===tt+1&&bt===V.endContainer){var at=bt.childNodes[tt];if(n(at))return(function(ft){var It=ft.cloneNode(!0),Wt=t.fire("ObjectSelected",{target:ft,targetClone:It});if(Wt.isDefaultPrevented())return null;var Pt=(function(Ht,Ut,zt){var te=t.$,At=zc(lt.fromDom(t.getBody()),"#"+P).fold(function(){return te([])},function(ie){return te([ie.dom])});At.length===0&&(At=te('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",P)).appendTo(t.getBody());var Yt=T.createRng();Ut===zt&&Te.ie?(At.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xA0</p>').append(Ut),Yt.setStartAfter(At[0].firstChild.firstChild),Yt.setEndAfter(Ut)):(At.empty().append(Aa).append(Ut).append(Aa),Yt.setStart(At[0].firstChild,1),Yt.setEnd(At[0].lastChild,0)),At.css({top:T.getPos(Ht,t.getBody()).y}),At[0].focus();var Ft=E.getSel();return Ft.removeAllRanges(),Ft.addRange(Yt),Yt})(ft,Wt.targetClone,It),jt=lt.fromDom(ft);return gt(Pa(lt.fromDom(t.getBody()),"*[data-mce-selected]"),function(Ht){ke(jt,Ht)||Xu(Ht,H)}),T.getAttrib(ft,H)||ft.setAttribute(H,"1"),p=ft,Z(),Pt})(at)}return null}function h(){p&&p.removeAttribute(H),zc(lt.fromDom(t.getBody()),"#"+P).each(Ee),p=null}var p,x,y,_,E=t.selection,T=t.dom,A=T.isBlock,B=t.getBody(),N=e_(t,B,A,function(){return hc(t)}),P="sel-"+T.uniqueId(),H="data-mce-selected",G=E.getRng,Z=function(){N.hide()};return Te.ceFalse&&!qs(t)&&(t.on("mouseup",function(V){var $=G();$.collapsed&&A1(t,V.clientX,V.clientY)&&fw(t,$,!1).each(a)}),t.on("click",function(V){var $=dh(t,V.target);$&&(Sc($)&&(V.preventDefault(),t.focus()),uC($)&&T.isChildOf($,E.getNode())&&h())}),t.on("blur NewBlock",h),t.on("ResizeWindow FullscreenStateChanged",N.reposition),t.on("tap",function(V){var $=V.target,X=dh(t,$);Sc(X)?(V.preventDefault(),cd(t,X).each(m)):n($)&&cd(t,$).each(m)},!0),t.on("mousedown",function(V){var $,X,it,dt,wt,bt,tt,et=V.target;et!==B&&et.nodeName!=="HTML"&&!T.isChildOf(et,B)||A1(t,V.clientX,V.clientY)===!1||(($=dh(t,et))?Sc($)?(V.preventDefault(),cd(t,$).each(m)):(h(),uC($)&&V.shiftKey||Jc(V.clientX,V.clientY,E.getRng())||(Z(),E.placeCaretAt(V.clientX,V.clientY))):n(et)?cd(t,et).each(m):Ll(et)===!1&&(h(),Z(),(X=SE(B,V.clientX,V.clientY))&&(it=et,dt=X.node,bt=T.getParent(it,A),tt=T.getParent(dt,A),!$r(bt)&&(it!==tt&&T.isChildOf(bt,tt)&&Sc(dh(t,bt))===!1||!T.isChildOf(tt,bt)&&(wt=tt,T.getParent(bt,A)!==T.getParent(wt,A))&&(function(at){var ft=at.firstChild;if(!$r(ft)){var It=Et.before(ft);if(Do(It.getNode())&&at.childNodes.length===1)return!r(It);var Wt=us(at).next(It);return Wt&&!r(Wt)}})(bt))||(V.preventDefault(),a(s(1,X.node,X.before,!1)),t.getBody().focus()))))}),t.on("keypress",function(V){Ce.modifierPressed(V)||Sc(E.getNode())&&V.preventDefault()}),t.on("GetSelectionRange",function(V){var $=V.range;p&&(p.parentNode?(($=$.cloneRange()).selectNode(p),V.range=$):p=null)}),t.on("SetSelectionRange",function(V){var $,X,it,dt,wt,bt,tt;V.range=($=V.range,X=t.schema.getShortEndedElements(),it=T.createRng(),dt=$.startContainer,wt=$.startOffset,bt=$.endContainer,tt=$.endOffset,Ot(X,dt.nodeName.toLowerCase())?wt===0?it.setStartBefore(dt):it.setStartAfter(dt):it.setStart(dt,wt),Ot(X,bt.nodeName.toLowerCase())?tt===0?it.setEndBefore(bt):it.setEndAfter(bt):it.setEnd(bt,tt),it);var et=m(V.range,V.forward);et&&(V.range=et)}),t.on("AfterSetSelectionRange",function(V){var $=V.range,X=$.startContainer.parentNode;d($)||X.id==="mcepastebin"||Z(),T.hasClass(X,"mce-offscreen-selection")||h()}),t.on("copy",function(V){var $,X,it=V.clipboardData;V.isDefaultPrevented()||!V.clipboardData||Te.ie||($=(X=T.get(P))&&X.getElementsByTagName("*")[0])&&(V.preventDefault(),it.clearData(),it.setData("text/html",$.outerHTML),it.setData("text/plain",$.outerText||$.innerText))}),fh(t),y=Gh(function(){var V,$;x.removed||!x.getBody().contains(document.activeElement)||(V=x.selection.getRng()).collapsed&&($=_b(x,V,!1),x.selection.setRng($))},0),(x=t).on("focus",function(){y.throttle()}),x.on("blur",function(){y.cancel()}),(_=t).on("init",function(){_.on("focusin",function(V){var $,X,it=V.target;qa(it)&&($=Ze(_.getBody(),it),X=Un($)?$:it,_.selection.getNode()!==X&&cd(_,X).each(function(dt){return _.selection.setRng(dt)}))})})),{showCaret:s,showBlockCaretContainer:function(V){V.hasAttribute("data-mce-caret")&&(k(V),a(G()),E.scrollIntoView(V))},hideFakeCaret:Z,destroy:function(){N.destroy(),p=null}}}function eC(t){function n(et,at){try{t.getDoc().execCommand(et,!1,at)}catch{}}function r(et){return et.isDefaultPrevented()}function a(){t.shortcuts.add("meta+a",null,"SelectAll")}function s(){t.inline||P.bind(t.getDoc(),"mousedown mouseup",function(et){var at;et.target===t.getDoc().documentElement&&(at=H.getRng(),t.getBody().focus(),et.type==="mousedown"?jo(at.startContainer)||H.placeCaretAt(et.clientX,et.clientY):H.setRng(at))})}function l(){Range.prototype.getClientRects||t.on("mousedown",function(et){var at;r(et)||et.target.nodeName!=="HTML"||((at=t.getBody()).blur(),wo.setEditorTimeout(t,function(){at.focus()}))})}function d(){t.on("click",function(et){var at=et.target;/^(IMG|HR)$/.test(at.nodeName)&&P.getContentEditableParent(at)!=="false"&&(et.preventDefault(),t.selection.select(at),t.nodeChanged()),at.nodeName==="A"&&P.hasClass(at,"mce-item-anchor")&&(et.preventDefault(),H.select(at))})}function m(){t.on("keydown",function(et){if(!r(et)&&et.keyCode===B&&H.isCollapsed()&&H.getRng().startOffset===0){var at=H.getNode().previousSibling;if(at&&at.nodeName&&at.nodeName.toLowerCase()==="table")return et.preventDefault(),!1}})}function h(){t.getParam("readonly")||t.on("BeforeExecCommand mousedown",function(){n("StyleWithCSS",!1),n("enableInlineTableEditing",!1),Bg(t)||n("enableObjectResizing",!1)})}function p(){t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function x(){t.inline||t.on("keydown",function(){document.activeElement===document.body&&t.getWin().focus()})}function y(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",function(et){var at;et.target.nodeName==="HTML"&&(11<Te.ie?t.getBody().focus():(at=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(at),t.selection.normalize(),t.nodeChanged()))}))}function _(){Te.mac&&t.on("keydown",function(et){!Ce.metaKeyPressed(et)||et.shiftKey||et.keyCode!==37&&et.keyCode!==39||(et.preventDefault(),t.selection.getSel().modify("move",et.keyCode===37?"backward":"forward","lineboundary"))})}function E(){t.on("click",function(et){var at=et.target;do if(at.tagName==="A")return void et.preventDefault();while(at=at.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function T(){t.on("init",function(){t.dom.bind(t.getBody(),"submit",function(et){et.preventDefault()})})}var A=Ct.each,B=Ce.BACKSPACE,N=Ce.DELETE,P=t.dom,H=t.selection,G=t.parser,Z=Te.gecko,V=Te.ie,$=Te.webkit,X="data:text/mce-internal,",it=V?"Text":"URL",dt=ne;return qs(t)?($&&(s(),d(),T(),a(),Te.iOS&&(x(),y(),E())),Z&&(l(),h(),p(),_())):(t.on("keydown",function(et){if(!r(et)&&et.keyCode===Ce.BACKSPACE){var at,ft=(at=H.getRng()).startContainer,It=at.startOffset,Wt=P.getRoot(),Pt=ft;if(at.collapsed&&It===0){for(;Pt&&Pt.parentNode&&Pt.parentNode.firstChild===Pt&&Pt.parentNode!==Wt;)Pt=Pt.parentNode;Pt.tagName==="BLOCKQUOTE"&&(t.formatter.toggle("blockquote",null,Pt),(at=P.createRng()).setStart(ft,0),at.setEnd(ft,0),H.setRng(at))}}}),t.on("keydown",function(et){var at,ft,It,Wt,Pt=et.keyCode;r(et)||Pt!==N&&Pt!==B||(at=t.selection.isCollapsed(),ft=t.getBody(),at&&!P.isEmpty(ft)||!at&&(It=tt(t.selection.getRng()),(Wt=P.createRng()).selectNode(t.getBody()),It!==tt(Wt))||(et.preventDefault(),t.setContent(""),ft.firstChild&&P.isBlock(ft.firstChild)?t.selection.setCursorLocation(ft.firstChild,0):t.selection.setCursorLocation(ft,0),t.nodeChanged()))}),Te.windowsPhone||t.on("keyup focusin mouseup",function(et){Ce.modifierPressed(et)||H.normalize()},!0),$&&(s(),d(),Vi(t)&&t.on("init",function(){n("DefaultParagraphSeparator",Vi(t))}),T(),m(),G.addNodeFilter("br",function(et){for(var at=et.length;at--;)et[at].attr("class")==="Apple-interchange-newline"&&et[at].remove()}),Te.iOS?(x(),y(),E()):a()),11<=Te.ie&&(y(),m()),Te.ie&&(a(),n("AutoUrlDetect",!1),t.on("dragstart",function(et){var at,ft,It;(at=et).dataTransfer&&(t.selection.isCollapsed()&&at.target.tagName==="IMG"&&H.select(at.target),0<(ft=t.selection.getContent()).length&&(It=X+escape(t.id)+","+escape(ft),at.dataTransfer.setData(it,It)))}),t.on("drop",function(et){var at,ft,It,Wt;r(et)||(at=et.dataTransfer&&(Wt=et.dataTransfer.getData(it))&&0<=Wt.indexOf(X)?(Wt=Wt.substr(X.length).split(","),{id:unescape(Wt[0]),html:unescape(Wt[1])}):null)&&at.id!==t.id&&(et.preventDefault(),ft=z0(et.x,et.y,t.getDoc()),H.setRng(ft),It=at.html,t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:It,internal:!0}):t.execCommand("mceInsertContent",!1,It))})),Z&&(t.on("keydown",function(et){if(!r(et)&&et.keyCode===B&&t.getBody().getElementsByTagName("hr").length&&H.isCollapsed()&&H.getRng().startOffset===0){var at=H.getNode(),ft=at.previousSibling;if(at.nodeName==="HR")return P.remove(at),void et.preventDefault();ft&&ft.nodeName&&ft.nodeName.toLowerCase()==="hr"&&(P.remove(ft),et.preventDefault())}}),l(),t.on("keypress",function(et){var at;if(!r(et)&&(et.keyCode===8||et.keyCode===46)&&bt())return at=wt(),t.getDoc().execCommand("delete",!1,null),at(),et.preventDefault(),!1}),P.bind(t.getDoc(),"cut",function(et){var at;!r(et)&&bt()&&(at=wt(),wo.setEditorTimeout(t,function(){at()}))}),h(),t.on("SetContent ExecCommand",function(et){et.type!=="setcontent"&&et.command!=="mceInsertLink"||A(P.select("a"),function(at){var ft=at.parentNode,It=P.getRoot();if(ft.lastChild===at){for(;ft&&!P.isBlock(ft);){if(ft.parentNode.lastChild!==ft||ft===It)return;ft=ft.parentNode}P.add(ft,"br",{"data-mce-bogus":1})}})}),p(),_(),m())),{refreshContentEditable:dt,isHidden:function(){if(!Z||t.removed)return!1;var et=t.selection.getSel();return!et||!et.rangeCount||et.rangeCount===0}};function wt(){var et=P.getAttribs(H.getStart().cloneNode(!1));return function(){var at=H.getStart();at!==t.getBody()&&(P.setAttrib(at,"style",null),A(et,function(ft){at.setAttributeNode(ft.cloneNode(!0))}))}}function bt(){return!H.isCollapsed()&&P.getParent(H.getStart(),P.isBlock)!==P.getParent(H.getEnd(),P.isBlock)}function tt(et){var at=P.create("body"),ft=et.cloneContents();return at.appendChild(ft),H.serializer.serialize(at,{format:"html"})}}function Kb(t){return Fr(t,function(n){return Je(n)===!1})}function nC(t){var n=t.settings;return Kb({block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements,padd_empty_block_inline_children:n.format_empty_lines})}function ES(t){var n=t.settings,r=t.editorUpload.blobCache;return Kb({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:t.inline?t.getElement().nodeName.toLowerCase():void 0,validate:!0,blob_cache:r,document:t.getDoc(),images_dataimg_filter:n.images_dataimg_filter})}function BE(t){var n,r,a;t.bindPendingEventDelegates(),t.initialized=!0,t.fire("Init"),t.focus(!0),a=(r=t).dom.getRoot(),r.inline||vv(r)&&r.selection.getStart(!0)!==a||pa(a).each(function(s){var l,d,m,h,p=s.getNode(),x=_l(p)?pa(p).getOr(s):s;Te.browser.isIE()?(l=r,d=x.toRange(),m=lt.fromDom(l.getBody()),h=(E_(l)?w.from(d):w.none()).map(Ev).filter(an(m)),l.bookmark=h.isSome()?h:l.bookmark):r.selection.setRng(x.toRange())}),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),(n=t).settings.auto_focus&&wo.setEditorTimeout(n,function(){var s=n.settings.auto_focus===!0?n:n.editorManager.get(n.settings.auto_focus);s.destroyed||s.focus()},100)}function OS(t){return(t.inline?t.ui:t.dom).styleSheetLoader}function TS(t){function n(){s.unloadAll(d),t.inline||t.ui.styleSheetLoader.unloadAll(l)}function r(){t.removed?n():t.on("remove",n)}var a,s=OS(t),l=l0(t),d=t.contentCSS;0<t.contentStyles.length&&(a="",Ct.each(t.contentStyles,function(N){a+=N+`\r
`}),t.dom.addStyle(a));var m,h,p,x,y,_,E,T,A,B=rt.all((m=t,h=d,p=l,x=[new rt(function(N,P){return OS(m).loadAll(h,N,P)})],m.inline?x:x.concat([new rt(function(N,P){return m.ui.styleSheetLoader.loadAll(p,N,P)})]))).then(r).catch(r);return t.settings.content_style&&(_=(y=t).settings.content_style,E=lt.fromDom(y.getBody()),T=Ld(oa(E)),bu(A=lt.fromTag("style"),"type","text/css"),Jo(A,lt.fromText(_)),Jo(T,A),y.on("remove",function(){Ee(A)})),B}function oC(t){var n;t.removed!==!0&&(qs(n=t)||n.load({initial:!0,format:"html"}),n.startContent=n.getContent({format:"raw"}),BE(t))}function Yb(t,n){var r=t.settings,a=t.getElement(),s=t.getDoc();r.inline||(t.getElement().style.visibility=t.orgVisibility),n||t.inline||(s.open(),s.write(t.iframeHTML),s.close()),t.inline&&(ny.addClass(a,"mce-content-body"),t.contentDocument=s=document,t.contentWindow=window,t.bodyElement=a,t.contentAreaContainer=a);var l,d,m,h,p,x,y,_,E,T,A,B,N=t.getBody();N.disabled=!0,t.readonly=!!r.readonly,t.readonly||(t.inline&&ny.getStyle(N,"position",!0)==="static"&&(N.style.position="relative"),N.contentEditable=t.getParam("content_editable_state",!0)),N.disabled=!1,t.editorUpload=F1(t),t.schema=nc(nC(t)),t.dom=Re(s,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:r.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:t.getParam("content_css_cors",!1,"boolean"),referrerPolicy:Ng(t),onSetAttrib:function(tt){t.fire("SetAttrib",tt)}}),t.parser=((d=db(ES(l=t),l.schema)).addAttributeFilter("src,href,style,tabindex",function(tt,et){for(var at,ft,It=tt.length,Wt=l.dom,Pt="data-mce-"+et;It--;)(ft=(at=tt[It]).attr(et))&&!at.attr(Pt)&&ft.indexOf("data:")!==0&&ft.indexOf("blob:")!==0&&(et==="style"?((ft=Wt.serializeStyle(Wt.parseStyle(ft),at.name)).length||(ft=null),at.attr(Pt,ft),at.attr(et,ft)):et==="tabindex"?(at.attr(Pt,ft),at.attr(et,null)):at.attr(Pt,l.convertURL(ft,et,at.name)))}),d.addNodeFilter("script",function(tt){for(var et=tt.length;et--;){var at=tt[et],ft=at.attr("type")||"no/type";ft.indexOf("mce-")!==0&&at.attr("type","mce-"+ft)}}),l.settings.preserve_cdata&&d.addNodeFilter("#cdata",function(tt){for(var et=tt.length;et--;){var at=tt[et];at.type=8,at.name="#comment",at.value="[CDATA["+l.dom.encode(at.value)+"]]"}}),d.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(tt){for(var et=tt.length,at=l.schema.getNonEmptyElements();et--;){var ft=tt[et];ft.isEmpty(at)&&ft.getAll("br").length===0&&(ft.append(new Du("br",1)).shortEnded=!0)}}),d),t.serializer=mb((h=(m=t).settings,ht(ht(ht({},ES(m)),nC(m)),Kb({url_converter:h.url_converter,url_converter_scope:h.url_converter_scope,element_format:h.element_format,entities:h.entities,entity_encoding:h.entity_encoding,indent:h.indent,indent_after:h.indent_after,indent_before:h.indent_before}))),t),t.selection=C1(t.dom,t.getWin(),t.serializer,t),t.annotator=dn(t),t.formatter=aw(t),t.undoManager=Bp(t),t._nodeChangeDispatcher=new DE(t),t._selectionOverrides=tC(t),E=t,T=Ff(),A=Bi(!1),B=Xy(function(tt){E.fire("longpress",ht(ht({},tt),{type:"longpress"})),A.set(!0)},400),E.on("touchstart",function(tt){wc(tt).each(function(et){B.cancel();var at={x:et.clientX,y:et.clientY,target:tt.target};B.throttle(tt),A.set(!1),T.set(at)})},!0),E.on("touchmove",function(tt){B.cancel(),wc(tt).each(function(et){T.on(function(at){var ft=et,It=at,Wt=Math.abs(ft.clientX-It.x),Pt=Math.abs(ft.clientY-It.y);(5<Wt||5<Pt)&&(T.clear(),A.set(!1),E.fire("longpresscancel"))})})},!0),E.on("touchend touchcancel",function(tt){B.cancel(),tt.type!=="touchcancel"&&T.get().filter(function(et){return et.target.isEqualNode(tt.target)}).each(function(){A.get()?tt.preventDefault():E.fire("tap",ht(ht({},tt),{type:"tap"}))})},!0),(y=x=t).on("click",function(tt){y.dom.getParent(tt.target,"details")&&tt.preventDefault()}),(_=x).parser.addNodeFilter("details",function(tt){gt(tt,function(et){et.attr("data-mce-open",et.attr("open")),et.attr("open","open")})}),_.serializer.addNodeFilter("details",function(tt){gt(tt,function(et){var at=et.attr("data-mce-open");et.attr("open",Dn(at)?at:null),et.attr("data-mce-open",null)})}),qs(t)||(p=t).on("click",function(tt){var et,at,ft,It,Wt;3<=tt.detail&&(ft=(et=p).selection.getRng(),It=Et.fromRangeStart(ft),Wt=Et.fromRangeEnd(ft),!Et.isElementPosition(It)||Xb(at=It.container())&&pa(at).each(function(Pt){return ft.setStart(Pt.container(),Pt.offset())}),!Et.isElementPosition(Wt)||Xb(at=It.container())&&Tu(at).each(function(Pt){return ft.setEnd(Pt.container(),Pt.offset())}),et.selection.setRng(hx(ft)))});var P,H,G,Z,V,$,X,it,dt,wt=qs(P=t)?Bi(null):Kw(P);dt=wt,(it=t).addCommand("delete",function(){var tt,et=dt;hs(tt=it)||rl(tt,!1)||Ip(tt,!1)||qp(tt,et,!1)||Jl(tt,!1)||jv(tt)||Wm(tt,!1)||Ib(tt,!1)||Mp(tt)||Xp(tt,!1)||(Yp(tt,"Delete"),z1(tt))}),it.addCommand("forwardDelete",function(){var tt,et=dt;rl(tt=it,!0)||Ip(tt,!0)||qp(tt,et,!0)||Jl(tt,!0)||jv(tt)||Wm(tt,!0)||Ib(tt,!0)||Mp(tt)||Xp(tt,!0)||Yp(tt,"ForwardDelete")}),Vi(H=t)&&H.on("NodeChange",q(kE,H)),Z=(G=t).dom,V=Vi(G),$=G.getParam("placeholder",ji.getAttrib(G.getElement(),"placeholder"),"string"),X=function(tt,et){var at,ft,It;!(function(Wt){if(Vm(Wt)){var Pt=Wt.keyCode;return!jm(Wt)&&(Ce.metaKeyPressed(Wt)||Wt.altKey||112<=Pt&&Pt<=123||Vt(yr,Pt))}})(tt)&&(at=G.getBody(),ft=!(Vm(It=tt)&&!(jm(It)||It.type==="keyup"&&It.keyCode===229))&&(function(Wt,Pt,jt){if(Qe(lt.fromDom(Pt),!1)){var Ht=jt==="",Ut=Pt.firstElementChild;return!Ut||!Wt.getStyle(Pt.firstElementChild,"padding-left")&&!Wt.getStyle(Pt.firstElementChild,"padding-right")&&(Ht?!Wt.isBlock(Ut):jt===Ut.nodeName.toLowerCase())}return!1})(Z,at,V),Z.getAttrib(at,Z1)!==""===ft&&!et||(Z.setAttrib(at,Z1,ft?$:null),Z.setAttrib(at,"aria-placeholder",ft?$:null),G.fire("PlaceholderToggle",{state:ft}),G.on(ft?"keydown":"keyup",X),G.off(ft?"keyup":"keydown",X)))},$&&G.on("init",function(tt){X(tt,!0),G.on("change SetContent ExecCommand",X),G.on("paste",function(et){return wo.setEditorTimeout(G,function(){return X(et)})})});var bt=y1(t);(function(tt){var et=tt.settings,at=tt.getDoc(),ft=tt.getBody();tt.fire("PreInit"),et.browser_spellcheck||et.gecko_spellcheck||(at.body.spellcheck=!1,ny.setAttrib(ft,"spellcheck","false")),tt.quirks=eC(tt),tt.fire("PostRender");var It=tt.getParam("directionality",ku.isRtl()?"rtl":void 0);It!==void 0&&(ft.dir=It),et.protect&&tt.on("BeforeSetContent",function(Wt){Ct.each(et.protect,function(Pt){Wt.content=Wt.content.replace(Pt,function(jt){return"<!--mce:protected "+escape(jt)+"-->"})})}),tt.on("SetContent",function(){tt.addVisual(tt.getBody())}),tt.on("compositionstart compositionend",function(Wt){tt.composing=Wt.type==="compositionstart"})})(t),bt.fold(function(){TS(t).then(function(){return oC(t)})},function(tt){t.setProgressState(!0),TS(t).then(function(){tt().then(function(et){t.setProgressState(!1),oC(t)},function(et){t.notificationManager.open({type:"error",text:String(et)}),oC(t)})})})}function AS(t,n){var r,a,s,l,d=t.translate("Rich Text Area"),m=(r=t.id,a=d,n.height,s=t.getParam("iframe_attrs",{}),Zs(l=lt.fromTag("iframe"),s),Zs(l,{id:r+"_ifr",frameBorder:"0",allowTransparency:"true",title:a}),um(l,"tox-edit-area__iframe"),l.dom);m.onload=function(){m.onload=null,t.fire("load")};var h=(function(p,x){if(document.domain!==window.location.hostname&&Te.browser.isIE()){var y=Hm("mce");p[y]=function(){Yb(p)};var _='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+p.id+'");document.write(ed.iframeHTML);document.close();ed.'+y+"(true);})()";return yd.setAttrib(x,"src",_),!0}return!1})(t,m);return t.contentAreaContainer=n.iframeContainer,t.iframeElement=m,t.iframeHTML=(function(p){var x=p.getParam("doctype","<!DOCTYPE html>")+"<html><head>";p.getParam("document_base_url","")!==p.documentBaseUrl&&(x+='<base href="'+p.documentBaseURI.getURI()+'" />'),x+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var y=Zh(p,"body_id","tinymce"),_=Zh(p,"body_class",""),E=p.translate(p.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string"));return Fs(p)&&(x+='<meta http-equiv="Content-Security-Policy" content="'+Fs(p)+'" />'),x+('</head><body id="'+y+'" class="mce-content-body '+_+'" data-id="'+p.id)+'" aria-label="'+E+'"><br></body></html>'})(t),yd.add(n.iframeContainer,m),h}function rC(t){return t.replace(/^\-/,"")}function mh(t){return{editorContainer:t,iframeContainer:t,api:{}}}function DS(t){var n,r,a,s,l,d,m,h=t.getElement();return t.orgDisplay=h.style.display,Dn(Gc(t))?t.theme.renderUI():nn(Gc(t))?(r=(n=t).getElement(),(a=Gc(n)(n,r)).editorContainer.nodeType&&(a.editorContainer.id=a.editorContainer.id||n.id+"_parent"),a.iframeContainer&&a.iframeContainer.nodeType&&(a.iframeContainer.id=a.iframeContainer.id||n.id+"_iframecontainer"),a.height=a.iframeHeight||r.offsetHeight,a):(m=(s=t).getElement(),s.inline?mh(null):(l=m,d=sC.create("div"),sC.insertAfter(d,l),mh(d)))}function Jb(t){var n,r,a,s,l,d,m,h;t.fire("ScriptsLoaded"),n=t,r=Ct.trim(tv(n)),a=n.ui.registry.getAll().icons,yo(ht(ht({},Ap.get("default").icons),Ap.get(r).icons),function(N,P){Ot(a,P)||n.ui.registry.addIcon(P,N)}),d=Gc(s=t),Dn(d)?(s.settings.theme=rC(d),l=nl.get(d),s.theme=new l(s,nl.urls[d]),s.theme.init&&s.theme.init(s,nl.urls[d]||s.documentBaseUrl.replace(/\/$/,""),s.$)):s.theme={},h=[],Ct.each(f0(m=t).split(/[ ,]/),function(N){oy(m,h,rC(N))});var p=DS(t),x=t,y=w.from(p.api).getOr({}),_={show:w.from(y.show).getOr(ne),hide:w.from(y.hide).getOr(ne),disable:w.from(y.disable).getOr(ne),isDisabled:w.from(y.isDisabled).getOr(Ln),enable:function(){x.mode.isReadOnly()||w.from(y.enable).map(Lr)}};x.ui=ht(ht({},x.ui),_);var E,T,A,B={editorContainer:p.editorContainer,iframeContainer:p.iframeContainer};return t.editorContainer=B.editorContainer||null,yE(t),t.inline?Yb(t):(A=AS(E=t,T=B),T.editorContainer&&(yd.get(T.editorContainer).style.display=E.orgDisplay,E.hidden=yd.isHidden(T.editorContainer)),E.getElement().style.display="none",yd.setAttrib(E.id,"aria-hidden","true"),void(A||Yb(E)))}function Qb(t){return t.charAt(0)==="-"}function Zb(t,n,r){return w.from(n).filter(function(a){return 0<a.length&&!Ap.has(a)}).map(function(a){return{url:t.editorManager.baseURL+"/icons/"+a+"/icons"+r+".js",name:w.some(a)}})}function tg(t,n){var r,a,s=No.ScriptLoader,l=s,d=n,m=function(){var p,x,y,_,E,T,A,B,N;E=s,B=s0(T=t),N=T.getParam("language_url","","string"),ku.hasCode(B)===!1&&B!=="en"&&(A=N!==""?N:T.editorManager.baseURL+"/langs/"+B+".js",E.add(A,ne,void 0,function(){ow(T,"LanguageLoadError",yb("language",A,B))})),y=s,gt((function(P){for(var H=[],G=function(V){H.push(V)},Z=0;Z<P.length;Z++)P[Z].each(G);return H})([Zb(_=t,"default",n),w.from(_.getParam("icons_url","","string")).filter(function(P){return 0<P.length}).map(function(P){return{url:P,name:w.none()}}).orThunk(function(){return Zb(_,tv(_),"")})]),function(P){y.add(P.url,ne,void 0,function(){ow(_,"IconsLoadError",yb("icons",P.url,P.name.getOrUndefined()))})}),p=t,x=n,Ct.each(p.getParam("external_plugins"),function(P,H){ru.load(H,P,ne,void 0,function(){sd(p,P,H)}),p.settings.plugins+=" "+H}),Ct.each(f0(p).split(/[ ,]/),function(P){var H,G;(P=Ct.trim(P))&&!ru.urls[P]&&(Qb(P)?(P=P.substr(1,P.length),H=ru.dependencies(P),Ct.each(H,function(Z){var V=ru.createUrl({prefix:"plugins/",resource:Z,suffix:"/plugin"+x+".js"},Z);ru.load(V.resource,V,ne,void 0,function(){sd(p,V.prefix+V.resource+V.suffix,V.resource)})})):(G={prefix:"plugins/",resource:P,suffix:"/plugin"+x+".js"},ru.load(P,G,ne,void 0,function(){sd(p,G.prefix+G.resource+G.suffix,P)})))}),s.loadQueue(function(){t.removed||Jb(t)},t,function(){t.removed||Jb(t)})},h=Gc(r=t);Dn(h)?(Qb(h)||Ot(nl.urls,h)||((a=r.getParam("theme_url"))?nl.load(h,r.documentBaseURI.toAbsolute(a)):nl.load(h,"themes/"+h+"/theme"+d+".js")),l.loadQueue(function(){nl.waitFor(h,m)})):m()}function NS(t){return function(n,r){return w.from(r).map(lt.fromDom).filter(Ao).bind(function(a){return s=t,l=n,d=a.dom,bx(lt.fromDom(d),function(h){return xo(p=h,s).orThunk(function(){return Ho(p)==="font"?no(RE,s).bind(function(x){return Yr(p,x)}):w.none()});var p},function(h){return ke(lt.fromDom(l),h)}).or((m=a.dom,w.from(Re.DOM.getStyle(m,t,!0))));var s,l,d,m}).getOr("")}}function iC(t){return pa(t.getBody()).map(function(n){var r=n.container();return oe(r)?r.parentNode:r})}function ty(t,n){return r=t,a=Tn(w.some,n),s=r,w.from(s.selection.getRng()).bind(function(l){var d=s.getBody();return l.startContainer===d&&l.startOffset===0?w.none():w.from(s.selection.getStart(!0))}).orThunk(q(iC,r)).map(lt.fromDom).filter(Ao).bind(a);var r,a,s}function aC(t,n){if(/^[0-9.]+$/.test(n)){var r=parseInt(n,10);if(1<=r&&r<=7){var a=Ct.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large")),s=Ct.explode(t.getParam("font_size_classes",""));return s?s[r-1]||n:a[r-1]||n}return n}return n}var gh=Un,BS=Hr,ey=function(t){t.on(function(n){Zw(n.ghost)}),t.clear()},uC=Hr,Sc=Un,ny=Re.DOM,yd=Re.DOM,sC=Re.DOM,oy=function(t,n,r){var a,s,l,d,m=ru.get(r),h=ru.urls[r]||t.documentBaseUrl.replace(/\/$/,"");if(r=Ct.trim(r),m&&Ct.inArray(n,r)===-1&&(Ct.each(ru.dependencies(r),function(x){oy(t,n,x)}),!t.plugins[r]))try{var p=new m(t,h,t.$);(t.plugins[r]=p).init&&(p.init(t,h),n.push(r))}catch(x){s=r,l=x,Jf(a=t,"PluginLoadError",{message:d=ku.translate(["Failed to initialize plugin: {0}",s])}),Hp(d,l),bb(a,d)}},rf=Re.DOM,RE={"font-size":"size","font-family":"face"},cC=NS("font-size"),ME=ar(function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},NS("font-family")),kc=Ct.each,PE=Ct.map,RS=Ct.inArray,lC=(Gi.prototype.execCommand=function(t,n,r,a){var s,l,d=!1,m=this;if(!m.editor.removed){if(t.toLowerCase()!=="mcefocus"&&(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||a&&a.skip_focus?X0(l=m.editor).each(function(p){return l.selection.setRng(p)}):m.editor.focus()),(a=m.editor.fire("BeforeExecCommand",{command:t,ui:n,value:r})).isDefaultPrevented())return!1;var h=t.toLowerCase();if(s=m.commands.exec[h])return s(h,n,r),m.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(kc(this.editor.plugins,function(p){if(p.execCommand&&p.execCommand(t,n,r))return m.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!(d=!0)}),d)return d;if(m.editor.theme&&m.editor.theme.execCommand&&m.editor.theme.execCommand(t,n,r))return m.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{d=m.editor.getDoc().execCommand(t,n,r)}catch{}return!!d&&(m.editor.fire("ExecCommand",{command:t,ui:n,value:r}),!0)}},Gi.prototype.queryCommandState=function(t){var n;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),n=this.commands.state[t])return n(t);try{return this.editor.getDoc().queryCommandState(t)}catch{}return!1}},Gi.prototype.queryCommandValue=function(t){var n;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(t=t.toLowerCase(),n=this.commands.value[t])return n(t);try{return this.editor.getDoc().queryCommandValue(t)}catch{}}},Gi.prototype.addCommands=function(t,n){n===void 0&&(n="exec");var r=this;kc(t,function(a,s){kc(s.toLowerCase().split(","),function(l){r.commands[n][l]=a})})},Gi.prototype.addCommand=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.exec[t]=function(s,l,d,m){return n.call(r||a.editor,l,d,m)}},Gi.prototype.queryCommandSupported=function(t){if(t=t.toLowerCase(),this.commands.exec[t])return!0;try{return this.editor.getDoc().queryCommandSupported(t)}catch{}return!1},Gi.prototype.addQueryStateHandler=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.state[t]=function(){return n.call(r||a.editor)}},Gi.prototype.addQueryValueHandler=function(t,n,r){var a=this;t=t.toLowerCase(),this.commands.value[t]=function(){return n.call(r||a.editor)}},Gi.prototype.hasCustomCommand=function(t){return t=t.toLowerCase(),!!this.commands.exec[t]},Gi.prototype.execNativeCommand=function(t,n,r){return n===void 0&&(n=!1),r===void 0&&(r=null),this.editor.getDoc().execCommand(t,n,r)},Gi.prototype.isFormatMatch=function(t){return this.editor.formatter.match(t)},Gi.prototype.toggleFormat=function(t,n){this.editor.formatter.toggle(t,n),this.editor.nodeChanged()},Gi.prototype.storeSelection=function(t){this.selectionBookmark=this.editor.selection.getBookmark(t)},Gi.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},Gi.prototype.setupCommands=function(t){var n=this;function r(a){return function(){var s=t.selection,l=s.isCollapsed()?[t.dom.getParent(s.getNode(),t.dom.isBlock)]:s.getSelectedBlocks(),d=PE(l,function(m){return!!t.formatter.matchNode(m,a)});return RS(d,!0)!==-1}}this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":ne,"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},mceFocus:function(a,s,l){var d,m;m=l,(d=t).removed||(m?Bv:function(h){var p=h.selection,x=h.getBody(),y=p.getRng();h.quirks.refreshContentEditable(),h.bookmark!==void 0&&hc(h)===!1&&X0(h).each(function(A){h.selection.setRng(A),y=A});var _,E,T=(_=h,E=p.getNode(),_.dom.getParent(E,function(A){return _.dom.getContentEditable(A)==="true"}));if(h.$.contains(x,T))return ls(T),Qc(h,y),Bv(h);h.inline||(Te.opera||ls(x),h.getWin().focus()),(Te.gecko||h.inline)&&(ls(x),Qc(h,y)),Bv(h)})(d)},"Cut,Copy,Paste":function(a){var s,l,d=t.getDoc();try{n.execNativeCommand(a)}catch{s=!0}!(s=a==="paste"&&!d.queryCommandEnabled(a)||s)&&d.queryCommandSupported(a)||(l=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead."),Te.mac&&(l=l.replace(/Ctrl\+/g,"\u2318+")),t.notificationManager.open({text:l,type:"error"}))},unlink:function(){var a;t.selection.isCollapsed()?(a=t.dom.getParent(t.selection.getStart(),"a"))&&t.dom.remove(a,!0):t.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(a){var s=a.substring(7);s==="full"&&(s="justify"),kc("left,center,right,justify".split(","),function(l){s!==l&&t.formatter.remove("align"+l)}),s!=="none"&&n.toggleFormat("align"+s)},"InsertUnorderedList,InsertOrderedList":function(a){var s;n.execNativeCommand(a);var l=t.dom.getParent(t.selection.getNode(),"ol,ul");l&&(s=l.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(s.nodeName)&&(n.storeSelection(),t.dom.split(s,l),n.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){n.toggleFormat(a)},"ForeColor,HiliteColor":function(a,s,l){n.toggleFormat(a,{value:l})},FontName:function(a,s,l){var d,m;m=aC(d=t,l),d.formatter.toggle("fontname",{value:Ne(m.split(/\s*,\s*/),function(h){return h.indexOf(" ")===-1||er(h,'"')||er(h,"'")?h:"'"+h+"'"}).join(",")}),d.nodeChanged()},FontSize:function(a,s,l){var d;(d=t).formatter.toggle("fontsize",{value:aC(d,l)}),d.nodeChanged()},LineHeight:function(a,s,l){var d;(d=t).formatter.toggle("lineheight",{value:String(l)}),d.nodeChanged()},Lang:function(a,s,l){n.toggleFormat(a,{value:l.code,customValue:l.customCode})},RemoveFormat:function(a){t.formatter.remove(a)},mceBlockQuote:function(){n.toggleFormat("blockquote")},FormatBlock:function(a,s,l){return n.toggleFormat(l||"p")},mceCleanup:function(){var a=t.selection.getBookmark();t.setContent(t.getContent()),t.selection.moveToBookmark(a)},mceRemoveNode:function(a,s,l){var d=l||t.selection.getNode();d!==t.getBody()&&(n.storeSelection(),t.dom.remove(d,!0),n.restoreSelection())},mceSelectNodeDepth:function(a,s,l){var d=0;t.dom.getParent(t.selection.getNode(),function(m){if(m.nodeType===1&&d++===l)return t.selection.select(m),!1},t.getBody())},mceSelectNode:function(a,s,l){t.selection.select(l)},mceInsertContent:function(a,s,l){var d,m,h,p;d=t,m=(function(x){if(typeof x=="string")return{content:x,details:{}};var y=Ct.extend({paste:x.paste,data:{paste:x.paste}},x);return{content:x.content,details:y}})(l),h=m.content,p=m.details,Lx(d).editor.insertContent(h,p)},mceInsertRawHTML:function(a,s,l){t.selection.setContent("tiny_mce_marker");var d=t.getContent();t.setContent(d.replace(/tiny_mce_marker/g,function(){return l}))},mceInsertNewLine:function(a,s,l){Ww(t,l)},mceToggleFormat:function(a,s,l){n.toggleFormat(l)},mceSetContent:function(a,s,l){t.setContent(l)},"Indent,Outdent":function(a){Fb(t,a)},mceRepaint:ne,InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(a,s,l){t.execCommand("mceInsertContent",!1,l.replace(/\{\$selection\}/g,t.selection.getContent({format:"text"})))},mceInsertLink:function(a,s,l){typeof l=="string"&&(l={href:l});var d=t.dom.getParent(t.selection.getNode(),"a");l.href=l.href.replace(/ /g,"%20"),d&&l.href||t.formatter.remove("link"),l.href&&t.formatter.apply("link",l,d)},selectAll:function(){var a,s=t.dom.getParent(t.selection.getStart(),Hr);s&&((a=t.dom.createRng()).selectNodeContents(s),t.selection.setRng(a))},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(a,s,l){return sl(t,l),!0}}),n.addCommands({JustifyLeft:r("alignleft"),JustifyCenter:r("aligncenter"),JustifyRight:r("alignright"),JustifyFull:r("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(a){return n.isFormatMatch(a)},mceBlockQuote:function(){return n.isFormatMatch("blockquote")},Outdent:function(){return Rw(t)},"InsertUnorderedList,InsertOrderedList":function(a){var s=t.dom.getParent(t.selection.getNode(),"ul,ol");return s&&(a==="insertunorderedlist"&&s.tagName==="UL"||a==="insertorderedlist"&&s.tagName==="OL")}},"state"),n.addCommands({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),n.addQueryValueHandler("FontName",function(){return ty(a=t,function(s){return ME(a.getBody(),s.dom)}).getOr("");var a},this),n.addQueryValueHandler("FontSize",function(){return ty(a=t,function(s){return cC(a.getBody(),s.dom)}).getOr("");var a},this),n.addQueryValueHandler("LineHeight",function(){return ty(a=t,function(s){var l=lt.fromDom(a.getBody());return bx(s,function(d){return xo(d,"line-height")},q(ke,l)).getOrThunk(function(){var d=parseFloat(Ku(s,"line-height")),m=parseFloat(Ku(s,"font-size"));return String(d/m)})}).getOr("");var a},this)},Gi);function Gi(t){this.commands={state:{},exec:{},value:{}},this.editor=t,this.setupCommands(t)}function MS(t,n,r){var a,s,l,d,m,h;Kh(t,n)&&r===!1?(s=n,am(a=t)?a.dom.classList.remove(s):(m=s,0<(h=We(Xh(d=a,"class"),function(p){return p!==m})).length?bu(d,"class",h.join(" ")):Xu(d,"class")),(am(l=a)?l.dom.classList:Xh(l,"class")).length===0&&Xu(l,"class")):r&&um(t,n)}function ry(t,n,r){try{t.getDoc().execCommand(n,!1,String(r))}catch{}}function iy(t,n){t.dom.contentEditable=n?"true":"false"}function IE(t,n){var r,a,s=lt.fromDom(t.getBody());MS(s,"mce-content-readonly",n),n?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),w.from(t.selection.getNode()).each(function(l){l.removeAttribute("data-mce-selected")}),iy(s,!(t.readonly=!0)),gt(Pa(s,'*[contenteditable="true"]'),function(l){bu(l,af,"true"),iy(l,!1)})):(iy(s,!(t.readonly=!1)),gt(Pa(s,"*["+af+'="true"]'),function(l){Xu(l,af),iy(l,!0)}),ry(t,"StyleWithCSS",!1),ry(t,"enableInlineTableEditing",!1),ry(t,"enableObjectResizing",!1),(hc(r=t)||(a=r,kv(oa(lt.fromDom(a.getElement()))).filter(function(l){return!((d=l.dom.classList)!==void 0&&(d.contains("tox-edit-area")||d.contains("tox-edit-area__iframe")||d.contains("mce-content-body")))&&Tv(a,l.dom);var d}).isSome()))&&t.focus(),t.selection.setRng(t.selection.getRng()),t.nodeChanged())}function Mi(t){return t.readonly}function eg(t){t.parser.addAttributeFilter("contenteditable",function(n){Mi(t)&&gt(n,function(r){r.attr(af,r.attr("contenteditable")),r.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(af,function(n){Mi(t)&&gt(n,function(r){r.attr("contenteditable",r.attr(af))})}),t.serializer.addTempAttr(af)}var af="data-mce-contenteditable",PS=Ct.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),ay=(xd.isNative=function(t){return!!PS[t.toLowerCase()]},xd.prototype.fire=function(t,n){var r=t.toLowerCase(),a=oc(r,n||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(a);var s=this.bindings[r];if(s)for(var l=0,d=s.length;l<d;l++){var m=s[l];if(!m.removed){if(m.once&&this.off(r,m.func),a.isImmediatePropagationStopped())return a;if(m.func.call(this.scope,a)===!1)return a.preventDefault(),a}}return a},xd.prototype.on=function(t,n,r,a){if(n=n===!1?Ln:n){var s={func:n,removed:!1};a&&Ct.extend(s,a);for(var l=t.toLowerCase().split(" "),d=l.length;d--;){var m=l[d],h=this.bindings[m];h||(h=[],this.toggleEvent(m,!0)),h=r?ue([s],h,!0):ue(ue([],h,!0),[s],!1),this.bindings[m]=h}}return this},xd.prototype.off=function(t,n){var r=this;if(t)for(var a=t.toLowerCase().split(" "),s=a.length;s--;){var l,d=a[s],m=this.bindings[d];if(!d)return yo(this.bindings,function(h,p){r.toggleEvent(p,!1),delete r.bindings[p]}),this;m&&(n?(m=(l=uo(m,function(h){return h.func===n})).fail,this.bindings[d]=m,gt(l.pass,function(h){h.removed=!0})):m.length=0,m.length||(this.toggleEvent(t,!1),delete this.bindings[d]))}else yo(this.bindings,function(h,p){r.toggleEvent(p,!1)}),this.bindings={};return this},xd.prototype.once=function(t,n,r){return this.on(t,n,r,{once:!0})},xd.prototype.has=function(t){return t=t.toLowerCase(),!(!this.bindings[t]||this.bindings[t].length===0)},xd);function xd(t){this.bindings={},this.settings=t||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Ln}function ph(t){return t._eventDispatcher||(t._eventDispatcher=new ay({scope:t,toggleEvent:function(n,r){ay.isNative(n)&&t.toggleNativeEvent&&t.toggleNativeEvent(n,r)}})),t._eventDispatcher}function uy(t,n){if(n==="selectionchange")return t.getDoc();if(!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return t.getDoc().documentElement;var r=JC(t);return r?(t.eventRoot||(t.eventRoot=uf.select(r)[0]),t.eventRoot):t.getBody()}function IS(t,n,r){var a,s,l,d;t.hidden||Mi(t)?Mi(t)&&(a=t,(s=r).type!=="click"||Ce.metaKeyPressed(s)||(l=lt.fromDom(s.target),d=a,Ei(l,"a",function(m){return ke(m,lt.fromDom(d.getBody()))}).bind(function(m){return Yr(m,"href")}).each(function(m){var h,p;s.preventDefault(),/^#/.test(m)?(h=a.dom.select(m+',[name="'+(er(p=m,"#")?p.substring(1):p)+'"]')).length&&a.selection.scrollIntoView(h[0],!0):window.open(m,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")}))):t.fire(n,r)}function LS(t,n){var r,a;t.delegates||(t.delegates={}),t.delegates[n]||t.removed||(a=uy(t,n),JC(t)?(wd||(wd={},t.editorManager.on("removeEditor",function(){t.editorManager.activeEditor||wd&&(yo(wd,function(s,l){t.dom.unbind(uy(t,l))}),wd=null)})),wd[n]||(wd[n]=r=function(s){for(var l=s.target,d=t.editorManager.get(),m=d.length;m--;){var h=d[m].getBody();h!==l&&!uf.isChildOf(l,h)||IS(d[m],n,s)}},uf.bind(a,n,r))):(uf.bind(a,n,r=function(s){IS(t,n,s)}),t.delegates[n]=r))}function FS(t,n,r,a){var s=r[n.get()],l=r[a];try{l.activate()}catch(d){return void console.error("problem while activating editor mode "+a+":",d)}s.deactivate(),s.editorReadOnly!==l.editorReadOnly&&IE(t,l.editorReadOnly),n.set(a),t.fire("SwitchMode",{mode:a})}function LE(t){var n,r={};fC(dC(t.toLowerCase(),"+"),function(s){s in HS?r[s]=!0:/^[0-9]{2,}$/.test(s)?r.keyCode=parseInt(s,10):(r.charCode=s.charCodeAt(0),r.keyCode=HE[s]||s.toUpperCase().charCodeAt(0))});var a=[r.keyCode];for(n in HS)r[n]?a.push(n):r[n]=!1;return r.id=a.join(","),r.access&&(r.alt=!0,Te.mac?r.ctrl=!0:r.shift=!0),r.meta&&(Te.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r}var wd,sy={fire:function(t,n,r){if(this.removed&&t!=="remove"&&t!=="detach")return n;var a=ph(this).fire(t,n);if(r!==!1&&this.parent)for(var s=this.parent();s&&!a.isPropagationStopped();)s.fire(t,a,!1),s=s.parent();return a},on:function(t,n,r){return ph(this).on(t,n,r)},off:function(t,n){return ph(this).off(t,n)},once:function(t,n){return ph(this).once(t,n)},hasEventListeners:function(t){return ph(this).has(t)}},uf=Re.DOM,cy=ht(ht({},sy),{bindPendingEventDelegates:function(){var t=this;Ct.each(t._pendingNativeEvents,function(n){LS(t,n)})},toggleNativeEvent:function(t,n){var r=this;t!=="focus"&&t!=="blur"&&(r.removed||(n?r.initialized?LS(r,t):r._pendingNativeEvents?r._pendingNativeEvents.push(t):r._pendingNativeEvents=[t]:r.initialized&&(r.dom.unbind(uy(r,t),t,r.delegates[t]),delete r.delegates[t])))},unbindAllNativeEvents:function(){var t=this,n=t.getBody(),r=t.dom;t.delegates&&(yo(t.delegates,function(a,s){t.dom.unbind(uy(t,s),s,a)}),delete t.delegates),!t.inline&&n&&r&&(n.onload=null,r.unbind(t.getWin()),r.unbind(t.getDoc())),r&&(r.unbind(n),r.unbind(t.getContainer()))}}),FE=["design","readonly"],fC=Ct.each,dC=Ct.explode,HE={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},HS=Ct.makeMap("alt,ctrl,shift,meta,access"),zS=(cl.prototype.add=function(t,n,r,a){var s=this,l=s.normalizeCommandFunc(r);return fC(dC(Ct.trim(t)),function(d){var m=s.createShortcut(d,n,l,a);s.shortcuts[m.id]=m}),!0},cl.prototype.remove=function(t){var n=this.createShortcut(t);return!!this.shortcuts[n.id]&&(delete this.shortcuts[n.id],!0)},cl.prototype.normalizeCommandFunc=function(t){var n=this,r=t;return typeof r=="string"?function(){n.editor.execCommand(r,!1,null)}:Ct.isArray(r)?function(){n.editor.execCommand(r[0],r[1],r[2])}:r},cl.prototype.createShortcut=function(t,n,r,a){var s=Ct.map(dC(t,">"),LE);return s[s.length-1]=Ct.extend(s[s.length-1],{func:r,scope:a||this.editor}),Ct.extend(s[0],{desc:this.editor.translate(n),subpatterns:s.slice(1)})},cl.prototype.hasModifier=function(t){return t.altKey||t.ctrlKey||t.metaKey},cl.prototype.isFunctionKey=function(t){return t.type==="keydown"&&112<=t.keyCode&&t.keyCode<=123},cl.prototype.matchShortcut=function(t,n){return!!n&&n.ctrl===t.ctrlKey&&n.meta===t.metaKey&&n.alt===t.altKey&&n.shift===t.shiftKey&&!!(t.keyCode===n.keyCode||t.charCode&&t.charCode===n.charCode)&&(t.preventDefault(),!0)},cl.prototype.executeShortcutAction=function(t){return t.func?t.func.call(t.scope):null},cl);function cl(t){this.shortcuts={},this.pendingPatterns=[],this.editor=t;var n=this;t.on("keyup keypress keydown",function(r){!n.hasModifier(r)&&!n.isFunctionKey(r)||r.isDefaultPrevented()||(fC(n.shortcuts,function(a){if(n.matchShortcut(r,a))return n.pendingPatterns=a.subpatterns.slice(0),r.type==="keydown"&&n.executeShortcutAction(a),!0}),n.matchShortcut(r,n.pendingPatterns[0])&&(n.pendingPatterns.length===1&&r.type==="keydown"&&n.executeShortcutAction(n.pendingPatterns[0]),n.pendingPatterns.shift()))})}var Cd=Re.DOM,VS=Ct.extend,zE=Ct.each,jS=Ct.resolve,VE=Te.ie,ly=(Cn.prototype.render=function(){(function(t){var n=t.id;ku.setCode(s0(t));var r,a,s,l,d=function(){rf.unbind(window,"ready",d),t.render()};Ka.Event.domLoaded?t.getElement()&&Te.contentEditable&&(r=lt.fromDom(t.getElement()),a=on(r.dom.attributes,function(m,h){return m[h.name]=h.value,m},{}),t.on("remove",function(){tr(r.dom.attributes,function(m){return Xu(r,m.name),0}),Zs(r,a)}),t.ui.styleSheetLoader=Gd.forElement(r,{contentCssCors:(s=t).getParam("content_css_cors"),referrerPolicy:Ng(s)}),t.getParam("inline")?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden"),(l=t.getElement().form||rf.getParent(n,"form"))&&(t.formElement=l,t.getParam("hidden_input")&&!$d(t.getElement())&&(rf.insertAfter(rf.create("input",{type:"hidden",name:n}),n),t.hasHiddenInput=!0),t.formEventDelegate=function(m){t.fire(m.type,m)},rf.bind(l,"submit reset",t.formEventDelegate),t.on("reset",function(){t.resetContent()}),!t.getParam("submit_patch")||l.submit.nodeType||l.submit.length||l._mceOldSubmit||(l._mceOldSubmit=l.submit,l.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),l._mceOldSubmit(l)})),t.windowManager=Lm(t),t.notificationManager=D1(t),t.getParam("encoding")==="xml"&&t.on("GetContent",function(m){m.save&&(m.content=rf.encode(m.content))}),t.getParam("add_form_submit_trigger")&&t.on("submit",function(){t.initialized&&t.save()}),t.getParam("add_unload_trigger")&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),tg(t,t.suffix)):rf.bind(window,"ready",d)})(this)},Cn.prototype.focus=function(t){this.execCommand("mceFocus",!1,t)},Cn.prototype.hasFocus=function(){return hc(this)},Cn.prototype.execCallback=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var a,s=this.settings[t];if(s)return this.callbackLookup&&(a=this.callbackLookup[t])&&(s=a.func,a=a.scope),typeof s=="string"&&(a=(a=s.replace(/\.\w+$/,""))?jS(a):0,s=jS(s),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[t]={func:s,scope:a}),s.apply(a||this,n)},Cn.prototype.translate=function(t){return ku.translate(t)},Cn.prototype.getParam=function(t,n,r){return l=n,d=r,x=(s=t)in(a=this).settings?a.settings[s]:l,d==="hash"?(p={},typeof(h=x)=="string"?gt(0<h.indexOf("=")?h.split(/[;,](?![^=;,]*(?:[;,]|$))/):h.split(","),function(y){var _=y.split("=");1<_.length?p[Ct.trim(_[0])]=Ct.trim(_[1]):p[Ct.trim(_[0])]=Ct.trim(_[0])}):p=h,p):d==="string"?$i(Dn,a,s).getOr(l):d==="number"?$i(Va,a,s).getOr(l):d==="boolean"?$i(fu,a,s).getOr(l):d==="object"?$i(vo,a,s).getOr(l):d==="array"?$i(Nn,a,s).getOr(l):d==="string[]"?$i((m=Dn,function(y){return Nn(y)&&Cs(y,m)}),a,s).getOr(l):d==="function"?$i(nn,a,s).getOr(l):x;var a,s,l,d,m,h,p,x},Cn.prototype.hasPlugin=function(t,n){return!(!Vt(f0(this).split(/[ ,]/),t)||n&&ru.get(t)===void 0)},Cn.prototype.nodeChanged=function(t){this._nodeChangeDispatcher.nodeChanged(t)},Cn.prototype.addCommand=function(t,n,r){this.editorCommands.addCommand(t,n,r)},Cn.prototype.addQueryStateHandler=function(t,n,r){this.editorCommands.addQueryStateHandler(t,n,r)},Cn.prototype.addQueryValueHandler=function(t,n,r){this.editorCommands.addQueryValueHandler(t,n,r)},Cn.prototype.addShortcut=function(t,n,r,a){this.shortcuts.add(t,n,r,a)},Cn.prototype.execCommand=function(t,n,r,a){return this.editorCommands.execCommand(t,n,r,a)},Cn.prototype.queryCommandState=function(t){return this.editorCommands.queryCommandState(t)},Cn.prototype.queryCommandValue=function(t){return this.editorCommands.queryCommandValue(t)},Cn.prototype.queryCommandSupported=function(t){return this.editorCommands.queryCommandSupported(t)},Cn.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(Cd.show(this.getContainer()),Cd.hide(this.id)),this.load(),this.fire("show"))},Cn.prototype.hide=function(){var t=this,n=t.getDoc();t.hidden||(VE&&n&&!t.inline&&n.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable="false",t===t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(Cd.hide(t.getContainer()),Cd.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},Cn.prototype.isHidden=function(){return!!this.hidden},Cn.prototype.setProgressState=function(t,n){this.fire("ProgressState",{state:t,time:n})},Cn.prototype.load=function(t){var n=this.getElement();if(this.removed)return"";if(n){(t=t||{}).load=!0;var r=$d(n)?n.value:n.innerHTML,a=this.setContent(r,t);return t.element=n,t.no_events||this.fire("LoadContent",t),t.element=n=null,a}},Cn.prototype.save=function(t){var n,r,a=this,s=a.getElement();if(s&&a.initialized&&!a.removed)return(t=t||{}).save=!0,t.element=s,t.content=a.getContent(t),t.no_events||a.fire("SaveContent",t),t.format==="raw"&&a.fire("RawSaveContent",t),n=t.content,$d(s)?s.value=n:(!t.is_removing&&a.inline||(s.innerHTML=n),(r=Cd.getParent(a.id,"form"))&&zE(r.elements,function(l){if(l.name===a.id)return l.value=n,!1})),t.element=s=null,t.set_dirty!==!1&&a.setDirty(!1),n},Cn.prototype.setContent=function(t,n){return gb(this,t,n)},Cn.prototype.getContent=function(t){return n=this,a=(r=(r=t)===void 0?{}:r).format||"html",s=r,Lx(n).editor.getContent(s,a);var n,r,a,s},Cn.prototype.insertContent=function(t,n){n&&(t=VS({content:t},n)),this.execCommand("mceInsertContent",!1,t)},Cn.prototype.resetContent=function(t){t===void 0?gb(this,this.startContent,{format:"raw"}):gb(this,t),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},Cn.prototype.isDirty=function(){return!this.isNotDirty},Cn.prototype.setDirty=function(t){var n=!this.isNotDirty;this.isNotDirty=!t,t&&t!==n&&this.fire("dirty")},Cn.prototype.getContainer=function(){return this.container||(this.container=Cd.get(this.editorContainer||this.id+"_parent")),this.container},Cn.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},Cn.prototype.getElement=function(){return this.targetElm||(this.targetElm=Cd.get(this.id)),this.targetElm},Cn.prototype.getWin=function(){var t;return this.contentWindow||(t=this.iframeElement)&&(this.contentWindow=t.contentWindow),this.contentWindow},Cn.prototype.getDoc=function(){var t;return this.contentDocument||(t=this.getWin())&&(this.contentDocument=t.document),this.contentDocument},Cn.prototype.getBody=function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},Cn.prototype.convertURL=function(t,n,r){var a=this.settings;return a.urlconverter_callback?this.execCallback("urlconverter_callback",t,r,!0,n):!a.convert_urls||r&&r.nodeName==="LINK"||t.indexOf("file:")===0||t.length===0?t:a.relative_urls?this.documentBaseURI.toRelative(t):this.documentBaseURI.toAbsolute(t,a.remove_script_host)},Cn.prototype.addVisual=function(t){var n;n=t,br(this).editor.addVisual(n)},Cn.prototype.remove=function(){var t,n,r,a,s;(t=this).removed||(n=t._selectionOverrides,r=t.editorUpload,a=t.getBody(),s=t.getElement(),a&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&s&&Tp.remove(s.nextSibling),t.fire("remove"),t.editorManager.remove(t),!t.inline&&a&&Tp.setStyle(t.id,"display",t.orgDisplay),t.fire("detach"),Tp.remove(t.getContainer()),Rm(n),Rm(r),t.destroy())},Cn.prototype.destroy=function(t){var n,r,a,s,l,d,m;r=t,d=(n=this).selection,m=n.dom,n.destroyed||(r||n.removed?(r||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),Rm(d),Rm(m)),(s=(a=n).formElement)&&(s._mceOldSubmit&&(s.submit=s._mceOldSubmit,s._mceOldSubmit=null),Tp.unbind(s,"submit reset",a.formEventDelegate)),(l=n).contentAreaContainer=l.formElement=l.container=l.editorContainer=null,l.bodyElement=l.contentDocument=l.contentWindow=null,l.iframeElement=l.targetElm=null,l.selection&&(l.selection=l.selection.win=l.selection.dom=l.selection.dom.doc=null),n.destroyed=!0):n.remove())},Cn.prototype.uploadImages=function(t){return this.editorUpload.uploadImages(t)},Cn.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},Cn.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},Cn.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},Cn.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},Cn.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},Cn);function Cn(t,n,r){var a,s,l,d,m,h,p,x,y,_,E,T,A,B,N,P,H,G,Z=this;function V(tt,et){return function(at,ft){return tt[at.toLowerCase()]=ht(ht({},ft),{type:et})}}this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=r,this.documentBaseUrl=r.documentBaseURL,VS(this,cy),this.settings=(_=(y=this).documentBaseUrl,E=r.defaultSettings,A=_,B=R1,N=y,P={id:t,theme:"silver",toolbar_mode:Ep(T=n,"floating"),plugins:"",document_base_url:A,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:N.convertURL,url_converter_scope:N},H=ht(ht({},P),B?P1:{}),(G=Zx(M1||Im,M1,H,E,T)).deprecation_warnings!==!1&&Qx(T,G),G),this.settings.suffix&&(r.suffix=this.settings.suffix),this.suffix=r.suffix,this.settings.base_url&&r._setBaseUrl(this.settings.base_url),this.baseUri=r.baseURI,this.settings.referrer_policy&&(No.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Re.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),fa.languageLoad=this.settings.language_load,fa.baseURL=r.baseURL,this.id=t,this.setDirty(!1),this.documentBaseURI=new Gs(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new zS(this),this.editorCommands=new lC(this),this.settings.cache_suffix&&(Te.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:{addAutocompleter:(m={},(a={addButton:V(s={},"button"),addGroupToolbarButton:V(s,"grouptoolbarbutton"),addToggleButton:V(s,"togglebutton"),addMenuButton:V(s,"menubutton"),addSplitButton:V(s,"splitbutton"),addMenuItem:V(l={},"menuitem"),addNestedMenuItem:V(l,"nestedmenuitem"),addToggleMenuItem:V(l,"togglemenuitem"),addAutocompleter:V(d={},"autocompleter"),addContextMenu:V(h={},"contextmenu"),addContextToolbar:V(p={},"contexttoolbar"),addContextForm:V(p,"contextform"),addSidebar:V(x={},"sidebar"),addIcon:function(tt,et){return m[tt.toLowerCase()]=et},getAll:function(){return{buttons:s,menuItems:l,icons:m,popups:d,contextMenus:h,contextToolbars:p,sidebars:x}}}).addAutocompleter),addButton:a.addButton,addContextForm:a.addContextForm,addContextMenu:a.addContextMenu,addContextToolbar:a.addContextToolbar,addIcon:a.addIcon,addMenuButton:a.addMenuButton,addMenuItem:a.addMenuItem,addNestedMenuItem:a.addNestedMenuItem,addSidebar:a.addSidebar,addSplitButton:a.addSplitButton,addToggleButton:a.addToggleButton,addGroupToolbarButton:a.addGroupToolbarButton,addToggleMenuItem:a.addToggleMenuItem,getAll:a.getAll},styleSheetLoader:void 0,show:ne,hide:ne,enable:ne,disable:ne,isDisabled:Ln};var $,X,it,dt,wt,bt=(dt=Bi("design"),wt=Bi({design:{activate:ne,deactivate:ne,editorReadOnly:!1},readonly:{activate:ne,deactivate:ne,editorReadOnly:!0}}),(X=$=this).serializer?eg(X):X.on("PreInit",function(){eg(X)}),(it=$).on("ShowCaret",function(tt){Mi(it)&&tt.preventDefault()}),it.on("ObjectSelected",function(tt){Mi(it)&&tt.preventDefault()}),{isReadOnly:function(){return Mi($)},set:function(tt){return(function(et,at,ft,It){if(It!==ft.get()){if(!Ot(at,It))throw new Error("Editor mode '"+It+"' is invalid");et.initialized?FS(et,ft,at,It):et.on("init",function(){return FS(et,ft,at,It)})}})($,wt.get(),dt,tt)},get:function(){return dt.get()},register:function(tt,et){wt.set((function(at,ft,It){var Wt;if(Vt(FE,ft))throw new Error("Cannot override default mode "+ft);return ht(ht({},at),((Wt={})[ft]=ht(ht({},It),{deactivate:function(){try{It.deactivate()}catch(Pt){console.error("problem while deactivating editor mode "+ft+":",Pt)}}}),Wt))})(wt.get(),tt,et))}});this.mode=bt,this.setMode=bt.set,r.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Ue.overrideDefaults(function(){return{context:Z.inline?Z.getBody():Z.getDoc(),element:Z.getBody()}})}function US(t){var n=t.type;ys(ll.get(),function(r){switch(n){case"scroll":r.fire("ScrollWindow",t);break;case"resize":r.fire("ResizeWindow",t)}})}function WS(t){t!==XS&&(t?Ue(window).on("resize scroll",US):Ue(window).off("resize scroll",US),XS=t)}function $S(t){var n=ba;delete Lu[t.id];for(var r=0;r<Lu.length;r++)if(Lu[r]===t){Lu.splice(r,1);break}return ba=We(ba,function(a){return t!==a}),ll.activeEditor===t&&(ll.activeEditor=0<ba.length?ba[0]:null),ll.focusedEditor===t&&(ll.focusedEditor=null),n.length!==ba.length}var fy,vs=Re.DOM,bs=Ct.explode,ys=Ct.each,qS=Ct.extend,GS=0,XS=!1,Lu=[],ba=[],KS=document.compatMode!=="CSS1Compat",ll=ht(ht({},sy),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Ue,majorVersion:"5",minorVersion:"10.9",releaseDate:"2023-11-15",editors:Lu,i18n:ku,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var t,n="",r=Gs.getDocumentBaseUrl(document.location);/^[^:]+:\/\/\/?[^\/]+\//.test(r)&&(r=r.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(r)||(r+="/"));var a=window.tinymce||window.tinyMCEPreInit;if(a)t=a.base||a.baseURL,n=a.suffix;else{for(var s,l=document.getElementsByTagName("script"),d=0;d<l.length;d++)if((s=l[d].src||"")!==""){var m=s.substring(s.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(s)){m.indexOf(".min")!==-1&&(n=".min"),t=s.substring(0,s.lastIndexOf("/"));break}}!t&&document.currentScript&&((s=document.currentScript.src).indexOf(".min")!==-1&&(n=".min"),t=s.substring(0,s.lastIndexOf("/")))}this.baseURL=new Gs(r).toAbsolute(t),this.documentBaseURL=r,this.baseURI=new Gs(this.baseURL),this.suffix=n,this.on("AddEditor",q(Pn,this)),this.on("RemoveEditor",q(Lk,this))},overrideDefaults:function(t){var n=t.base_url;n&&this._setBaseUrl(n);var r=t.suffix;t.suffix&&(this.suffix=r);var a=(this.defaultSettings=t).plugin_base_urls;a!==void 0&&yo(a,function(s,l){fa.PluginManager.urls[l]=s})},init:function(t){function n(h){var p=h.id;return p||(p=no(h,"name").filter(function(x){return!vs.get(x)}).getOrThunk(vs.uniqueId),h.setAttribute("id",p)),p}function r(h,p){return p.constructor===RegExp?p.test(h.className):vs.hasClass(h,p)}var a,s=this,l=Ct.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),d=function(h){a=h},m=function(){function h(E,T,A){var B=new ly(E,T,s);_.push(B),B.on("init",function(){++y===p.length&&d(_)}),B.targetElm=B.targetElm||A,B.render()}var p,x,y=0,_=[];vs.unbind(window,"ready",m),(x=t.onpageload)&&x.apply(s,[]),p=Ue.unique((function(E){var T=[];if(Te.browser.isIE()&&Te.browser.version.major<11)return Hp("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(KS)return Hp("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(E.types)return ys(E.types,function(B){T=T.concat(vs.select(B.selector))}),T;if(E.selector)return vs.select(E.selector);if(E.target)return[E.target];switch(E.mode){case"exact":var A=E.elements||"";0<A.length&&ys(bs(A),function(B){var N=vs.get(B);N?T.push(N):ys(document.forms,function(P){ys(P.elements,function(H){H.name===B&&(B="mce_editor_"+GS++,vs.setAttrib(H,"id",B),T.push(H))})})});break;case"textareas":case"specific_textareas":ys(vs.select("textarea"),function(B){E.editor_deselector&&r(B,E.editor_deselector)||E.editor_selector&&!r(B,E.editor_selector)||T.push(B)})}return T})(t)),t.types?ys(t.types,function(E){Ct.each(p,function(T){return!vs.is(T,E.selector)||(h(n(T),qS({},t,E),T),!1)})}):(Ct.each(p,function(E){var T;(T=s.get(E.id))&&T.initialized&&!(T.getContainer()||T.getBody()).parentNode&&($S(T),T.unbindAllNativeEvents(),T.destroy(!0),T.removed=!0)}),(p=Ct.grep(p,function(E){return!s.get(E.id)})).length===0?d([]):ys(p,function(E){var T=E;t.inline&&T.tagName.toLowerCase()in l?Hp("Could not initialize inline editor on invalid inline target element",E):h(n(E),t,E)}))};return s.settings=t,vs.bind(window,"ready",m),new rt(function(h){a?h(a):d=function(p){h(p)}})},get:function(t){return arguments.length===0?ba.slice(0):Dn(t)?bo(ba,function(n){return n.id===t}).getOr(null):Va(t)&&ba[t]||null},add:function(t){var n=this;return Lu[t.id]===t||(n.get(t.id)===null&&(t.id!=="length"&&(Lu[t.id]=t),Lu.push(t),ba.push(t)),WS(!0),n.activeEditor=t,n.fire("AddEditor",{editor:t}),fy||(fy=function(r){var a=n.fire("BeforeUnload");if(a.returnValue)return r.preventDefault(),r.returnValue=a.returnValue,a.returnValue},window.addEventListener("beforeunload",fy))),t},createEditor:function(t,n){return this.add(new ly(t,n,this))},remove:function(t){var n,r,a=this;if(t){if(!Dn(t))return r=t,Io(a.get(r.id))?null:($S(r)&&a.fire("RemoveEditor",{editor:r}),ba.length===0&&window.removeEventListener("beforeunload",fy),r.remove(),WS(0<ba.length),r);ys(vs.select(t),function(s){(r=a.get(s.id))&&a.remove(r)})}else for(n=ba.length-1;0<=n;n--)a.remove(ba[n])},execCommand:function(t,n,r){var a=this.get(r);switch(t){case"mceAddEditor":return this.get(r)||new ly(r,this.settings,this).render(),!0;case"mceRemoveEditor":return a&&a.remove(),!0;case"mceToggleEditor":return a?a.isHidden()?a.show():a.hide():this.execCommand("mceAddEditor",!1,r),!0}return!!this.activeEditor&&this.activeEditor.execCommand(t,n,r)},triggerSave:function(){ys(ba,function(t){t.save()})},addI18n:function(t,n){ku.add(t,n)},translate:function(t){return ku.translate(t)},setActive:function(t){var n=this.activeEditor;this.activeEditor!==t&&(n&&n.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:n})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new Gs(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new Gs(this.baseURL)}});function dy(t,n,r){var a=n.x,s=n.y,l=t.w,d=t.h,m=n.w,h=n.h,p=(r||"").split("");return p[0]==="b"&&(s+=h),p[1]==="r"&&(a+=m),p[0]==="c"&&(s+=_d(h/2)),p[1]==="c"&&(a+=_d(m/2)),p[3]==="b"&&(s-=d),p[4]==="r"&&(a-=l),p[3]==="c"&&(s-=_d(d/2)),p[4]==="c"&&(a-=_d(l/2)),sf(a,s,l,d)}function YS(){}ll.setup();function sf(t,n,r,a){return{x:t,y:n,w:r,h:a}}var hh,vh,fl,mC,JS=Math.min,ng=Math.max,_d=Math.round,gC={inflate:function(t,n,r){return sf(t.x-n,t.y-r,t.w+2*n,t.h+2*r)},relativePosition:dy,findBestRelativePosition:function(t,n,r,a){for(var s,l=0;l<a.length;l++)if((s=dy(t,n,a[l])).x>=r.x&&s.x+s.w<=r.w+r.x&&s.y>=r.y&&s.y+s.h<=r.h+r.y)return a[l];return null},intersect:function(t,n){var r=ng(t.x,n.x),a=ng(t.y,n.y),s=JS(t.x+t.w,n.x+n.w),l=JS(t.y+t.h,n.y+n.h);return s-r<0||l-a<0?null:sf(r,a,s-r,l-a)},clamp:function(t,n,r){var a=t.x,s=t.y,l=t.x+t.w,d=t.y+t.h,m=n.x+n.w,h=n.y+n.h,p=ng(0,n.x-a),x=ng(0,n.y-s),y=ng(0,l-m),_=ng(0,d-h);return a+=p,s+=x,r&&(l+=p,d+=x,a-=y,s-=_),sf(a,s,(l-=y)-a,(d-=_)-s)},create:sf,fromClientRect:function(t){return sf(t.left,t.top,t.width,t.height)}},pC=(hh={},vh={},{load:function(t,n){var r='Script at URL "'+n+'" failed to load',a='Script at URL "'+n+"\" did not call `tinymce.Resource.add('"+t+"', data)` within 1 second";if(hh[t]!==void 0)return hh[t];var s=new rt(function(l,d){var m=(function(h,p,x){function y(B){return function(){for(var N=[],P=0;P<arguments.length;P++)N[P]=arguments[P];_||(_=!0,E!==null&&(clearTimeout(E),E=null),B.apply(null,N))}}x===void 0&&(x=1e3);var _=!1,E=null,T=y(h),A=y(p);return{start:function(){for(var B=[],N=0;N<arguments.length;N++)B[N]=arguments[N];_||E!==null||(E=setTimeout(function(){return A.apply(null,B)},x))},resolve:T,reject:A}})(l,d);vh[t]=m.resolve,No.ScriptLoader.loadScript(n,function(){return m.start(a)},function(){return m.reject(r)})});return hh[t]=s},add:function(t,n){vh[t]!==void 0&&(vh[t](n),delete vh[t]),hh[t]=rt.resolve(n)}}),my=Ct.each,dl=Ct.extend;YS.extend=fl=function(t){function n(){var l,d,m;if(!mC&&(this.init&&this.init.apply(this,arguments),d=this.Mixins))for(l=d.length;l--;)(m=d[l]).init&&m.init.apply(this,arguments)}function r(){return this}var a=this.prototype;mC=!0;var s=new this;return mC=!1,t.Mixins&&(my(t.Mixins,function(l){for(var d in l)d!=="init"&&(t[d]=l[d])}),a.Mixins&&(t.Mixins=a.Mixins.concat(t.Mixins))),t.Methods&&my(t.Methods.split(","),function(l){t[l]=r}),t.Properties&&my(t.Properties.split(","),function(l){var d="_"+l;t[l]=function(m){return m!==void 0?(this[d]=m,this):this[d]}}),t.Statics&&my(t.Statics,function(l,d){n[d]=l}),t.Defaults&&a.Defaults&&(t.Defaults=dl({},a.Defaults,t.Defaults)),yo(t,function(l,d){var m,h;typeof l=="function"&&a[d]?s[d]=(m=d,h=l,function(){var p=this._super;this._super=a[m];var x=h.apply(this,arguments);return this._super=p,x}):s[d]=l}),n.prototype=s,(n.constructor=n).extend=fl,n};var bh,Sd,yh,gy=Math.min,py=Math.max,kd=Math.round,hC={serialize:function(t){var n=JSON.stringify(t);return Dn(n)?n.replace(/[\u0080-\uFFFF]/g,function(r){var a=r.charCodeAt(0).toString(16);return"\\u"+"0000".substring(a.length)+a}):n},parse:function(t){try{return JSON.parse(t)}catch{}}},jE={callbacks:{},count:0,send:function(t){var n=this,r=Re.DOM,a=(t.count!==void 0?t:n).count,s="tinymce_jsonp_"+a;n.callbacks[a]=function(l){r.remove(s),delete n.callbacks[a],t.callback(l)},r.add(r.doc.body,"script",{id:s,src:t.url,type:"text/javascript"}),n.count++}},hy=ht(ht({},sy),{send:function(t){var n,r=0,a=function(){!t.async||n.readyState===4||1e4<r++?(t.success&&r<1e4&&n.status===200?t.success.call(t.success_scope,""+n.responseText,n,t):t.error&&t.error.call(t.error_scope,1e4<r?"TIMED_OUT":"GENERAL",n,t),n=null):wo.setTimeout(a,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=t.async!==!1,t.data=t.data||"",hy.fire("beforeInitialize",{settings:t}),(n=new XMLHttpRequest).overrideMimeType&&n.overrideMimeType(t.content_type),n.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(n.withCredentials=!0),t.content_type&&n.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&Ct.each(t.requestheaders,function(s){n.setRequestHeader(s.key,s.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),(n=hy.fire("beforeSend",{xhr:n,settings:t}).xhr).send(t.data),!t.async)return a();wo.setTimeout(a,10)}}),vC=Ct.extend,UE=(vy.sendRPC=function(t){return new vy().send(t)},vy.prototype.send=function(t){var n=t.error,r=t.success,a=vC(this.settings,t);a.success=function(s,l){(s=(s=hC.parse(s))===void 0?{error:"JSON Parse error."}:s).error?n.call(a.error_scope||a.scope,s.error,l):r.call(a.success_scope||a.scope,s.result)},a.error=function(s,l){n&&n.call(a.error_scope||a.scope,s,l)},a.data=hC.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),a.content_type="application/json",hy.send(a)},vy);function vy(t){this.settings=vC({},t),this.count=0}try{var by,bC="__storage_test__";(by=window.localStorage).setItem(bC,bC),by.removeItem(bC)}catch{bh={},Sd=[],yh={getItem:function(n){return bh[n]||null},setItem:function(n,r){Sd.push(n),bh[n]=String(r)},key:function(n){return Sd[n]},removeItem:function(n){Sd=Sd.filter(function(r){return r===n}),delete bh[n]},clear:function(){Sd=[],bh={}},length:0},Object.defineProperty(yh,"length",{get:function(){return Sd.length},configurable:!1,enumerable:!1}),by=yh}var QS={geom:{Rect:gC},util:{Promise:rt,Delay:wo,Tools:Ct,VK:Ce,URI:Gs,Class:YS,EventDispatcher:ay,Observable:sy,I18n:ku,XHR:hy,JSON:hC,JSONRequest:UE,JSONP:jE,LocalStorage:by,Color:function(t){function n(d){var m;return typeof d=="object"?"r"in d?(a=d.r,s=d.g,l=d.b):"v"in d&&(function(h,p,x){if(h=(parseInt(h,10)||0)%360,p=parseInt(p,10)/100,x=parseInt(x,10)/100,p=py(0,gy(p,1)),x=py(0,gy(x,1)),p!==0){var y=h/60,_=x*p,E=_*(1-Math.abs(y%2-1)),T=x-_;switch(Math.floor(y)){case 0:a=_,s=E,l=0;break;case 1:a=E,s=_,l=0;break;case 2:a=0,s=_,l=E;break;case 3:a=0,s=E,l=_;break;case 4:a=E,s=0,l=_;break;case 5:a=_,s=0,l=E;break;default:a=s=l=0}a=kd(255*(a+T)),s=kd(255*(s+T)),l=kd(255*(l+T))}else a=s=l=kd(255*x)})(d.h,d.s,d.v):(m=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(d))?(a=parseInt(m[1],10),s=parseInt(m[2],10),l=parseInt(m[3],10)):(m=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(d))?(a=parseInt(m[1],16),s=parseInt(m[2],16),l=parseInt(m[3],16)):(m=/#([0-F])([0-F])([0-F])/gi.exec(d))&&(a=parseInt(m[1]+m[1],16),s=parseInt(m[2]+m[2],16),l=parseInt(m[3]+m[3],16)),a=a<0?0:255<a?255:a,s=s<0?0:255<s?255:s,l=l<0?0:255<l?255:l,r}var r={},a=0,s=0,l=0;return t&&n(t),r.toRgb=function(){return{r:a,g:s,b:l}},r.toHsv=function(){return d=a,m=s,h=l,x=0,(y=gy(d/=255,gy(m/=255,h/=255)))===(_=py(d,py(m,h)))?{h:0,s:0,v:100*(x=y)}:(p=(_-y)/_,{h:kd(60*((d===y?3:h===y?1:5)-(d===y?m-h:h===y?d-m:h-d)/((x=_)-y))),s:kd(100*p),v:kd(100*x)});var d,m,h,p,x,y,_},r.toHex=function(){function d(m){return 1<(m=parseInt(m,10).toString(16)).length?m:"0"+m}return"#"+d(a)+d(s)+d(l)},r.parse=n,r},ImageUploader:function(t){var n=Dp(),r=Np(t,n);return{upload:function(a,s){return r.upload(a,(s=s===void 0||s)?rw(t):void 0)}}}},dom:{EventUtils:Ka,Sizzle:to,DomQuery:Ue,TreeWalker:Vo,TextSeeker:as,DOMUtils:Re,ScriptLoader:No,RangeUtils:bm,Serializer:mb,StyleSheetLoader:Xn,ControlSelection:v_,BookmarkManager:vm,Selection:C1,Event:Ka.Event},html:{Styles:Qo,Entities:Ns,Node:Du,Schema:nc,SaxParser:kp,DomParser:db,Writer:tx,Serializer:ed},Env:Te,AddOnManager:fa,Annotator:dn,Formatter:aw,UndoManager:Bp,EditorCommands:lC,WindowManager:Lm,NotificationManager:D1,EditorObservable:cy,Shortcuts:zS,Editor:ly,FocusManager:Y0,EditorManager:ll,DOM:Re.DOM,ScriptLoader:No.ScriptLoader,PluginManager:ru,ThemeManager:nl,IconManager:Ap,Resource:pC,trim:Ct.trim,isArray:Ct.isArray,is:Ct.is,toArray:Ct.toArray,makeMap:Ct.makeMap,each:Ct.each,map:Ct.map,grep:Ct.grep,inArray:Ct.inArray,extend:Ct.extend,create:Ct.create,walk:Ct.walk,createNS:Ct.createNS,resolve:Ct.resolve,explode:Ct.explode,_addCacheSuffix:Ct._addCacheSuffix,isOpera:Te.opera,isWebKit:Te.webkit,isIE:Te.ie,isGecko:Te.gecko,isMac:Te.mac},yC=Ct.extend(ll,QS),Ed=yC;window.tinymce=Ed,window.tinyMCE=Ed,(function(t){if(typeof module=="object")try{module.exports=t}catch{}})(yC)})(),(function(){"use strict";function So(e){return function(o){return u=typeof(i=o),(i===null?"null":u=="object"&&(Array.prototype.isPrototypeOf(i)||i.constructor&&i.constructor.name==="Array")?"array":u=="object"&&(String.prototype.isPrototypeOf(i)||i.constructor&&i.constructor.name==="String")?"string":u)===e;var i,u}}function Oo(e){return function(o){return typeof o===e}}function Ji(e){return function(o){return e===o}}function Po(e){return e==null}function zu(e,o){if(An(e)){for(var i=0,u=e.length;i<u;++i)if(!o(e[i]))return;return 1}}function Xt(){}function $r(e,o){return function(){for(var i=[],u=0;u<arguments.length;u++)i[u]=arguments[u];return e(o.apply(null,i))}}function ot(e){return function(){return e}}function ne(e){return e}function ar(e,o){return e===o}var Tn=So("string"),Jt=So("object"),An=So("array"),za=Ji(null),yi=Oo("boolean"),Ir=Ji(void 0),qr=function(e){return!Po(e)},Dn=Oo("function"),vo=Oo("number");function Nn(e){for(var o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var f=o.concat(u);return e.apply(null,f)}}function Io(e){return function(o){return!e(o)}}function fu(e){return function(){throw new Error(e)}}var Je=ot(!1),nn=ot(!0),Va=tinymce.util.Tools.resolve("tinymce.ThemeManager"),q=function(){return(q=Object.assign||function(e){for(var o,i=1,u=arguments.length;i<u;i++)for(var c in o=arguments[i])Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c]);return e}).apply(this,arguments)};function dr(e,o){var i={};for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&o.indexOf(c)<0&&(i[c]=e[c]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,c=Object.getOwnPropertySymbols(e);u<c.length;u++)o.indexOf(c[u])<0&&Object.prototype.propertyIsEnumerable.call(e,c[u])&&(i[c[u]]=e[c[u]]);return i}function Ge(e,o,i){if(i||arguments.length===2)for(var u,c=0,f=o.length;c<f;c++)!u&&c in o||((u=u||Array.prototype.slice.call(o,0,c))[c]=o[c]);return e.concat(u||Array.prototype.slice.call(o))}function Lr(){return Vu}var Vu={fold:function(e,o){return e()},isSome:Je,isNone:nn,getOr:ne,getOrThunk:Ln,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:ot(null),getOrUndefined:ot(void 0),or:ne,orThunk:Ln,map:Lr,each:Xt,bind:Lr,exists:Je,forall:nn,filter:function(){return Vu},toArray:function(){return[]},toString:ot("none()")};function Ln(e){return e()}function lo(e,o){return ag.call(e,o)}function mr(e,o){for(var i=0,u=e.length;i<u;i++)if(o(e[i],i))return!0;return!1}function Dc(e,o){for(var i=[],u=0;u<e;u++)i.push(o(u));return i}function ju(e,o){for(var i=[],u=0;u<e.length;u+=o){var c=mu.call(e,u,u+o);i.push(c)}return i}function Vt(e,o){for(var i=e.length,u=new Array(i),c=0;c<i;c++){var f=e[c];u[c]=o(f,c)}return u}function Cr(e,o){for(var i=[],u=[],c=0,f=e.length;c<f;c++){var g=e[c];(o(g,c)?i:u).push(g)}return{pass:i,fail:u}}function Ne(e,o){for(var i=[],u=0,c=e.length;u<c;u++){var f=e[u];o(f,u)&&i.push(f)}return i}function gt(e,o,i){return(function(u){for(var c,f=u.length-1;0<=f;f--)c=u[f],i=o(i,c,f)})(e),i}function tr(e,o,i){return Q(e,function(u,c){i=o(i,u,c)}),i}function uo(e,o){return(function(i,u,c){for(var f=0,g=i.length;f<g;f++){var v=i[f];if(u(v,f))return w.some(v);if(c(v,f))break}return w.none()})(e,o,Je)}function We(e,o){for(var i=0,u=e.length;i<u;i++)if(o(e[i],i))return w.some(i);return w.none()}function Jn(e){for(var o=[],i=0,u=e.length;i<u;++i){if(!An(e[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+e);Rd.apply(o,e[i])}return o}function on(e,o){return Jn(Vt(e,o))}function Ko(e,o){for(var i=0,u=e.length;i<u;++i)if(o(e[i],i)!==!0)return!1;return!0}function bo(e){var o=mu.call(e,0);return o.reverse(),o}function Pe(e,o){return Ne(e,function(i){return!Zn(o,i)})}function ja(e,o){for(var i={},u=0,c=e.length;u<c;u++){var f=e[u];i[String(f)]=o(f,u)}return i}function Cs(e){return[e]}function Ua(e,o){var i=mu.call(e,0);return i.sort(o),i}function vl(e,o){return 0<=o&&o<e.length?w.some(e[o]):w.none()}function si(e){return vl(e,0)}function Uu(e){return vl(e,e.length-1)}function eo(e,o){for(var i=0;i<e.length;i++){var u=o(e[i],i);if(u.isSome())return u}return w.none()}function Qn(e,o){for(var i=_t(e),u=0,c=i.length;u<c;u++){var f=i[u];o(e[f],f)}}function ko(e,o){return de(e,function(i,u){return{k:u,v:o(i,u)}})}function yo(e,o){var i=[];return Qn(e,function(u,c){i.push(o(u,c))}),i}function Nc(e,o){for(var i=_t(e),u=0,c=i.length;u<c;u++){var f=i[u],g=e[f];if(o(g,f,e))return w.some(g)}return w.none()}function Wu(e){return yo(e,ne)}function be(e,o){return ht(e,o)?w.from(e[o]):w.none()}function Fr(e,o){return ht(e,o)&&e[o]!==void 0&&e[o]!==null}function no(e,o,i){return i===void 0&&(i=ar),e.exists(function(u){return i(u,o)})}function _r(e){for(var o=[],i=function(c){o.push(c)},u=0;u<e.length;u++)e[u].each(i);return o}function ci(e,o){return e?w.some(o):w.none()}function Js(e,o,i){return o===""||e.length>=o.length&&e.substr(i,i+o.length)===o}function Yo(e,o){return e.indexOf(o)!==-1}function Bc(e){return 0<e.length}function Gr(e){return e.style!==void 0&&Dn(e.style.getPropertyValue)}function Qi(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}}var xi,du=function(e){function o(){return c}function i(f){return f(e)}var u=ot(e),c={fold:function(f,g){return g(e)},isSome:nn,isNone:Je,getOr:u,getOrThunk:u,getOrDie:u,getOrNull:u,getOrUndefined:u,or:o,orThunk:o,map:function(f){return du(f(e))},each:function(f){f(e)},bind:i,exists:i,forall:i,filter:function(f){return f(e)?c:Vu},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return c},w={some:du,none:Lr,from:function(e){return e==null?Vu:du(e)}},mu=Array.prototype.slice,ag=Array.prototype.indexOf,Rd=Array.prototype.push,Zn=function(e,o){return-1<lo(e,o)},Q=function(e,o){for(var i=0,u=e.length;i<u;i++)o(e[i],i)},mt=Dn(Array.from)?Array.from:function(e){return mu.call(e)},_t=Object.keys,Ot=Object.hasOwnProperty,de=function(e,o){var i={};return Qn(e,function(u,c){var f=o(u,c);i[f.k]=f.v}),i},ht=function(e,o){return Ot.call(e,o)},ue=function(e,o,i){return e.isSome()&&o.isSome()?w.some(i(e.getOrDie(),o.getOrDie())):w.none()},ae=function(e,o){return Js(e,o,0)},me=function(e,o){return Js(e,o,e.length-o.length)},ye=(xi=/^\s+|\s+$/g,function(e){return e.replace(xi,"")}),kt={fromHtml:function(e,o){var i=(o||document).createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||1<i.childNodes.length)throw console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Qi(i.childNodes[0])},fromTag:function(e,o){var i=(o||document).createElement(e);return Qi(i)},fromText:function(e,o){var i=(o||document).createTextNode(e);return Qi(i)},fromDom:Qi,fromPoint:function(e,o,i){return w.from(e.dom.elementFromPoint(o,i)).map(Qi)}};function le(e){return e.dom.nodeName.toLowerCase()}function En(e){return function(o){return o.dom.nodeType===e}}function $e(e){var o,i=!1;return function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return i||(i=!0,o=e.apply(null,u)),o}}function Mn(e,o){var i=String(o).toLowerCase();return uo(e,function(u){return u.search(i)})}function pn(e){return function(o){return Yo(o,e)}}function On(e){return window.matchMedia(e).matches}function Co(e,o){var i=e.dom;if(i.nodeType!==1)return!1;var u=i;if(u.matches!==void 0)return u.matches(o);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(o);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(o);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(o);throw new Error("Browser lacks native selectors")}function $n(e){return e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11||e.childElementCount===0}function Be(e,o){return e.dom===o.dom}function ke(e,o){return Ca().browser.isIE()?(i=e.dom,u=o.dom,c=Node.DOCUMENT_POSITION_CONTAINED_BY,(i.compareDocumentPosition(u)&c)!=0):(f=e.dom)!==(g=o.dom)&&f.contains(g);var i,u,c,f,g}function ze(e){return kt.fromDom(e.dom.ownerDocument)}function hn(e){return Fd(e)?e:ze(e)}function qn(e){return kt.fromDom(hn(e).dom.documentElement)}function Gn(e){return kt.fromDom(hn(e).dom.defaultView)}function Xe(e){return w.from(e.dom.parentNode).map(kt.fromDom)}function Eo(e){return w.from(e.dom.offsetParent).map(kt.fromDom)}function Fn(e){return Vt(e.dom.childNodes,kt.fromDom)}function er(e,o){var i=e.dom.childNodes;return w.from(i[o]).map(kt.fromDom)}function wi(e,o){return{element:e,offset:o}}function wa(e,o){var i=Fn(e);return 0<i.length&&o<i.length?wi(i[o],0):wi(e,o)}function Li(e){return Hd(e)&&qr(e.dom.host)}function To(e){return Li(e)?e:kt.fromDom(hn(e).dom.body)}function gu(e){return kt.fromDom(e.dom.host)}function pu(e,o,i){if(!(Tn(i)||yi(i)||vo(i)))throw console.error("Invalid call to Attribute.set. Key ",o,":: Value ",i,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(o,i+"")}function qe(e,o,i){pu(e.dom,o,i)}function Wa(e,o){var i=e.dom;Qn(o,function(u,c){pu(i,c,u)})}function so(e,o){var i=e.dom.getAttribute(o);return i===null?void 0:i}function fo(e,o){return w.from(so(e,o))}function Zi(e,o){var i=e.dom;return!(!i||!i.hasAttribute)&&i.hasAttribute(o)}function Lo(e,o){e.dom.removeAttribute(o)}function $a(e,o,i){if(!Tn(i))throw console.error("Invalid call to CSS.set. Property ",o,":: Value ",i,":: Element ",e),new Error("CSS value must be a string: "+i);Gr(e)&&e.style.setProperty(o,i)}function pf(e,o){Gr(e)&&e.style.removeProperty(o)}function Ie(e,o,i){$a(e.dom,o,i)}function Fo(e,o){var i=e.dom;Qn(o,function(u,c){$a(i,c,u)})}function Rc(e,o){var i=e.dom;Qn(o,function(u,c){u.fold(function(){pf(i,c)},function(f){$a(i,c,f)})})}function Xr(e,o){var i=e.dom,u=window.getComputedStyle(i).getPropertyValue(o);return u!==""||ki(e)?u:Xu(i,o)}function Hn(e,o){var i=e.dom,u=Xu(i,o);return w.from(u).filter(function(c){return 0<c.length})}function Ci(e,o,i){var u=kt.fromTag(e);return Ie(u,o,i),Hn(u,o).isSome()}function vn(e,o){pf(e.dom,o),no(fo(e,"style").map(ye),"")&&Lo(e,"style")}function Kr(e){return e.dom.offsetWidth}function bl(e,o){function i(c){var f=o(c);if(f<=0||f===null){var g=Xr(c,e);return parseFloat(g)||0}return f}function u(c,f){return tr(f,function(g,v){var b=Xr(c,v),C=b===void 0?0:parseInt(b,10);return isNaN(C)?g:g+C},0)}return{set:function(c,f){if(!vo(f)&&!f.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+f);var g=c.dom;Gr(g)&&(g.style[e]=f+"px")},get:i,getOuter:i,aggregate:u,max:function(c,f,g){var v=u(c,g);return v<f?f-v:0}}}function ur(e){return cg.get(e)}function Te(e){return cg.getOuter(e)}function yl(e,o){return e!==void 0?e:o!==void 0?o:0}function li(e){var o=e.dom.ownerDocument,i=o.body,u=o.defaultView,c=o.documentElement;if(i===e.dom)return xo(i.offsetLeft,i.offsetTop);var f=yl(u?.pageYOffset,c.scrollTop),g=yl(u?.pageXOffset,c.scrollLeft),v=yl(c.clientTop,i.clientTop),b=yl(c.clientLeft,i.clientLeft);return Ud(e).translate(g-b,f-v)}function Ct(e){return wf.get(e)}function lt(e){return wf.getOuter(e)}function Ho(e){function o(){return e.stopPropagation()}function i(){return e.preventDefault()}var u=$r(i,o);return{target:kt.fromDom((function(c){if(Vd()&&qr(c.target)){var f=kt.fromDom(c.target);if(Fi(f)&&Zs(f)&&c.composed&&c.composedPath){var g=c.composedPath();if(g)return si(g)}}return w.from(c.target)})(e).getOr(e.target)),x:e.clientX,y:e.clientY,stop:o,prevent:i,kill:u,raw:e}}function Mc(e,o,i,u,c){var f,g,v=(f=i,g=u,function(b){f(b)&&g(Ho(b))});return e.dom.addEventListener(o,v,c),{unbind:Nn(Th,e,o,v,c)}}function hu(e,o){Xe(e).each(function(i){i.dom.insertBefore(o.dom,e.dom)})}function hf(e,o){w.from(e.dom.nextSibling).map(kt.fromDom).fold(function(){Xe(e).each(function(i){Ao(i,o)})},function(i){hu(i,o)})}function _s(e,o){er(e,0).fold(function(){Ao(e,o)},function(i){e.dom.insertBefore(o.dom,i.dom)})}function Pc(e,o){Q(o,function(i){Ao(e,i)})}function _i(e){e.dom.textContent="",Q(Fn(e),function(o){nr(o)})}function $u(e){var o,i=Fn(e);0<i.length&&(o=e,Q(i,function(u){hu(o,u)})),nr(e)}function gr(e){var o=e!==void 0?e.dom:document,i=o.body.scrollLeft||o.documentElement.scrollLeft,u=o.body.scrollTop||o.documentElement.scrollTop;return xo(i,u)}function Ic(e,o,i){var u=(i!==void 0?i.dom:document).defaultView;u&&u.scrollTo(e,o)}function vf(e,o,i,u){return{x:e,y:o,width:i,height:u,right:e+i,bottom:o+u}}function Si(e){var o=e===void 0?window:e,i=o.document,u=gr(kt.fromDom(i)),c=o===void 0?window:o;return(Ca().browser.isFirefox()?w.none():w.from(c.visualViewport)).fold(function(){var f=o.document.documentElement,g=f.clientWidth,v=f.clientHeight;return vf(u.left,u.top,g,v)},function(f){return vf(Math.max(f.pageLeft,u.left),Math.max(f.pageTop,u.top),f.width,f.height)})}function Md(e){var o,i=gr(kt.fromDom(document)),u=(o=Dy).owner(e),c=Cf(o,u);return w.some(c).fold(Nn(li,e),function(f){var g=Ud(e),v=gt(f,function(b,C){var S=Ud(C);return{left:b.left+S.left,top:b.top+S.top}},{left:0,top:0});return xo(v.left+g.left+i.left,v.top+g.top+i.top)})}function Ss(e){var o=Md(e),i=lt(e),u=Te(e);return mo(o.left,o.top,i,u)}typeof window<"u"||Function("return this;")();function Pd(){return bf(0,0)}function Id(e){function o(c){return function(){return i===c}}var i=e.current,u=e.version;return{current:i,version:u,isEdge:o("Edge"),isChrome:o("Chrome"),isIE:o("IE"),isOpera:o("Opera"),isFirefox:o(ks),isSafari:o("Safari")}}function Ld(e){function o(c){return function(){return i===c}}var i=e.current,u=e.version;return{current:i,version:u,isWindows:o(xl),isiOS:o("iOS"),isAndroid:o(wl),isOSX:o("OSX"),isLinux:o("Linux"),isSolaris:o(ea),isFreeBSD:o(Cl),isChromeOS:o(zd)}}var vu,ta,Fi=En(1),Qs=En(3),Fd=En(9),Hd=En(11),bf=function(e,o){return{major:e,minor:o}},qu={nu:bf,detect:function(e,o){var i,u,c=String(o).toLowerCase();return e.length===0?Pd():(u=(function(g,v){for(var b=0;b<g.length;b++){var C=g[b];if(C.test(v))return C}})(e,i=c))?bf(f(1),f(2)):{major:0,minor:0};function f(g){return Number(i.replace(u,"$"+g))}},unknown:Pd},yf=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ug={browsers:ot([{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Yo(e,"edge/")&&Yo(e,"chrome")&&Yo(e,"safari")&&Yo(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,yf],search:function(e){return Yo(e,"chrome")&&!Yo(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Yo(e,"msie")||Yo(e,"trident")}},{name:"Opera",versionRegexes:[yf,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:pn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:pn("firefox")},{name:"Safari",versionRegexes:[yf,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Yo(e,"safari")||Yo(e,"mobile/"))&&Yo(e,"applewebkit")}}]),oses:ot([{name:"Windows",search:pn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Yo(e,"iphone")||Yo(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:pn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:pn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:pn("linux"),versionRegexes:[]},{name:"Solaris",search:pn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:pn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:pn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}])},ks="Firefox",Gu=function(){return Id({current:void 0,version:qu.unknown()})},sg=Id,xl=(ot("Edge"),ot("Chrome"),ot("IE"),ot("Opera"),ot(ks),ot("Safari"),"Windows"),wl="Android",ea="Solaris",Cl="FreeBSD",zd="ChromeOS",Lc=function(){return Ld({current:void 0,version:qu.unknown()})},_l=Ld,Ca=(ot(xl),ot("iOS"),ot(wl),ot("Linux"),ot("OSX"),ot(ea),ot(Cl),ot(zd),$e(function(){return e=navigator.userAgent,o=w.from(navigator.userAgentData),i=On,I=ug.browsers(),F=ug.oses(),z=o.bind(function(M){return j=I,eo(M.brands,function(K){var J=K.brand.toLowerCase();return uo(j,function(pt){var ut;return J===((ut=pt.brand)===null||ut===void 0?void 0:ut.toLowerCase())}).map(function(pt){return{current:pt.name,version:qu.nu(parseInt(K.version,10),0)}})});var j}).orThunk(function(){return Mn(I,M=e).map(function(j){var K=qu.detect(j.versionRegexes,M);return{current:j.name,version:K}});var M}).fold(Gu,sg),U=Mn(F,u=e).map(function(M){var j=qu.detect(M.versionRegexes,u);return{current:M.name,version:j}}).fold(Lc,_l),{browser:z,os:U,deviceType:(f=z,g=e,v=i,b=(c=U).isiOS()&&/ipad/i.test(g)===!0,C=c.isiOS()&&!b,O=(S=c.isiOS()||c.isAndroid())||v("(pointer:coarse)"),D=b||!C&&S&&v("(min-device-width:768px)"),R=C||S&&!D,L=f.isSafari()&&c.isiOS()&&/safari/i.test(g)===!1,{isiPad:ot(b),isiPhone:ot(C),isTablet:ot(D),isPhone:ot(R),isTouch:ot(O),isAndroid:c.isAndroid,isiOS:c.isiOS,isWebView:ot(L),isDesktop:ot(!R&&!D&&!L)})};var e,o,i,u,c,f,g,v,b,C,S,O,D,R,L,I,F,z,U})),xf=Xe,fi=Dn(Element.prototype.attachShadow)&&Dn(Node.prototype.getRootNode),Vd=ot(fi),_a=fi?function(e){return kt.fromDom(e.dom.getRootNode())}:hn,bu=function(e){var o=_a(e);return Li(o)?w.some(o):w.none()},Zs=function(e){return qr(e.dom.shadowRoot)},ki=function(e){var o=Qs(e)?e.dom.parentNode:e.dom;if(o==null||o.ownerDocument===null)return!1;var i,u,c=o.ownerDocument;return bu(kt.fromDom(o)).fold(function(){return c.body.contains(o)},(i=ki,u=gu,function(f){return i(u(f))}))},Yr=function(){return jd(kt.fromDom(document))},jd=function(e){var o=e.dom.body;if(o==null)throw new Error("Body is not available yet");return kt.fromDom(o)},Xu=function(e,o){return Gr(e)?e.style.getPropertyValue(o):""},cg=bl("height",function(e){var o=e.dom;return ki(e)?o.getBoundingClientRect().height:o.offsetHeight}),Ku=function(e,o){return{left:e,top:o,translate:function(i,u){return Ku(e+i,o+u)}}},xo=Ku,Ud=function(e){var o,i=e.dom,u=i.ownerDocument.body;return u===i?xo(u.offsetLeft,u.offsetTop):ki(e)?(o=i.getBoundingClientRect(),xo(o.left,o.top)):xo(0,0)},wf=bl("width",function(e){return e.dom.offsetWidth}),Th=function(e,o,i,u){e.dom.removeEventListener(o,i,u)},Ao=function(e,o){e.dom.appendChild(o.dom)},nr=function(e){var o=e.dom;o.parentNode!==null&&o.parentNode.removeChild(o)},Cf=function(e,o){return e.view(o).fold(ot([]),function(i){var u=e.owner(i),c=Cf(e,u);return[i].concat(c)})},Dy=Object.freeze({__proto__:null,view:function(e){var o;return(e.dom===document?w.none():w.from((o=e.dom.defaultView)===null||o===void 0?void 0:o.frameElement)).map(kt.fromDom)},owner:ze}),mo=function(e,o,i,u){return{x:e,y:o,width:i,height:u,right:e+i,bottom:o+u}},di=function(e){var o=li(e),i=lt(e),u=Te(e);return mo(o.left,o.top,i,u)},na=function(){return Si(window)},oa=function(e){return{isValue:nn,isError:Je,getOr:ot(e),getOrThunk:ot(e),getOrDie:ot(e),or:function(o){return oa(e)},orThunk:function(o){return oa(e)},fold:function(o,i){return i(e)},map:function(o){return oa(o(e))},mapError:function(o){return oa(e)},each:function(o){o(e)},bind:function(o){return o(e)},exists:function(o){return o(e)},forall:function(o){return o(e)},toOptional:function(){return w.some(e)}}},Jo=function(e){return{isValue:Je,isError:nn,getOr:ne,getOrThunk:function(o){return o()},getOrDie:function(){return fu(String(e))()},or:ne,orThunk:function(o){return o()},fold:function(o,i){return o(e)},map:function(o){return Jo(e)},mapError:function(o){return Jo(o(e))},each:Xt,bind:function(o){return Jo(e)},exists:Je,forall:nn,toOptional:w.none}},Ee={value:oa,error:Jo,fromOption:function(e,o){return e.fold(function(){return Jo(o)},oa)}};function Fc(e,o,i){return e.stype===vu.Error?o(e.serror):i(e.svalue)}function lg(e){return{stype:vu.Value,svalue:e}}function Sa(e){return{stype:vu.Error,serror:e}}function Wd(e,o,i,u){return{tag:"field",key:e,newKey:o,presence:i,prop:u}}function Ae(e,o,i){switch(e.tag){case"field":return o(e.key,e.newKey,e.presence,e.prop);case"custom":return i(e.newKey,e.instantiator)}}function $d(e){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(o.length===0)throw new Error("Can't merge zero objects");for(var u={},c=0;c<o.length;c++){var f,g=o[c];for(f in g)ht(g,f)&&(u[f]=e(u[f],g[f]))}return u}}function oe(){return{tag:"required",process:{}}}function Es(e){return{tag:"defaultedThunk",process:e}}function tc(e){return Es(ot(e))}function _f(){return{tag:"option",process:{}}}function Do(e){return{tag:"mergeWithThunk",process:e}}function fg(e){return Jt(e)&&100<_t(e).length?" removed due to size":JSON.stringify(e,null,2)}function Hr(e,o){return st([{path:e,getErrorInfo:o}])}function Un(e){return{extract:function(o,i){return W(e(i),function(u){return Hr(o,ot(u))})},toString:ot("val")}}function Sl(e,o,i,u){return u(be(e,o).getOrThunk(function(){return i(e)}))}function qa(e,o,i,u,c){function f(R){return c.extract(o.concat([u]),R)}function g(R){return R.fold(function(){return Oa(w.none())},function(L){var I=c.extract(o.concat([u]),L);return ct(I,w.some)})}var v,b,C,S,O,D;switch(e.tag){case"required":return C=o,D=f,be(S=i,O=u).fold(function(){return R=O,L=S,Hr(C,function(){return'Could not find valid *required* value for "'+R+'" in '+fg(L)});var R,L},D);case"defaultedThunk":return Sl(i,u,e.process,f);case"option":return g(be(i,u));case"defaultedOptionThunk":return b=e.process,g(be(v=i,u).map(function(R){return R===!0?b(v):R}));case"mergeWithThunk":return Sl(i,u,ot({}),function(R){return f(ee(e.process(i),R))})}}function dg(e){return{extract:function(o,i){return e().extract(o,i)},toString:function(){return e().toString()}}}function ra(e){var o=ce(e),i=gt(e,function(u,c){return Ae(c,function(f){var g;return ee(u,((g={})[f]=!0,g))},ot(u))},{});return{extract:function(u,c){var f,g,v,b,C,S,O=Ne(yi(c)?[]:_t((v=qr,b=g={},C=function(D,R){b[R]=D},S=Xt,Qn(c,function(D,R){(v(D,R)?C:S)(D,R)}),g)),function(D){return!Fr(i,D)});return O.length===0?o.extract(u,c):(f=O,Hr(u,function(){return"There are unsupported fields: ["+f.join(", ")+"] specified"}))},toString:o.toString}}function ka(e){return{extract:function(o,i){var u=Vt(i,function(c,f){return e.extract(o.concat(["["+f+"]"]),c)});return Uo(u)},toString:function(){return"array("+e.toString()+")"}}}function Yu(e){return{extract:function(o,i){for(var u=[],c=0,f=e;c<f.length;c++){var g=f[c].extract(o,i);if(g.stype===vu.Value)return g;u.push(g)}return Uo(u)},toString:function(){return"oneOf("+Vt(e,function(o){return o.toString()}).join(", ")+")"}}}function qd(e,o){return Un(function(i){var u=typeof i;return e(i)?Oa(i):st("Expected type: "+o+" but got: "+u)})}function Sf(e,o){return{extract:function(i,u){return be(u,e).fold(function(){return c=e,Hr(i,function(){return'Choice schema did not contain choice key: "'+c+'"'});var c},function(c){return f=i,g=u,be(v=o,b=c).fold(function(){return C=v,S=b,Hr(f,function(){return'The chosen schema: "'+S+'" did not exist in branches: '+fg(C)});var C,S},function(C){return C.extract(f.concat(["branch: "+b]),g)});var f,g,v,b})},toString:function(){return"chooseOn("+e+"). Possible values: "+_t(o)}}}function Ga(e){return Un(function(o){return e(o).fold(st,Oa)})}function mg(e,o){return i=function(c){return e(c).fold(Sa,lg)},u=o,{extract:function(c,f){var g=_t(f),v=ka(Un(i)).extract(c,g);return k(v,function(b){var C=Vt(b,function(S){return Wd(S,S,oe(),u)});return ce(C).extract(c,f)})},toString:function(){return"setOf("+u.toString()+")"}};var i,u}function go(e,o,i){return Ah((c=o.extract([e],u=i),$t(c,function(f){return{input:u,errors:f}})));var u,c}function Ju(e){return e.fold(function(o){throw new Error(sa(o))},ne)}function Sr(e,o,i){return Ju(go(e,o,i))}function Jr(e,o){return Sf(e,ko(o,ce))}function Hc(e){return Ga(function(o){return Zn(e,o)?Ee.value(o):Ee.error('Unsupported value: "'+o+'", choose one of "'+e.join(", ")+'".')})}function Bt(e){return Qo(e,e,oe(),kr())}function mi(e,o){return Qo(e,e,oe(),o)}function _e(e){return mi(e,sn)}function Os(e,o){return Qo(e,e,oe(),Hc(o))}function zo(e){return mi(e,ec)}function Xa(e,o){return Qo(e,e,oe(),ce(o))}function zc(e,o){return Qo(e,e,oe(),ua(o))}function Ei(e,o){return Qo(e,e,oe(),ka(o))}function bn(e){return Qo(e,e,_f(),kr())}function Qu(e,o){return Qo(e,e,_f(),o)}function kf(e){return Qu(e,Ta)}function Xn(e){return Qu(e,sn)}function Ea(e){return Qu(e,ec)}function yu(e,o){return Qu(e,ka(o))}function ia(e,o){return Qu(e,ce(o))}function rt(e,o){return Qo(e,e,tc(o),kr())}function wo(e,o,i){return Qo(e,e,tc(o),i)}function Gd(e,o){return wo(e,o,Ta)}function Vo(e,o){return wo(e,o,sn)}function aa(e,o,i){return wo(e,o,Hc(i))}function po(e,o){return wo(e,o,Hi)}function co(e,o){return wo(e,o,ec)}function Zu(e,o,i){return wo(e,o,ka(i))}function xu(e,o,i){return wo(e,o,ce(i))}function ge(e){var o=e;return{get:function(){return o},set:function(i){o=i}}}(ta=vu={})[ta.Error=0]="Error",ta[ta.Value=1]="Value";function jo(e){if(!An(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var o=[],i={};return Q(e,function(u,c){var f=_t(u);if(f.length!==1)throw new Error("one and only one name per case");var g=f[0],v=u[g];if(i[g]!==void 0)throw new Error("duplicate key detected:"+g);if(g==="cata")throw new Error("cannot have a case named cata (sorry)");if(!An(v))throw new Error("case arguments must be an array");o.push(g),i[g]=function(){for(var b=[],C=0;C<arguments.length;C++)b[C]=arguments[C];var S=b.length;if(S!==v.length)throw new Error("Wrong number of arguments to case "+g+". Expected "+v.length+" ("+v+"), got "+S);return{fold:function(){for(var O=[],D=0;D<arguments.length;D++)O[D]=arguments[D];if(O.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+O.length);return O[c].apply(null,b)},match:function(O){var D=_t(O);if(o.length!==D.length)throw new Error("Wrong number of arguments to match. Expected: "+o.join(",")+`
Actual: `+D.join(","));if(!Ko(o,function(R){return Zn(D,R)}))throw new Error("Not all branches were specified when using match. Specified: "+D.join(", ")+`
Required: `+o.join(", "));return O[g].apply(null,b)},log:function(O){console.log(O,{constructors:o,constructor:g,params:b})}}}}),i}var Ah=function(e){return Fc(e,Ee.error,Ee.value)},Oa=lg,st=Sa,k=function(e,o){return e.stype===vu.Value?o(e.svalue):e},W=function(e,o){return e.stype===vu.Error?o(e.serror):e},ct=function(e,o){return e.stype===vu.Value?{stype:vu.Value,svalue:o(e.svalue)}:e},$t=function(e,o){return e.stype===vu.Error?{stype:vu.Error,serror:o(e.serror)}:e},se=Fc,ee=$d(function(e,o){return Jt(e)&&Jt(o)?ee(e,o):o}),Qe=$d(function(e,o){return o}),Uo=function(e){var o,i,u=(o=[],i=[],Q(e,function(c){Fc(c,function(f){return i.push(f)},function(f){return o.push(f)})}),{values:o,errors:i});return 0<u.errors.length?$r(st,Jn)(u.errors):Oa(u.values)},Oi=Un(Oa),ce=function(e){return{extract:function(o,i){for(var u={},c=[],f=0,g=e;f<g.length;f++)Ae(g[f],function(v,b,C,S){var O=qa(C,o,i,v,S);se(O,function(D){c.push.apply(c,D)},function(D){u[b]=D})},function(v,b){u[v]=b(i)});return 0<c.length?st(c):Oa(u)},toString:function(){return`obj{
`+Vt(e,function(o){return Ae(o,function(i,u,c,f){return i+" -> "+f.toString()},function(i,u){return"state("+i+")"})}).join(`
`)+"}"}}},ua=$r(ka,ce),kr=ot(Oi),Ta=qd(vo,"number"),sn=qd(Tn,"string"),Hi=qd(yi,"boolean"),ec=qd(Dn,"function"),Vc=function(e){if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(function(o){return Vc(e[o])});default:return!1}},nc=Un(function(e){return Vc(e)?Oa(e):st("Expected value to be acceptable for sending via postMessage")}),sa=function(e){return`Errors: 
`+Vt(10<(o=e.errors).length?o.slice(0,10).concat([{path:[],getErrorInfo:ot("... (only showing first ten failures)")}]):o,function(i){return"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo()}).join(`
`)+`

Input object: `+fg(e.input);var o},Qo=Wd,Ti=function(e,o){return{tag:"custom",newKey:e,instantiator:o}};function oc(e,o){return(i={})[e]=o,i;var i}function kl(e){return o={},Q(e,function(i){o[i.key]=i.value}),o;var o}function gg(e){return Dn(e)?e:Je}function Ef(e,o,i){for(var u=e.dom,c=gg(i);u.parentNode;){var u=u.parentNode,f=kt.fromDom(u),g=o(f);if(g.isSome())return g;if(c(f))break}return w.none()}function Ny(e,o,i){var u=o(e),c=gg(i);return u.orThunk(function(){return c(e)?w.none():Ef(e,o,c)})}function Ts(e,o){return Be(e.element,o.event.target)}function Of(e){if(!Fr(e,"can")&&!Fr(e,"abort")&&!Fr(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return q(q({},Sk),e)}function Wo(e){return ot("alloy."+e)}function fn(e,o){nm(e,e.element,o,{})}function we(e,o,i){nm(e,e.element,o,i)}function rc(e){fn(e,Na())}function Xd(e,o,i){nm(e,o,i,{})}function Dh(e,o,i,u){e.getSystem().triggerEvent(i,o,u.event)}function Aa(e,o){return{key:e,value:Of({abort:o})}}function Qr(e){return{key:e,value:Of({run:function(o,i){i.event.prevent()}})}}function Rt(e,o){return{key:e,value:Of({run:o})}}function Da(e,o,i){return{key:e,value:Of({run:function(u,c){o.apply(void 0,[u,c].concat(i))}})}}function Nh(e){return function(o){return{key:e,value:Of({run:function(i,u){Ts(i,u)&&o(i,u)}})}}}function As(e,o,i){var u,c=o.partUids[i];return Rt(u=e,function(f,g){f.getSystem().getByUid(c).each(function(v){Dh(v,v.element,u,g)})})}function Kd(e,o){return Rt(e,function(i,u){var c=u.event,f=i.getSystem().getByDom(c.target).getOrThunk(function(){return Ny(c.target,function(g){return i.getSystem().getByDom(g).toOptional()},Je).getOr(i)});o(i,f,u)})}function ic(e){return Rt(e,function(o,i){i.cut()})}function Tf(e,o){return Nh(e)(o)}function By(e){return e.dom.innerHTML}function pg(e,o){var i,u,c=ze(e).dom,f=kt.fromDom(c.createDocumentFragment());Pc(f,(i=o,(u=(c||document).createElement("div")).innerHTML=i,Fn(kt.fromDom(u)))),_i(e),Ao(e,f)}function El(e){if(Li(e))return"#shadow-root";var o=kt.fromDom(e.dom.cloneNode(!1)),i=kt.fromTag("div"),u=kt.fromDom(o.dom.cloneNode(!0));return Ao(i,u),By(i)}function fe(e){var o=new Date().getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++to+String(o)}function Yd(e){var o=Fi(e)?e.dom[Nl]:null;return w.from(o)}function Bh(e){function o(c){return"The component must be in a context to execute: "+c+(e?`
`+El(e().element)+" is not in context.":"")}function i(c){return function(){throw new Error(o(c))}}function u(c){return function(){console.warn(o(c))}}return{debugInfo:ot("fake"),triggerEvent:u("triggerEvent"),triggerFocus:u("triggerFocus"),triggerEscape:u("triggerEscape"),broadcast:u("broadcast"),broadcastOn:u("broadcastOn"),broadcastEvent:u("broadcastEvent"),build:i("build"),addToWorld:i("addToWorld"),removeFromWorld:i("removeFromWorld"),addToGui:i("addToGui"),removeFromGui:i("removeFromGui"),getByUid:i("getByUid"),getByDom:i("getByDom"),isConnected:Je}}function Ry(e,o){var i=e.toString(),u=i.indexOf(")")+1,c=i.indexOf("("),f=i.substring(c+1,u-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:o,parameters:yg(f)}},e}function Rh(e){return oc(xg,e)}function Mh(e){return o=function(g){for(var v=[],b=1;b<arguments.length;b++)v[b-1]=arguments[b];return e.apply(void 0,Ge([g.getApis(),g],v,!1))},u=(i=e.toString()).indexOf(")")+1,c=i.indexOf("("),f=i.substring(c+1,u-1).split(/,\s*/),o.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:yg(f.slice(1))}},o;var o,i,u,c,f}function BC(e,o){var i={};return Qn(e,function(u,c){Qn(u,function(f,g){var v=be(i,g).getOr([]);i[g]=v.concat([o(c,f)])})}),i}function Ds(e){return{classes:Ir(e.classes)?[]:e.classes,attributes:Ir(e.attributes)?{}:e.attributes,styles:Ir(e.styles)?{}:e.styles}}function My(e){return e.cHandler}function Py(e,o){return{name:e,handler:o}}function Ck(e,o,i){var u=o[i];return u?(function(c,f,g){try{var v=Ua(f,function(b,C){var S=b.name,O=C.name,D=g.indexOf(S),R=g.indexOf(O);if(D===-1)throw new Error("The ordering for "+c+" does not have an entry for "+S+`.
Order specified: `+JSON.stringify(g,null,2));if(R===-1)throw new Error("The ordering for "+c+" does not have an entry for "+O+`.
Order specified: `+JSON.stringify(g,null,2));return D<R?-1:R<D?1:0});return Ee.value(v)}catch(b){return Ee.error([b])}})("Event: "+i,e,u).map(function(c){var f,g,v,b,C=Vt(c,function(S){return S.handler});return{can:function(){for(var S=[],O=0;O<arguments.length;O++)S[O]=arguments[O];return tr(g,function(D,R){return D&&R.can.apply(void 0,S)},!0)},abort:(v=g=f=C,b=function(S){return S.abort},function(){for(var S=[],O=0;O<arguments.length;O++)S[O]=arguments[O];return tr(v,function(D,R){return D||b(R).apply(void 0,S)},!1)}),run:function(){for(var S=[],O=0;O<arguments.length;O++)S[O]=arguments[O];Q(f,function(D){D.run.apply(void 0,S)})}}}):Ee.error(["The event ("+i+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(Vt(e,function(c){return c.name}),null,2)])}function Jd(e,o){var i=so(e,o);return i===void 0||i===""?[]:i.split(" ")}function Af(e){return e.dom.classList!==void 0}function zr(e,o){var i,u,c;Af(e)?e.dom.classList.add(o):(u=o,c=Jd(i=e,"class").concat([u]),qe(i,"class",c.join(" ")))}function sr(e,o){var i,u,c,f;Af(e)?e.dom.classList.remove(o):(c=o,0<(f=Ne(Jd(u=e,"class"),function(g){return g!==c})).length?qe(u,"class",f.join(" ")):Lo(u,"class")),(Af(i=e)?i.dom.classList:Jd(i,"class")).length===0&&Lo(i,"class")}function wu(e,o){return Af(e)&&e.dom.classList.contains(o)}function Cu(e,o){Q(o,function(i){zr(e,i)})}function ac(e,o){Q(o,function(i){sr(e,i)})}function jc(e){return e.dom.value}function Ns(e,o){if(o===void 0)throw new Error("Value.set was undefined");e.dom.value=o}function Df(e){var o,i,u,c,f=(o=be(e,"behaviours").getOr({}),on(_t(o),function(g){var v=o[g];return qr(v)?[v.me]:[]}));return i=e,c=Vt(u=f,function(g){return ia(g.name(),[Bt("config"),rt("state",Ba)])}),{list:u,data:ko(go("component.behaviours",ce(c),i.behaviours).fold(function(g){throw new Error(sa(g)+`
Complete spec:
`+JSON.stringify(i,null,2))},ne),function(g){return ot(g.map(function(v){return{config:v.config,state:v.state.init(v.config)}}))})}}function _k(e,o,i){var u,c,f=q(q({},(u=e).dom),{uid:u.uid,domChildren:Vt(u.components,function(b){return b.element})}),g=e.domModification.fold(function(){return Ds({})},Ds),v=0<o.length?(function(b,C,S,O){var D=q({},C);function R(I){return gt(I,function(F,z){return q(q({},z.modification),F)},{})}Q(S,function(I){D[I.name()]=I.exhibit(b,O)});var L=BC(D,function(I,F){return{name:I,modification:F}});return Ds({classes:gt(L.classes,function(I,F){return F.modification.concat(I)},[]),attributes:R(L.attributes),styles:R(L.styles)})})(i,{"alloy.base.modification":g},o,f):g;return q(q({},c=f),{attributes:q(q({},c.attributes),v.attributes),styles:q(q({},c.styles),v.styles),classes:c.classes.concat(v.classes)})}function Qd(e,o,i){var u,c,f,g,v,b={"alloy.base.behaviour":e.events},C=e.eventOrder;return c=i,f=o,u=BC(q(q({},b),(g=c,v={},Q(f,function(S){v[S.name()]=S.handlers(g)}),v)),Py),LC(u,C).getOrDie()}function Ai(e){var o,i,u,c,f,g,v,b,C,S,O=Vh(e),D=O.events,R=dr(O,["events"]),L=Vt(be(R,"components").getOr([]),or),I=q(q({},R),{events:q(q({},Dl),D),components:L});return Ee.value((i=ge(jy),u=Ju(go("custom.definition",FC,o=I)),c=Df(o),f=c.list,g=c.data,v=(function(z){var U=kt.fromTag(z.tag);Wa(U,z.attributes),Cu(U,z.classes),Fo(U,z.styles),z.innerHtml.each(function(j){return pg(U,j)});var M=z.domChildren;return Pc(U,M),z.value.each(function(j){Ns(U,j)}),z.uid,bg(U,z.uid),U})(_k(u,f,g)),b=Qd(u,f,g),C=ge(u.components),S={uid:o.uid,getSystem:i.get,config:function(z){var U=g;return(Dn(U[z.name()])?U[z.name()]:function(){throw new Error("Could not find "+z.name()+" in "+JSON.stringify(o,null,2))})()},hasConfigured:function(z){return Dn(g[z.name()])},spec:o,readState:function(z){return g[z]().map(function(U){return U.state.readState()}).getOr("not enabled")},getApis:function(){return u.apis},connect:function(z){i.set(z)},disconnect:function(){i.set(Bh(F))},element:v,syncComponents:function(){var z=on(Fn(v),function(U){return i.get().getByDom(U).fold(function(){return[]},Cs)});C.set(z)},components:C.get,events:b}));function F(){return S}}function Uc(e){var o=kt.fromText(e);return Ra({element:o})}jo([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Iy,uc,Sk={can:nn,abort:Je,run:Xt},Zr=ot,Ka=Zr("touchstart"),Ya=Zr("touchmove"),ts=Zr("touchend"),Vr=Zr("touchcancel"),Bn=Zr("mousedown"),Nf=Zr("mousemove"),Ph=Zr("mouseout"),Bf=Zr("mouseup"),sc=Zr("mouseover"),Wc=Zr("focusin"),Ih=Zr("focusout"),Bs=Zr("keydown"),Zd=Zr("keyup"),_u=Zr("input"),zi=Zr("change"),Ol=Zr("click"),cc=Zr("transitioncancel"),es=Zr("transitionend"),tm=Zr("transitionstart"),hg=Zr("selectstart"),Di={tap:Wo("tap")},Ni=Wo("focus"),ns=Wo("blur.post"),Ly=Wo("paste.post"),Tl=Wo("receive"),Na=Wo("execute"),em=Wo("focus.item"),Rf=Di.tap,Lh=Wo("longpress"),Fh=Wo("sandbox.close"),lc=Wo("typeahead.cancel"),Hh=Wo("system.init"),kk=Wo("system.touchmove"),Al=Wo("system.touchend"),zh=Wo("system.scroll"),fc=Wo("system.resize"),_o=Wo("system.attached"),Rs=Wo("system.detached"),Mf=Wo("system.dismissRequested"),Fy=Wo("system.repositionRequested"),vg=Wo("focusmanager.shifted"),Hy=Wo("slotcontainer.visibility"),RC=Wo("change.tab"),MC=Wo("dismiss.tab"),PC=Wo("highlight"),zy=Wo("dehighlight"),nm=function(e,o,i,u){var c=q({target:o},u);e.getSystem().triggerEvent(i,o,c)},oo=kl,$o=Nh(_o()),os=Nh(Rs()),Ek=Nh(Hh()),Ms=(Iy=Na(),function(e){return Rt(Iy,e)}),Ok=oo([{key:Ni(),value:Of({can:function(e,o){var i,u=o.event,c=u.originator,f=u.target;return!(Be(i=c,e.element)&&!Be(i,f)&&(console.warn(Ni()+` did not get interpreted by the desired target. 
Originator: `+El(c)+`
Target: `+El(f)+`
Check the `+Ni()+" event handlers"),1))}})}]),Dl=Object.freeze({__proto__:null,events:Ok}),to=0,Vy=ot("alloy-id-"),Ps=ot("data-alloy-id"),IC=Vy(),Nl=Ps(),bg=function(e,o){Object.defineProperty(e.dom,Nl,{value:o,writable:!0})},Pf=fe,Vh=ne,jy=Bh(),yg=function(e){return Vt(e,function(o){return me(o,"/*")?o.substring(0,o.length-2):o})},xg=fe("alloy-premade"),Ba={init:function(){return ca({readState:ot("No State required")})}},ca=function(e){return e},LC=function(e,o){var i,u,c,f,g,v,b=yo(e,function(C,S){return(C.length===1?Ee.value(C[0].handler):Ck(C,o,S)).map(function(O){var D,R,L=(R=Dn(D=O)?{can:nn,abort:Je,run:D}:D,function(F,z){for(var U=[],M=2;M<arguments.length;M++)U[M-2]=arguments[M];var j=[F,z].concat(U);R.abort.apply(void 0,j)?z.stop():R.can.apply(void 0,j)&&R.run.apply(void 0,j)}),I=1<C.length?Ne(o[S],function(F){return mr(C,function(z){return z.name===F})}).join(" > "):C[0].name;return oc(S,{handler:L,purpose:I})})});return i={},u=[],c=[],Q(b,function(C){C.fold(function(S){u.push(S)},function(S){c.push(S)})}),0<(v={errors:u,values:c}).errors.length?Ee.error(Jn(v.errors)):(g=i,(f=v.values).length===0?Ee.value(g):Ee.value(ee(g,Qe.apply(void 0,f))))},Bl="alloy.base.behaviour",FC=ce([Qo("dom","dom",oe(),ce([Bt("tag"),rt("styles",{}),rt("classes",[]),rt("attributes",{}),bn("value"),bn("innerHtml")])),Bt("components"),Bt("uid"),rt("events",{}),rt("apis",{}),Qo("eventOrder","eventOrder",((uc={})[Na()]=["disabling",Bl,"toggling","typeaheadevents"],uc[Ni()]=[Bl,"focusing","keying"],uc[Hh()]=[Bl,"disabling","toggling","representing"],uc[_u()]=[Bl,"representing","streaming","invalidating"],uc[Rs()]=[Bl,"representing","item-events","tooltipping"],uc[Bn()]=["focusing",Bl,"item-type-events"],uc[Ka()]=["focusing",Bl,"item-type-events"],uc[sc()]=["item-type-events","tooltipping"],uc[Tl()]=["receiving","reflecting","tooltipping"],Do(ot(uc))),kr()),bn("domModification")]),Ra=function(e){var o=Sr("external.component",ra([Bt("element"),bn("uid")]),e),i=ge(Bh()),u=o.uid.getOrThunk(function(){return Pf("external")});bg(o.element,u);var c={uid:u,getSystem:i.get,config:w.none,hasConfigured:Je,connect:function(f){i.set(f)},disconnect:function(){i.set(Bh(function(){return c}))},getApis:function(){return{}},element:o.element,spec:e,readState:ot("No state"),syncComponents:Xt,components:ot([]),events:{}};return Rh(c)},HC=Pf,or=function(e){return be(e,xg).getOrThunk(function(){return Ai(ht(e,"uid")?e:q({uid:HC("")},e)).getOrDie()})},Ja=Rh;function Uy(e,o,i,u,c){return e(i,u)?w.some(i):Dn(c)&&c(i)?w.none():o(i,u,c)}function jh(e,o,i){for(var u=e.dom,c=Dn(i)?i:Je;u.parentNode;){var u=u.parentNode,f=kt.fromDom(u);if(o(f))return w.some(f);if(c(f))break}return w.none()}function zC(e,o,i){return Uy(function(u,c){return c(u)},jh,e,o,i)}function VC(e,o,i){return zC(e,o,i).isSome()}function Rl(e,o,i){return jh(e,function(u){return Co(u,o)},i)}function pr(e,o){return i=o,$n(u=e===void 0?document:e.dom)?w.none():w.from(u.querySelector(i)).map(kt.fromDom);var i,u}function la(e,o,i){return Uy(Co,Rl,e,o,i)}function jC(){var e=fe("aria-owns");return{id:e,link:function(o){qe(o,"aria-owns",e)},unlink:function(o){Lo(o,"aria-owns")}}}var om,rm,If=function(e,o){return VC(o,function(u){return Be(u,e.element)},Je)||(i=e,zC(o,function(u){if(!Fi(u))return!1;var c=so(u,"id");return c!==void 0&&-1<c.indexOf("aria-owns")}).bind(function(u){var c=so(u,"id");return pr(_a(u),'[aria-owns="'+c+'"]')}).exists(function(u){return If(i,u)}));var i},Wy="unknown";function wg(e,o,i){var u,c,f,g;switch(be($y.get(),e).orThunk(function(){return eo(_t($y.get()),function(C){return-1<e.indexOf(C)?w.some($y.get()[C]):w.none()})}).getOr(om.NORMAL)){case om.NORMAL:return i(UC());case om.LOGGING:var v=(u=e,c=o,f=[],g=new Date().getTime(),{logEventCut:function(C,S,O){f.push({outcome:"cut",target:S,purpose:O})},logEventStopped:function(C,S,O){f.push({outcome:"stopped",target:S,purpose:O})},logNoParent:function(C,S,O){f.push({outcome:"no-parent",target:S,purpose:O})},logEventNoHandlers:function(C,S){f.push({outcome:"no-handlers-left",target:S})},logEventResponse:function(C,S,O){f.push({outcome:"response",purpose:O,target:S})},write:function(){var C=new Date().getTime();Zn(["mousemove","mouseover","mouseout",Hh()],u)||console.log(u,{event:u,time:C-g,target:c.dom,sequence:Vt(f,function(S){return Zn(["cut","stopped","response"],S.outcome)?"{"+S.purpose+"} "+S.outcome+" at ("+El(S.target)+")":S.outcome})})}}),b=i(v);return v.write(),b;case om.STOP:return!0}}(rm=om=om||{})[rm.STOP=0]="STOP",rm[rm.NORMAL=1]="NORMAL",rm[rm.LOGGING=2]="LOGGING";var $y=ge({}),qy=["alloy/data/Fields","alloy/debugging/Debugging"],UC=ot({logEventCut:Xt,logEventStopped:Xt,logNoParent:Xt,logEventNoHandlers:Xt,logEventResponse:Xt,write:Xt}),Uh=ot([Bt("menu"),Bt("selectedMenu")]),Wh=ot([Bt("item"),Bt("selectedItem")]);function Cg(){return Xa("markers",[Bt("backgroundMenu")].concat(Uh()).concat(Wh()))}function rs(e){return Xa("markers",Vt(e,Bt))}function Ue(e,o,i){return(u=new Error).stack!==void 0&&uo(u.stack.split(`
`),function(c){return 0<c.indexOf("alloy")&&!mr(qy,function(f){return-1<c.indexOf(f)})}).getOr(Wy),Qo(o,o,i,Ga(function(c){return Ee.value(function(){for(var f=[],g=0;g<arguments.length;g++)f[g]=arguments[g];return c.apply(void 0,f)})}));var u}function yn(e){return Ue(0,e,tc(Xt))}function Ma(e){return Ue(0,e,tc(w.none))}function $c(e){return Ue(0,e,oe())}function Gy(e){return Ue(0,e,oe())}function Re(e,o){return Ti(e,ot(o))}function WC(e){return Ti(e,ne)}function Er(e,o,i,u,c,f,g,v){return{x:e,y:o,bubble:i,direction:u,placement:c,restriction:f,label:g+"-"+c,alwaysFit:v=v!==void 0&&v}}function im(e,o,i,u){var c=e+o;return u<c?i:c<i?u:c}function No(e,o){return ja(["left","right","top","bottom"],function(i){return be(o,i).map(function(u){return(function(c){switch(u){case 1:return c.x;case 0:return c.x+c.width;case 2:return c.y;case 3:return c.y+c.height}})(e)})})}function Su(e,o){return e.x+e.width/2-o.width/2}function Bi(e,o){return e.x+e.width-o.width}function $h(e,o){return e.y-o.height}function Lf(e){return e.y+e.height}function qh(e,o){return e.y+e.height/2-o.height/2}function ku(e,o,i){return Er(e.x+e.width,qh(e,o),i.east(),n0(),"east",No(e,{left:0}),mc)}function fa(e,o,i){return Er(e.x-o.width,qh(e,o),i.west(),Il(),"west",No(e,{right:1}),mc)}function Ff(){return[hr,Tr,da,ma,gi,ti,ku,fa]}function Gh(){return[Tr,hr,ma,da,gi,ti,ku,fa]}function Xy(){return[da,ma,hr,Tr,ti,gi]}function Xh(){return[ma,da,Tr,hr,ti,gi]}function am(){return[hr,Tr,da,ma,gi,ti]}function um(){return[Tr,hr,ma,da,gi,ti]}function Kh(e,o,i){return Ek(function(u,c){i(u,e,o)})}function Pa(e){return{key:e,value:void 0}}function Or(e){var o,i,u,c,f,g,v,b,C=Sr("Creating behaviour: "+e.name,kg,e);return o=C.fields,i=C.name,u=C.active,c=C.apis,f=C.extra,g=C.state,v=ra(o),b=ia(i,[Qu("config",ra(o))]),o0(v,b,i,u,c,f,g)}function $C(e){var o,i=Sr("Creating behaviour: "+e.name,Ak,e),u=Jr(i.branchKey,i.branches),c=i.name,f=i.active,g=i.apis,v=i.extra,b=i.state,C=ia(c,[Qu("config",o=u)]);return o0(o,C,c,f,g,v,b)}function Ky(){return kt.fromDom(document)}function dc(e){return e.dom.focus()}function Yy(e){var o=_a(e).dom;return e.dom===o.activeElement}function Qa(e){return e===void 0&&(e=Ky()),w.from(e.dom.activeElement).map(kt.fromDom)}function is(e){return Qa(_a(e)).filter(function(o){return e.dom.contains(o.dom)})}function Jy(e,o){var i=_a(o),u=Qa(i).bind(function(f){function g(C){return Be(f,C)}var v,b;return g(o)?w.some(o):(v=g,(b=function(C){for(var S=0;S<C.childNodes.length;S++){var O=kt.fromDom(C.childNodes[S]);if(v(O))return w.some(O);var D=b(C.childNodes[S]);if(D.isSome())return D}return w.none()})(o.dom))}),c=e(o);return u.each(function(f){Qa(i).filter(function(g){return Be(g,f)}).fold(function(){dc(f)},Xt)}),c}function as(e,o,i,u,c){function f(g){return g+"px"}return{position:e,left:o.map(f),top:i.map(f),right:u.map(f),bottom:c.map(f)}}function Ml(e,o){var i;Rc(e,q(q({},i=o),{position:w.some(i.position)}))}function Qy(e,o,i,u,c,f){var g=o.rect,v=g.x-i,b=g.y-u,C=c-(v+g.width),S=f-(b+g.height),O=w.some(v),D=w.some(b),R=w.some(C),L=w.some(S),I=w.none();return o.direction.fold(function(){return as(e,O,D,I,I)},function(){return as(e,I,D,R,I)},function(){return as(e,O,I,I,L)},function(){return as(e,I,I,R,L)},function(){return as(e,O,D,I,I)},function(){return as(e,O,I,I,L)},function(){return as(e,O,D,I,I)},function(){return as(e,I,D,R,I)})}function Zy(e,o){return e.fold(function(){var i=o.rect;return as("absolute",w.some(i.x),w.some(i.y),w.none(),w.none())},function(i,u,c,f){return Qy("absolute",o,i,u,c,f)},function(i,u,c,f){return Qy("fixed",o,i,u,c,f)})}function Pl(e,o){var i=Nn(Md,o),u=e.fold(i,i,function(){var g=gr();return Md(o).translate(-g.left,-g.top)}),c=lt(o),f=Te(o);return mo(u.left,u.top,c,f)}ot(ce(Wh().concat(Uh())));var sm=ot(ce(Wh())),t0=ot(Xa("initSize",[Bt("numColumns"),Bt("numRows")])),Is=jo([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Ls=Is.southeast,Yh=Is.southwest,_g=Is.northeast,Sg=Is.northwest,e0=Is.south,Jh=Is.north,n0=Is.east,Il=Is.west,Za=function(e,o,i){return Math.min(Math.max(e,o),i)},mc="layout",hr=function(e,o,i){return Er(e.x,Lf(e),i.southeast(),Ls(),"southeast",No(e,{left:1,top:3}),mc)},Tr=function(e,o,i){return Er(Bi(e,o),Lf(e),i.southwest(),Yh(),"southwest",No(e,{right:0,top:3}),mc)},da=function(e,o,i){return Er(e.x,$h(e,o),i.northeast(),_g(),"northeast",No(e,{left:1,bottom:2}),mc)},ma=function(e,o,i){return Er(Bi(e,o),$h(e,o),i.northwest(),Sg(),"northwest",No(e,{right:0,bottom:2}),mc)},ti=function(e,o,i){return Er(Su(e,o),$h(e,o),i.north(),Jh(),"north",No(e,{bottom:2}),mc)},gi=function(e,o,i){return Er(Su(e,o),Lf(e),i.south(),e0(),"south",No(e,{top:3}),mc)},qC=Object.freeze({__proto__:null,events:function(e){return oo([Rt(Tl(),function(o,i){var u,c=e.channels,f=_t(c),g=i,v=(u=g).universal?f:Ne(f,function(b){return Zn(u.channels,b)});Q(v,function(b){var C=c[b],S=C.schema,O=Sr("channel["+b+`] data
Receiver: `+El(o.element),S,g.data);C.onReceive(o,O)})})])}}),Tk=[mi("channels",mg(Ee.value,ra([$c("onReceive"),rt("schema",kr())])))],o0=function(e,o,i,u,c,f,g){function v(O){return Fr(O,i)?O[i]():w.none()}var b=ko(c,function(O,D){return R=i,F=function(J){for(var pt=[],ut=1;ut<arguments.length;ut++)pt[ut-1]=arguments[ut];var yt=[J].concat(pt);return J.config({name:ot(R)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+R+". Using API: "+I)},function(Tt){var xt=Array.prototype.slice.call(yt,1);return L.apply(void 0,[J,Tt.config,Tt.state].concat(xt))})},z=I=D,U=(L=O).toString(),M=U.indexOf(")")+1,j=U.indexOf("("),K=U.substring(j+1,M-1).split(/,\s*/),F.toFunctionAnnotation=function(){return{name:z,parameters:yg(K.slice(0,1).concat(K.slice(3)))}},F;var R,L,I,F,z,U,M,j,K}),C=ko(f,Ry),S=q(q(q({},C),b),{revoke:Nn(Pa,i),config:function(O){var D=Sr(i+"-config",e,O);return{key:i,value:{config:D,me:S,configAsRaw:$e(function(){return Sr(i+"-config",e,O)}),initialConfig:O,state:g}}},schema:ot(o),exhibit:function(O,D){return ue(v(O),be(u,"exhibit"),function(R,L){return L(D,R.config,R.state)}).getOrThunk(function(){return Ds({})})},name:ot(i),handlers:function(O){return v(O).map(function(D){return be(u,"events").getOr(function(){return{}})(D.config,D.state)}).getOr({})}});return S},Kt=kl,kg=ra([Bt("fields"),Bt("name"),rt("active",{}),rt("apis",{}),rt("state",Ba),rt("extra",{})]),Ak=ra([Bt("branchKey"),Bt("branches"),Bt("name"),rt("active",{}),rt("apis",{}),rt("state",Ba),rt("extra",{})]),Eg=ot(void 0),tu=Or({fields:Tk,name:"receiving",active:qC}),GC=Object.freeze({__proto__:null,exhibit:function(e,o){return Ds({classes:[],styles:o.useFixed()?{}:{position:"relative"}})}}),cm=jo([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),qc=function(e,o,i){var u=xo(o,i);return e.fold(ot(u),ot(u),function(){var c=gr();return u.translate(-c.left,-c.top)})};function Et(e){return fo(e,tv)}function Qh(e,o,i,u){var c,f,g,v,b,C,S,O,D,R,L,I,F,z,U,M,j,K,J,pt,ut,yt,Tt,xt,Nt,Lt,Qt,pe,Fe,ln,Sn,Vn,un,kn,Rn,Wn,gn,io,Br,Pi=e.bubble,Xi=Pi.offset,ao=(un=u,kn=e.restriction,Rn=Xi,Wn=vi("left",un.x),gn=vi("top",un.y),io=vi("right",un.right),Br=vi("bottom",un.bottom),mo(Wn,gn,io-Wn,Br-gn)),cu=e.x+Xi.left,Mo=e.y+Xi.top,In=mo(cu,Mo,o,i),Gt=(c=ao.x,f=ao.y,g=ao.right,v=ao.bottom,b=In.x,C=In.y,S=In.right,O=In.bottom,D=In.width,R=In.height,{originInBounds:c<=b&&b<=g&&f<=C&&C<=v,sizeInBounds:S<=g&&c<=S&&O<=v&&f<=O,visibleW:Math.min(D,c<=b?g-b:S-c),visibleH:Math.min(R,f<=C?v-C:O-f)}),He=Gt.visibleW,jn=Gt.visibleH,Yn=Gt.originInBounds&&Gt.sizeInBounds,ho=Yn?In:(L=ao.x,I=ao.y,F=ao.right,z=ao.bottom,U=In.x,M=In.y,j=In.width,K=In.height,J=Math.max(L,F-j),pt=Math.max(I,z-K),ut=Za(U,L,J),yt=Za(M,I,pt),Tt=Math.min(ut+j,F)-ut,xt=Math.min(yt+K,z)-yt,mo(ut,yt,Tt,xt)),Ki=0<ho.width&&0<ho.height,fr=(Nt=e.direction,pe=ot((Lt=ho).bottom-(Qt=u).y),Fe=ot(Qt.bottom-Lt.y),ln=Nt.fold(Fe,Fe,pe,pe,Fe,pe,Fe,Fe),Sn=ot(Lt.right-Qt.x),Vn=ot(Qt.right-Lt.x),{maxWidth:Nt.fold(Vn,Sn,Vn,Sn,Vn,Vn,Vn,Sn),maxHeight:ln}),xr={rect:ho,maxHeight:fr.maxHeight,maxWidth:fr.maxWidth,direction:e.direction,placement:e.placement,classes:{on:Pi.classesOn,off:Pi.classesOff},layout:e.label,testY:Mo};function vi(Ur,Rr){return kn[Ur].map(function(Mr){var wr=Ur==="top"||Ur==="bottom",xs=wr?Rn.top:Rn.left,en=(Ur==="left"||Ur==="top"?Math.max:Math.min)(Mr,Rr)+xs;return wr?Za(en,un.y,un.bottom):Za(en,un.x,un.right)}).getOr(Rr)}return Yn||e.alwaysFit?Ng.fit(xr):Ng.nofit(xr,He,jn,Ki)}function Og(e){function o(){return i.get().each(e)}var i=ge(w.none());return{clear:function(){o(),i.set(w.none())},isSet:function(){return i.get().isSome()},get:function(){return i.get()},set:function(u){o(),i.set(w.some(u))}}}function r0(){return Og(function(e){return e.destroy()})}function Hf(){return Og(function(e){return e.unbind()})}function qo(){var e=Og(Xt);return q(q({},e),{on:function(o){return e.get().each(o)}})}function rr(e,o,i){return Mc(e,o,s0,i,!1)}function Tg(e,o,i){return Mc(e,o,s0,i,!0)}function i0(e,o){function i(L){var I,F=(I=L.raw.pseudoElement)!==null&&I!==void 0?I:"";return Be(L.target,e)&&!Bc(F)&&Zn(l0,L.raw.propertyName)}function u(L){var I;(Po(L)||i(L))&&(v.clear(),b.clear(),!Po(I=L?.raw.type)&&I!==es()||(clearTimeout(f),Lo(e,Bg),ac(e,o.classes)))}function c(){v.set(rr(e,es(),u)),b.set(rr(e,cc(),u))}var f,g,v=Hf(),b=Hf();"ontransitionstart"in e.dom?g=rr(e,tm(),function(L){i(L)&&(g.unbind(),c())}):c();var C,S,O=(C=e,S=D("transition-delay"),tr(D("transition-duration"),function(L,I,F){var z=R(S[F])+R(I);return Math.max(L,z)},0));function D(L){var I=Xr(C,L);return Ne(Tn(I)?I.split(/\s*,\s*/):[],Bc)}function R(L){if(Tn(L)&&/^[\d.]+/.test(L)){var I=parseFloat(L);return me(L,"ms")?I:1e3*I}return 0}requestAnimationFrame(function(){f=setTimeout(u,O+17),qe(e,Bg,f)})}function XC(e,o,i,u,c,f){var g,v,b,C,S,O,D,R,L,I=(g=u,v=c,f.exists(function(z){var U=g.mode;return U==="all"||z[U]!==v[U]}));function F(z){return parseFloat(z).toFixed(3)}I||(L=e,Ko(u.classes,function(z){return wu(L,z)}))?(Ie(e,"position",i.position),b=Pl(o,e),C=Zy(o,q(q({},c),{rect:b})),S=ja(l0,function(z){return C[z]}),R=i,Nc(S,function(z,U){var M,j,K,J=R[U].map(F),pt=z.map(F);return!ue(M=J,j=pt,K=K===void 0?ar:K).getOr(M.isNone()&&j.isNone())}).isSome()&&(Rc(e,S),I&&(Cu(O=e,(D=u).classes),fo(O,Bg).each(function(z){clearTimeout(parseInt(z,10)),Lo(O,Bg)}),i0(O,D)),Kr(e))):ac(e,u.classes)}function KC(e,o,i,u){vn(o,"max-height"),vn(o,"max-width");var c,f,g,v,b,C,S,O,D,R={width:lt(c=o),height:Te(c)};return f=o,g=u.preference,v=e,b=R,C=i,S=u.bounds,O=b.width,D=b.height,tr(g,function(I,F){var z=Nn(L,F);return I.fold(ot(I),z)},Ng.nofit({rect:v,maxHeight:b.height,maxWidth:b.width,direction:Ls(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:v.y},-1,-1,!1)).fold(ne,ne);function L(I,F,z,U,M){var j=Qh(I(v,b,C,f,S),O,D,S);return j.fold(ot(j),function(K,J,pt,ut){return(M===ut?U<pt||z<J:!M&&ut)?j:Ng.nofit(F,z,U,M)})}}function a0(e,o){var i=e,u=Math.floor(o);Ie(i,"max-height",cg.max(i,u,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"])+"px")}function u0(e,o,i){return e[o]===void 0?i:e[o]}function zf(e,o,i,u){function c(b){return be(i,b).getOr([])}function f(b,C,S){var O=Pe(f0,S);return{offset:xo(b,C),classesOn:on(S,c),classesOff:on(O,c)}}var g=e*(u=u===void 0?1:u),v=o*u;return{southeast:function(){return f(-e,o,["top","alignLeft"])},southwest:function(){return f(e,o,["top","alignRight"])},south:function(){return f(-e/2,o,["top","alignCentre"])},northeast:function(){return f(-e,-o,["bottom","alignLeft"])},northwest:function(){return f(e,-o,["bottom","alignRight"])},north:function(){return f(-e/2,-o,["bottom","alignCentre"])},east:function(){return f(e,-o/2,["valignCentre","left"])},west:function(){return f(-e,-o/2,["valignCentre","right"])},insetNortheast:function(){return f(g,v,["top","alignLeft","inset"])},insetNorthwest:function(){return f(-g,v,["top","alignRight","inset"])},insetNorth:function(){return f(-g/2,v,["top","alignCentre","inset"])},insetSoutheast:function(){return f(g,-v,["bottom","alignLeft","inset"])},insetSouthwest:function(){return f(-g,-v,["bottom","alignRight","inset"])},insetSouth:function(){return f(-g/2,-v,["bottom","alignCentre","inset"])},insetEast:function(){return f(-g,-v/2,["valignCentre","right","inset"])},insetWest:function(){return f(g,-v/2,["valignCentre","left","inset"])}}}function Ag(){return zf(0,0,{})}function Zh(e,o){return function(i){return QC(i)==="rtl"?o:e}}cm.none;var Fs,Vi,Dg=cm.relative,YC=cm.fixed,tv="data-alloy-placement",Ng=jo([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),s0=nn,c0=Ho,l0=["top","bottom","right","left"],Bg="data-alloy-transition-timer",JC=ot(function(e,o){a0(e,o),Fo(e,{"overflow-x":"hidden","overflow-y":"auto"})}),Gc=ot(function(e,o){a0(e,o)}),Rg=function(e,o,i,u){var c,f,g,v,b=KC(e,o,i,u),C=o,S=b,O=Zy((c=u).origin,S);return c.transition.each(function(D){XC(C,c.origin,O,D,S,c.lastPlacement)}),Ml(C,O),v=b.placement,qe(o,tv,v),ac(f=o,(g=b.classes).off),Cu(f,g.on),(0,u.maxHeightFunction)(o,b.maxHeight),(0,u.maxWidthFunction)(o,b.maxWidth),{layout:b.layout,placement:b.placement}},f0=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],Mg=ne,QC=function(e){return Xr(e,"direction")==="rtl"?"rtl":"ltr"};function ZC(e){return VC(e,function(o){return Fi(o)&&so(o,"data-alloy-vertical-dir")===Fs.BottomToTop})}function Xc(){return ia("layouts",[Bt("onLtr"),Bt("onRtl"),bn("onBottomLtr"),bn("onBottomRtl")])}function ev(e,o,i,u,c,f,g){var v=g.map(ZC).getOr(!1),b=o.layouts.map(function(S){return S.onLtr(e)}),C=o.layouts.map(function(S){return S.onRtl(e)});return Zh(v?o.layouts.bind(function(S){return S.onBottomLtr.map(function(O){return O(e)})}).or(b).getOr(c):b.getOr(i),v?o.layouts.bind(function(S){return S.onBottomRtl.map(function(O){return O(e)})}).or(C).getOr(f):C.getOr(u))(e)}function Dk(e){return e.fold(ne,function(o,i,u){return o.translate(-i,-u)})}function t_(e){return e.fold(ne,ne)}function e_(e){return tr(e,function(o,i){return o.translate(i.left,i.top)},xo(0,0))}function d0(e){return e_(Vt(e,t_))}function Ll(e,o,i){var u,c,f=gr(ze(e.element)),g=(u=e,c=Gn(i.root).dom,w.from(c.frameElement).map(kt.fromDom).filter(function(v){return Be(ze(v),ze(u.element))}).map(li).getOr(f));return ov(g,f.left,f.top)}function Pg(e,o,i,u){var c=p0(xo(e,o));return w.some({point:c,width:i,height:u})}function Vf(e,o,i,u,c){return e.map(function(f){var g=[o,f.point],v=u.fold(function(){return d0(g)},function(){return d0(g)},function(){return e_(Vt(g,Dk))}),b={x:v.left,y:v.top,width:f.width,height:f.height},C=(i.showAbove?Xy:am)(),S=(i.showAbove?Xh:um)(),O=ev(c,i,C,S,C,S,w.none());return Mg({anchorBox:b,bubble:i.bubble.getOr(Ag()),overrides:i.overrides,layouts:O,placer:w.none()})})}function Kc(e,o,i){var u,c=e.document.createRange(),f=c;return o.fold(function(g){f.setStartBefore(g.dom)},function(g,v){f.setStart(g.dom,v)},function(g){f.setStartAfter(g.dom)}),u=c,i.fold(function(g){u.setEndBefore(g.dom)},function(g,v){u.setEnd(g.dom,v)},function(g){u.setEndAfter(g.dom)}),c}function Hs(e,o,i,u,c){var f=e.document.createRange();return f.setStart(o.dom,i),f.setEnd(u.dom,c),f}function nv(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom,width:e.width,height:e.height}}function m0(e,o,i){return o(kt.fromDom(i.startContainer),i.startOffset,kt.fromDom(i.endContainer),i.endOffset)}function g0(e,o){return i=e,f=o.match({domRange:function(g){return{ltr:ot(g),rtl:w.none}},relative:function(g,v){return{ltr:$e(function(){return Kc(i,g,v)}),rtl:$e(function(){return w.some(Kc(i,v,g))})}},exact:function(g,v,b,C){return{ltr:$e(function(){return Hs(i,g,v,b,C)}),rtl:$e(function(){return w.some(Hs(i,b,C,g,v))})}}}),((c=(u=f).ltr()).collapsed?u.rtl().filter(function(g){return g.collapsed===!1}).map(function(g){return jf.rtl(kt.fromDom(g.endContainer),g.endOffset,kt.fromDom(g.startContainer),g.startOffset)}).getOrThunk(function(){return m0(0,jf.ltr,c)}):m0(0,jf.ltr,c)).match({ltr:function(g,v,b,C){var S=e.document.createRange();return S.setStart(g.dom,v),S.setEnd(b.dom,C),S},rtl:function(g,v,b,C){var S=e.document.createRange();return S.setStart(b.dom,C),S.setEnd(g.dom,v),S}});var i,u,c,f}(Fs=Fs||{}).TopToBottom="toptobottom",Fs.BottomToTop="bottomtotop";var Ig="data-alloy-vertical-dir",n_=[Bt("hotspot"),bn("bubble"),rt("overrides",{}),Xc(),Re("placement",function(e,o,i){var u=Pl(i,o.hotspot.element),c=ev(e.element,o,am(),um(),Xy(),Xh(),w.some(o.hotspot.element));return w.some(Mg({anchorBox:u,bubble:o.bubble.getOr(Ag()),overrides:o.overrides,layouts:c,placer:w.none()}))})],Lg=[Bt("x"),Bt("y"),rt("height",0),rt("width",0),rt("bubble",Ag()),rt("overrides",{}),Xc(),Re("placement",function(e,o,i){var u=qc(i,o.x,o.y),c=mo(u.left,u.top,o.width,o.height),f=ev(e.element,o,Ff(),Gh(),Ff(),Gh(),w.none());return w.some(Mg({anchorBox:c,bubble:o.bubble,overrides:o.overrides,layouts:f,placer:w.none()}))})],Fg=jo([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),p0=Fg.screen,ov=Fg.absolute,ei=[Bt("node"),Bt("root"),bn("bubble"),Xc(),rt("overrides",{}),rt("showAbove",!1),Re("placement",function(e,o,i){var u=Ll(e,0,o);return o.node.filter(ki).bind(function(c){var f=c.dom.getBoundingClientRect(),g=Pg(f.left,f.top,f.width,f.height),v=o.node.getOr(e.element);return Vf(g,u,o,i,v)})})],lm=function(e,o,i,u){return{start:e,soffset:o,finish:i,foffset:u}},Eu=jo([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),o_=(Eu.before,Eu.on,Eu.after,function(e){return e.fold(ne,ne,ne)}),Hg=jo([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),fm={domRange:Hg.domRange,relative:Hg.relative,exact:Hg.exact,exactFromRange:function(e){return Hg.exact(e.start,e.soffset,e.finish,e.foffset)},getWin:function(e){return Gn(e.match({domRange:function(o){return kt.fromDom(o.startContainer)},relative:function(o,i){return o_(o)},exact:function(o,i,u,c){return o}}))},range:lm},jf=jo([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]);function zg(e){return cs.getOption(e)}function r_(e){return zg(e).filter(function(o){return o.trim().length!==0||-1<o.indexOf("\xA0")}).isSome()||Zn(pc,le(e))}function ji(e,o){return $n(i=e===void 0?document:e.dom)?[]:Vt(i.querySelectorAll(o),kt.fromDom);var i}function i_(e){if(0<e.rangeCount){var o=e.getRangeAt(0),i=e.getRangeAt(e.rangeCount-1);return w.some(lm(kt.fromDom(o.startContainer),o.startOffset,kt.fromDom(i.endContainer),i.endOffset))}return w.none()}function a_(e){if(e.anchorNode===null||e.focusNode===null)return i_(e);var o,i,u,c,f,g,v,b,C,S,O,D=kt.fromDom(e.anchorNode),R=kt.fromDom(e.focusNode);return o=D,i=e.anchorOffset,u=R,c=e.focusOffset,g=i,v=u,b=c,(C=ze(f=o).dom.createRange()).setStart(f.dom,g),C.setEnd(v.dom,b),S=C,O=Be(o,u)&&i===c,S.collapsed&&!O?w.some(lm(D,e.anchorOffset,R,e.focusOffset)):i_(e)}function Fl(e,o){var i,u,c=(i=g0(e,o)).getClientRects();return 0<(u=0<c.length?c[0]:i.getBoundingClientRect()).width||0<u.height?w.some(u).map(nv):w.none()}function dm(e,o){return{element:e,offset:o}}function u_(e,o){return(Qs(e)?dm:function(i,u){var c=Fn(i);if(c.length===0)return dm(i,u);if(u<c.length)return dm(c[u],0);var f=c[c.length-1];return dm(f,(Qs(f)?cs.get(f):Fn(f)).length)})(e,o)}function s_(e,o){return o.getSelection.getOrThunk(function(){return function(){return w.from(e.getSelection()).filter(function(i){return 0<i.rangeCount}).bind(a_)}})().map(function(i){var u=u_(i.start,i.soffset),c=u_(i.finish,i.foffset);return fm.range(u.element,u.offset,c.element,c.offset)})}function c_(e){return e.x+e.width}function mm(e,o){return e.x-o.width}function rv(e,o){return e.y-o.height+e.height}function l_(e,o,i){return Er(c_(e),e.y,i.southeast(),Ls(),"southeast",No(e,{left:0,top:2}),Tu)}function f_(e,o,i){return Er(mm(e,o),e.y,i.southwest(),Yh(),"southwest",No(e,{right:1,top:2}),Tu)}function h0(e,o,i){return Er(c_(e),rv(e,o),i.northeast(),_g(),"northeast",No(e,{left:0,bottom:3}),Tu)}function v0(e,o,i){return Er(mm(e,o),rv(e,o),i.northwest(),Sg(),"northwest",No(e,{right:1,bottom:3}),Tu)}function b0(){return[l_,f_,h0,v0]}function d_(){return[f_,l_,v0,h0]}function Vg(e,o,i,u,c,f,g){var v,b,C,S,O,D,R,L,I,F,z,U,M,j,K={anchorBox:i.anchorBox,origin:o};return v=K,b=c.element,C=i.bubble,S=i.layouts,O=f,D=u,R=i.overrides,L=g,F=u0(R,"maxHeightFunction",JC()),z=u0(R,"maxWidthFunction",Xt),U=v.anchorBox,M=v.origin,j={bounds:(I=M,D.fold(function(){return I.fold(na,na,mo)},function(J){return I.fold(J,J,function(){var pt=J(),ut=qc(I,pt.x,pt.y);return mo(ut.left,ut.top,pt.width,pt.height)})})),origin:M,preference:S,maxHeightFunction:F,maxWidthFunction:z,lastPlacement:O,transition:L},Rg(U,b,C,j)}function gm(e,o){Ao(e.element,o.element)}function y0(e,o){var i,u=e.components();Q((i=e).components(),function(f){return nr(f.element)}),_i(i.element),i.syncComponents();var c=Pe(u,o);Q(c,function(f){Yg(f),e.getSystem().removeFromWorld(f)}),Q(o,function(f){f.getSystem().isConnected()?gm(e,f):(e.getSystem().addToWorld(f),gm(e,f),ki(e.element)&&wv(f)),e.syncComponents()})}function Hl(e,o){I0(e,o,Ao)}function us(e){Yg(e),nr(e.element),e.getSystem().removeFromWorld(e)}function zl(e){var o=Xe(e.element).bind(function(i){return e.getSystem().getByDom(i).toOptional()});us(e),o.each(function(i){i.syncComponents()})}function x0(e){var o=e.components();Q(o,us),_i(e.element),e.syncComponents()}function iv(e,o){L0(e,o,Ao)}function jg(e){var o=Fn(e.element);Q(o,function(i){e.getByDom(i).each(Yg)}),nr(e.element)}function Uf(e,o,i,u){i.get().each(function(f){x0(e)}),Hl(o.getAttachPoint(e),e);var c=e.getSystem().build(u);return Hl(e,c),i.set(c),c}function zs(e,o,i,u){var c=Uf(e,o,i,u);return o.onOpen(e,c),c}function Vl(e,o,i){i.get().each(function(u){x0(e),zl(e),o.onClose(e,u),i.clear()})}function w0(e,o,i){return i.isOpen()}function av(e){var o=Sr("Dismissal",H0,e),i={};return i[Jc()]={schema:ra([Bt("target")]),onReceive:function(u,c){Ze.isOpen(u)&&(Ze.isPartOf(u,c.target)||o.isExtraPart(u,c.target)||o.fireEventInstead.fold(function(){return Ze.close(u)},function(f){return fn(u,f.event)}))}},i}function uv(e){var o=Sr("Reposition",v_,e),i={};return i[Jf()]={onReceive:function(u){Ze.isOpen(u)&&o.fireEventInstead.fold(function(){return o.doReposition(u)},function(c){return fn(u,c.event)})}},i}function sv(e,o,i){o.store.manager.onLoad(e,o,i)}function cv(e,o,i){o.store.manager.onUnload(e,o,i)}function C0(){var e=ge(null);return ca({set:e.set,get:e.get,isNotSet:function(){return e.get()===null},clear:function(){e.set(null)},readState:function(){return{mode:"memory",value:e.get()}}})}function m_(){var e=ge({}),o=ge({});return ca({readState:function(){return{mode:"dataset",dataByValue:e.get(),dataByText:o.get()}},lookup:function(i){return be(e.get(),i).orThunk(function(){return be(o.get(),i)})},update:function(i){var u=e.get(),c=o.get(),f={},g={};Q(i,function(v){be(f[v.value]=v,"meta").each(function(b){be(b,"text").each(function(C){g[C]=v})})}),e.set(q(q({},u),f)),o.set(q(q({},c),g))},clear:function(){e.set({}),o.set({})}})}function eu(e,o,i,u){var c=o.store;i.update([u]),c.setValue(e,u),o.onSetValue(e,u)}function Go(e,o){return xu(e,{},Vt(o,function(i){return u=i.name(),c="Cannot configure "+i.name()+" for "+e,Qo(u,u,_f(),Un(function(f){return st("The field: "+u+" is forbidden. "+c)}));var u,c}).concat([Ti("dump",ne)]))}function Ug(e){return e.dump}function cr(e,o){return q(q({},Kt(o)),e.dump)}function lv(e){return ht(e,"uiType")}function fv(e){return e.fold(w.some,w.none,w.some,w.some)}function dv(e){function o(i){return i.name}return e.fold(o,o,o,o)}function Yc(e,o){return function(i){var u=Sr("Converting part type",o,i);return e(u)}}function Vs(e,o,i,u){return ee(o.defaults(e,i,u),i,{uid:e.partUids[o.name]},o.overrides(e,i,u))}function Wg(e,o){var i={};return Q(o,function(u){fv(u).each(function(c){var f=op(e,c.pname);i[c.name]=function(g){var v=Sr("Part: "+c.name+" in "+e,ce(c.schema),g);return q(q({},f),{config:g,validated:v})}})}),i}function $g(e,o,i){return{uiType:y_(),owner:e,name:o,config:i,validated:{}}}function qg(e){return on(e,function(o){return o.fold(w.none,w.some,w.none,w.none).map(function(i){return Xa(i.name,i.schema.concat([WC(q0())]))}).toArray()})}function _0(e){return Vt(e,dv)}function pm(e,o,i){return u=o,c={},f={},Q(i,function(g){g.fold(function(v){c[v.pname]=bm(!0,function(b,C,S){return v.factory.sketch(Vs(b,v,C,S))})},function(v){var b=u.parts[v.name];f[v.name]=ot(v.factory.sketch(Vs(u,v,b[q0()]),b))},function(v){c[v.pname]=bm(!1,function(b,C,S){return v.factory.sketch(Vs(b,v,C,S))})},function(v){c[v.pname]=Ce(!0,function(b,C,S){return Vt(b[v.name],function(O){return v.factory.sketch(ee(v.defaults(b,O,S),O,v.overrides(b,O)))})})})}),{internals:ot(c),externals:ot(f)};var u,c,f}function S0(e,o,i){return u=w.some(e),f=(c=o).components,C=ko(i,function(O,D){return L=O,I=!1,{name:ot(R=D),required:function(){return L.fold(function(F,z){return F},function(F,z){return F})},used:function(){return I},replace:function(){if(I)throw new Error("Trying to use the same placeholder more than once: "+R);return I=!0,L}};var R,L,I}),g=u,v=c,b=C,S=on(f,function(O){return Qg(g,v,O,b)}),Qn(C,function(O){if(O.used()===!1&&O.required())throw new Error("Placeholder: "+O.name()+` was not found in components list
Namespace: `+u.getOr("none")+`
Components: `+JSON.stringify(c.components,null,2))}),S;var u,c,f,g,v,b,C,S}function wn(e,o,i){var u=o.partUids[i];return e.getSystem().getByUid(u).toOptional()}function vr(e,o,i){return wn(e,o,i).getOrDie("Could not find part: "+i)}function jr(e,o,i){var u={},c=o.partUids,f=e.getSystem();return Q(i,function(g){u[g]=ot(f.getByUid(c[g]))}),u}function mv(e,o){var i=e.getSystem();return ko(o.partUids,function(u,c){return ot(i.getByUid(u))})}function k0(e){return _t(e.partUids)}function gv(e,o,i){var u={},c=o.partUids,f=e.getSystem();return Q(i,function(g){u[g]=ot(f.getByUid(c[g]).getOrDie())}),u}function g_(e,o){return kl(Vt(_0(o),function(i){return{key:i,value:e+"-"+i}}))}function E0(e){return Qo("partUids","partUids",Do(function(o){return g_(o.uid,e)}),kr())}function O0(e,o,i,u,c){var f;return Sr(e+" [SpecSchema]",ra((f=c,(0<u.length?[Xa("parts",u)]:[]).concat([Bt("uid"),rt("dom",{}),rt("components",[]),WC("originalSpec"),rt("debug.sketcher",{})]).concat(f)).concat(o)),i)}function pv(e,o,i,u,c){var f=kv(c),g=O0(e,o,f,qg(i),[E0(i)]),v=pm(0,g,i);return u(g,S0(e,g,v.internals()),f,v.externals())}function nu(e){var o=Sr("Sketcher for "+e.name,S_,e),i=ko(o.apis,Mh),u=ko(o.extraApis,Ry);return q(q({name:o.name,configFields:o.configFields,sketch:function(c){return f=o.name,g=o.configFields,(0,o.factory)(O0(f,g,v=kv(c),[],[]),v);var f,g,v}},i),u)}function ni(e){var o=Sr("Sketcher for "+e.name,Ik,e),i=Wg(o.name,o.partFields),u=ko(o.apis,Mh),c=ko(o.extraApis,Ry);return q(q({name:o.name,partFields:o.partFields,configFields:o.configFields,sketch:function(f){return pv(o.name,o.configFields,o.partFields,o.factory,f)},parts:i},u),c)}function Wf(e){return le(e)==="input"&&so(e,"type")!=="radio"||le(e)==="textarea"}function $f(e,o,i){(o.disabled()?Ev:G0)(e,o)}function qf(e,o){return o.useNative===!0&&Zn(E_,le(e.element))}function hv(e,o){return qf(e,o)?Zi(e.element,"disabled"):so(e.element,"aria-disabled")==="true"}function T0(e,o,i,u){var c=ji(e.element,"."+o.highlightClass);Q(c,function(f){mr(u,function(g){return g.element===f})||(sr(f,o.highlightClass),e.getSystem().getByDom(f).each(function(g){o.onDehighlight(e,g),fn(g,zy())}))})}function gc(e,o,i,u){T0(e,o,0,[u]),ss(0,o,0,u)||(zr(u.element,o.highlightClass),o.onHighlight(e,u),fn(u,PC()))}function hm(e,o,i,u){var c=ji(e.element,"."+o.itemClass);return We(c,function(f){return wu(f,o.highlightClass)}).bind(function(f){var g=im(f,u,0,c.length-1);return e.getSystem().getByDom(c[g]).toOptional()})}function A0(e,o,i){var u=bo(e.slice(0,o)),c=bo(e.slice(o+1));return uo(u.concat(c),i)}function D0(e,o,i){return uo(bo(e.slice(0,o)),i)}function vv(e,o,i){var u=e.slice(0,o);return uo(e.slice(o+1).concat(u),i)}function N0(e,o,i){return uo(e.slice(o+1),i)}function rn(e){return function(o){var i=o.raw;return Zn(e,i.which)}}function Ou(e){return function(o){return Ko(e,function(i){return i(o)})}}function Gf(e){return e.raw.shiftKey===!0}function Nk(e){return e.raw.ctrlKey===!0}function dn(e,o){return{matches:e,classification:o}}function vm(e,o,i){o.exists(function(u){return i.exists(function(c){return Be(c,u)})})||we(e,vg(),{prevFocus:o,newFocus:i})}function Gg(){function e(o){return is(o.element)}return{get:e,set:function(o,i){var u=e(o);o.getSystem().triggerFocus(i,o.element),vm(o,u,e(o))}}}function B0(){function e(o){return Pn.getHighlighted(o).map(function(i){return i.element})}return{get:e,set:function(o,i){var u=e(o);o.getSystem().getByDom(i).fold(Xt,function(f){Pn.highlight(o,f)});var c=e(o);vm(o,u,c)}}}jf.ltr,jf.rtl;function Xg(e,o,i,u,c,f){var g=f.map(di);return Yf(e,o,i,u,c,g)}function R0(e,o,i){var u,c,f,g=o.getAttachPoint(e);Ie(e.element,"position",Ri.getMode(g)),f=o.cloakVisibilityAttr,Hn((u=e).element,c="visibility").fold(function(){Lo(u.element,f)},function(v){qe(u.element,f,v)}),Ie(u.element,c,"hidden")}function p_(e,o,i){var u,c,f,g=e.element;mr(["top","left","right","bottom"],function(v){return Hn(g,v).isSome()})||vn(e.element,"position"),c="visibility",f=o.cloakVisibilityAttr,fo((u=e).element,f).fold(function(){return vn(u.element,c)},function(v){return Ie(u.element,c,v)})}function ss(e,o,i,u){return wu(u.element,o.highlightClass)}function M0(e,o,i){return pr(e.element,"."+o.itemClass).bind(function(u){return e.getSystem().getByDom(u).toOptional()})}function bv(e,o,i){var u=ji(e.element,"."+o.itemClass);return(0<u.length?w.some(u[u.length-1]):w.none()).bind(function(c){return e.getSystem().getByDom(c).toOptional()})}function Xf(e,o,i){return _r(Vt(ji(e.element,"."+o.itemClass),function(u){return e.getSystem().getByDom(u).toOptional()}))}var Kf,yv,ga,xv,cs=(Kf=Qs,{get:function(e){if(!Kf(e))throw new Error("Can only get text value of a text node");return yv(e).getOr("")},getOption:yv=function(e){return Kf(e)?w.from(e.dom.nodeValue):w.none()},set:function(e,o){if(!Kf(e))throw new Error("Can only set raw text value of a text node");e.dom.nodeValue=o}}),pc=["img","br"],pa=[bn("getSelection"),Bt("root"),bn("bubble"),Xc(),rt("overrides",{}),rt("showAbove",!1),Re("placement",function(e,o,i){var u=Gn(o.root).dom,c=Ll(e,0,o);return Vf(s_(u,o).bind(function(f){return g=u,v=fm.exactFromRange(f),(0<(b=g0(g,v).getBoundingClientRect()).width||0<b.height?w.some(b).map(nv):w.none()).orThunk(function(){var C=kt.fromText("\uFEFF");hu(f.start,C);var S=Fl(u,fm.exact(C,0,C,1));return nr(C),S}).bind(function(C){return Pg(C.left,C.top,C.width,C.height)});var g,v,b}),c,o,i,s_(u,o).bind(function(f){return Fi(f.start)?w.some(f.start):xf(f.start)}).getOr(e.element))})],Tu="link-layout",h_=Jr("type",{selection:pa,node:ei,hotspot:n_,submenu:[Bt("item"),Xc(),rt("overrides",{}),Re("placement",function(e,o,i){var u=Pl(i,o.item.element),c=ev(e.element,o,b0(),d_(),b0(),d_(),w.none());return w.some(Mg({anchorBox:u,bubble:Ag(),overrides:o.overrides,layouts:c,placer:w.none()}))})],makeshift:Lg}),Bk=[Ei("classes",sn),aa("mode","all",["all","layout","placement"])],Kg=[rt("useFixed",Je),bn("getBounds")],P0=[mi("anchor",h_),ia("transition",Bk)],Yf=function(e,o,i,u,c,f){var g=Sr("placement.info",ce(P0),c),v=g.anchor,b=u.element,C=i.get(u.uid);Jy(function(){Ie(b,"position","fixed");var S=Hn(b,"visibility");Ie(b,"visibility","hidden");var O,D,R,L,I=o.useFixed()?(L=document.documentElement,YC(0,0,L.clientWidth,L.clientHeight)):(D=li((O=e).element),R=O.element.dom.getBoundingClientRect(),Dg(D.left,D.top,R.width,R.height)),F=v.placement,z=f.map(ot).or(o.getBounds);F(e,v,I).each(function(U){var M=U.placer.getOr(Vg)(e,I,U,z,u,C,g.transition);i.set(u.uid,M)}),S.fold(function(){vn(b,"visibility")},function(U){Ie(b,"visibility",U)}),Hn(b,"left").isNone()&&Hn(b,"top").isNone()&&Hn(b,"right").isNone()&&Hn(b,"bottom").isNone()&&no(Hn(b,"position"),"fixed")&&vn(b,"position")},b)},Ri=Or({fields:Kg,name:"positioning",active:GC,apis:Object.freeze({__proto__:null,position:function(e,o,i,u,c){Xg(e,o,i,u,c,w.none())},positionWithin:Xg,positionWithinBounds:Yf,getMode:function(e,o,i){return o.useFixed()?"fixed":"absolute"},reset:function(e,o,i,u){var c=u.element;Q(["position","left","right","top","bottom"],function(f){return vn(c,f)}),Lo(c,tv),i.clear(u.uid)}}),state:Object.freeze({__proto__:null,init:function(){var e={};return ca({readState:function(){return e},clear:function(o){qr(o)?delete e[o]:e={}},set:function(o,i){e[o]=i},get:function(o){return be(e,o)}})}})}),Yg=function(e){fn(e,Rs());var o=e.components();Q(o,Yg)},wv=function(e){var o=e.components();Q(o,wv),fn(e,_o())},I0=function(e,o,i){e.getSystem().addToWorld(o),i(e.element,o.element),ki(e.element)&&wv(o),e.syncComponents()},L0=function(e,o,i){i(e,o.element);var u=Fn(o.element);Q(u,function(c){o.getByDom(c).each(wv)})},F0=Object.freeze({__proto__:null,cloak:R0,decloak:p_,open:zs,openWhileCloaked:function(e,o,i,u,c){R0(e,o),zs(e,o,i,u),c(),p_(e,o)},close:Vl,isOpen:w0,isPartOf:function(e,o,i,u){return w0(0,0,i)&&i.get().exists(function(c){return o.isPartOf(e,c,u)})},getState:function(e,o,i){return i.get()},setContent:function(e,o,i,u){return i.get().map(function(){return Uf(e,o,i,u)})}}),Rk=Object.freeze({__proto__:null,events:function(e,o){return oo([Rt(Fh(),function(i,u){Vl(i,e,o)})])}}),Ze=Or({fields:[yn("onOpen"),yn("onClose"),Bt("isPartOf"),Bt("getAttachPoint"),rt("cloakVisibilityAttr","data-precloak-visibility")],name:"sandboxing",active:Rk,apis:F0,state:Object.freeze({__proto__:null,init:function(){var e=qo(),o=ot("not-implemented");return ca({readState:o,isOpen:e.isSet,clear:e.clear,set:e.set,get:e.get})}})}),Jc=ot("dismiss.popups"),Jf=ot("reposition.popups"),Cv=ot("mouse.released"),H0=ra([rt("isExtraPart",Je),ia("fireEventInstead",[rt("event",Mf())])]),v_=ra([ia("fireEventInstead",[rt("event",Fy())]),zo("doReposition")]),Mk=Object.freeze({__proto__:null,onLoad:sv,onUnload:cv,setValue:function(e,o,i,u){o.store.manager.setValue(e,o,i,u)},getValue:function(e,o,i){return o.store.manager.getValue(e,o,i)},getState:function(e,o,i){return i}}),z0=Object.freeze({__proto__:null,events:function(e,o){var i=e.resetOnDom?[$o(function(u,c){sv(u,e,o)}),os(function(u,c){cv(u,e,o)})]:[Kh(e,o,sv)];return oo(i)}}),V0=Object.freeze({__proto__:null,memory:C0,dataset:m_,manual:function(){return ca({readState:Xt})},init:function(e){return e.store.manager.state(e)}}),b_=[bn("initialValue"),Bt("getFallbackEntry"),Bt("getDataKey"),Bt("setValue"),Re("manager",{setValue:eu,getValue:function(e,o,i){var u=o.store,c=u.getDataKey(e);return i.lookup(c).getOrThunk(function(){return u.getFallbackEntry(c)})},onLoad:function(e,o,i){o.store.initialValue.each(function(u){eu(e,o,i,u)})},onUnload:function(e,o,i){i.clear()},state:m_})],j0=[Bt("getValue"),rt("setValue",Xt),bn("initialValue"),Re("manager",{setValue:function(e,o,i,u){o.store.setValue(e,u),o.onSetValue(e,u)},getValue:function(e,o,i){return o.store.getValue(e)},onLoad:function(e,o,i){o.store.initialValue.each(function(u){o.store.setValue(e,u)})},onUnload:Xt,state:Ba.init})],Zt=Or({fields:[wo("store",{mode:"memory"},Jr("mode",{memory:[bn("initialValue"),Re("manager",{setValue:function(e,o,i,u){i.set(u),o.onSetValue(e,u)},getValue:function(e,o,i){return i.get()},onLoad:function(e,o,i){o.store.initialValue.each(function(u){i.isNotSet()&&i.set(u)})},onUnload:function(e,o,i){i.clear()},state:C0})],manual:j0,dataset:b_})),yn("onSetValue"),rt("resetOnDom",!1)],name:"representing",active:z0,apis:Mk,extra:{setValueFrom:function(e,o){var i=Zt.getValue(o);Zt.setValue(e,i)}},state:V0}),jl=Go,Qf=cr,Jg="placeholder",Zf=jo([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),Qg=function(e,o,i,u){return c=e,g=u,(lv(f=i)&&f.uiType===Jg?(b=f,C=g,(v=c).exists(function(S){return S!==b.owner})?Zf.single(!0,ot(b)):be(C,b.name).fold(function(){throw new Error("Unknown placeholder component: "+b.name+`
Known: [`+_t(C)+`]
Namespace: `+v.getOr("none")+`
Spec: `+JSON.stringify(b,null,2))},function(S){return S.replace()})):Zf.single(!1,ot(f))).fold(function(S,O){var D=lv(i)?O(o,i.config,i.validated):O(o),R=on(be(D,"components").getOr([]),function(L){return Qg(e,o,L,u)});return[q(q({},D),{components:R})]},function(S,O){if(lv(i)){var D=O(o,i.config,i.validated);return i.validated.preprocess.getOr(ne)(D)}return O(o)});var c,f,g,v,b,C},bm=Zf.single,Ce=Zf.multiple,y_=ot(Jg),td=jo([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Zg=rt("factory",{sketch:ne}),U0=rt("schema",[]),tp=Bt("name"),_v=Qo("pname","pname",Es(function(e){return"<alloy."+fe(e.name)+">"}),kr()),W0=Ti("schema",function(){return[bn("preprocess")]}),ep=rt("defaults",ot({})),np=rt("overrides",ot({})),x_=ce([Zg,U0,tp,_v,ep,np]),w_=ce([Zg,U0,tp,ep,np]),$0=ce([Zg,U0,tp,_v,ep,np]),C_=ce([Zg,W0,tp,Bt("unit"),_v,ep,np]),oi=Yc(td.required,x_),Au=Yc(td.external,w_),js=Yc(td.optional,$0),Sv=Yc(td.group,C_),q0=ot("entirety"),Pk=Object.freeze({__proto__:null,required:oi,external:Au,optional:js,group:Sv,asNamedPart:fv,name:dv,asCommon:function(e){return e.fold(ne,ne,ne,ne)},original:q0}),op=function(e,o){return{uiType:y_(),owner:e,name:o}},__=Object.freeze({__proto__:null,generate:Wg,generateOne:$g,schemas:qg,names:_0,substitutes:pm,components:S0,defaultUids:g_,defaultUidsSchema:E0,getAllParts:mv,getAllPartNames:k0,getPart:wn,getPartOrDie:vr,getParts:jr,getPartsOrDie:gv}),kv=function(e){return ht(e,"uid")?e:q(q({},e),{uid:Pf("uid")})},S_=ra([Bt("name"),Bt("factory"),Bt("configFields"),rt("apis",{}),rt("extraApis",{})]),Ik=ra([Bt("name"),Bt("factory"),Bt("configFields"),Bt("partFields"),rt("apis",{}),rt("extraApis",{})]),k_=Object.freeze({__proto__:null,getCurrent:function(e,o,i){return o.find(e)}}),an=Or({fields:[Bt("find")],name:"composing",apis:k_}),E_=["input","button","textarea","select"],Ev=function(e,o,i){o.disableClass.each(function(u){zr(e.element,u)}),(qf(e,o)?function(u){qe(u.element,"disabled","disabled")}:function(u){qe(u.element,"aria-disabled","true")})(e),o.onDisabled(e)},G0=function(e,o,i){o.disableClass.each(function(u){sr(e.element,u)}),(qf(e,o)?function(u){Lo(u.element,"disabled")}:function(u){qe(u.element,"aria-disabled","false")})(e),o.onEnabled(e)},Ov=Object.freeze({__proto__:null,enable:G0,disable:Ev,isDisabled:hv,onLoad:$f,set:function(e,o,i,u){(u?Ev:G0)(e,o)}}),X0=Object.freeze({__proto__:null,exhibit:function(e,o){return Ds({classes:o.disabled()?o.disableClass.toArray():[]})},events:function(e,o){return oo([Aa(Na(),function(i,u){return hv(i,e)}),Kh(e,o,$f)])}}),he=Or({fields:[co("disabled",Je),rt("useNative",!0),bn("disableClass"),yn("onDisabled"),yn("onEnabled")],name:"disabling",active:X0,apis:Ov}),Tv=Object.freeze({__proto__:null,dehighlightAll:function(e,o,i){return T0(e,o,0,[])},dehighlight:function(e,o,i,u){ss(0,o,0,u)&&(sr(u.element,o.highlightClass),o.onDehighlight(e,u),fn(u,zy()))},highlight:gc,highlightFirst:function(e,o,i){M0(e,o).each(function(u){gc(e,o,0,u)})},highlightLast:function(e,o,i){bv(e,o).each(function(u){gc(e,o,0,u)})},highlightAt:function(e,o,i,u){var c,f,g;f=u,g=ji((c=e).element,"."+o.itemClass),w.from(g[f]).fold(function(){return Ee.error(new Error("No element found with index "+f))},c.getSystem().getByDom).fold(function(v){throw v},function(v){gc(e,o,0,v)})},highlightBy:function(e,o,i,u){uo(Xf(e,o),u).each(function(c){gc(e,o,0,c)})},isHighlighted:ss,getHighlighted:function(e,o,i){return pr(e.element,"."+o.highlightClass).bind(function(u){return e.getSystem().getByDom(u).toOptional()})},getFirst:M0,getLast:bv,getPrevious:function(e,o,i){return hm(e,o,0,-1)},getNext:function(e,o,i){return hm(e,o,0,1)},getCandidates:Xf}),Pn=Or({fields:[Bt("highlightClass"),Bt("itemClass"),yn("onHighlight"),yn("onDehighlight")],name:"highlighting",apis:Tv}),Lk=[8],Qc=[9],ls=[13],hc=[27],ha=[32],rp=[37],ym=[38],ip=[39],Ul=[40],Wl=Io(Gf);function $l(e,o,i,u,c){function f(v,b,C,S,O){var D=C(v,b,S,O),R=b.event;return uo(D,function(L){return L.matches(R)}).map(function(L){return L.classification}).bind(function(L){return L(v,b,S,O)})}var g={schema:function(){return e.concat([rt("focusManager",Gg()),wo("focusInside","onFocus",Ga(function(v){return Zn(["onFocus","onEnterOrSpace","onApi"],v)?Ee.value(v):Ee.error("Invalid value for focusInside")})),Re("handler",g),Re("state",o),Re("sendFocusIn",c)])},processKey:f,toEvents:function(v,b){var C=v.focusInside!==ga.OnFocusMode?w.none():c(v).map(function(O){return Rt(Ni(),function(D,R){O(D,v,b),R.stop()})}),S=[Rt(Bs(),function(O,D){f(O,D,i,v,b).fold(function(){var R=O,L=D,I=rn(ha.concat(ls))(L.event);v.focusInside===ga.OnEnterOrSpaceMode&&I&&Ts(R,L)&&c(v).each(function(F){F(R,v,b),L.stop()})},function(R){D.stop()})}),Rt(Zd(),function(O,D){f(O,D,u,v,b).each(function(R){D.stop()})})];return oo(C.toArray().concat(S))}};return g}function xm(e){function o(v,b){return 0<ur(v.visibilitySelector.bind(function(C){return la(b,C)}).getOr(b))}function i(v,b,C){var S=b,O=Ne(ji(v.element,S.selector),function(D){return o(S,D)});w.from(O[S.firstTabstop]).each(function(D){b.focusManager.set(v,D)})}function u(v,b,C,S){var O,D=ji(v.element,C.selector);return(O=C).focusManager.get(v).bind(function(R){return la(R,O.selector)}).bind(function(R){return We(D,Nn(Be,R)).bind(function(L){return I=v,F=C,S(D,L,function(z){return o(U=F,M=z)&&U.useTabstopAt(M);var U,M}).fold(function(){return F.cyclic?w.some(!0):w.none()},function(z){return F.focusManager.set(I,z),w.some(!0)});var I,F})})}var c=[bn("onEscape"),bn("onEnter"),rt("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),rt("firstTabstop",0),rt("useTabstopAt",nn),bn("visibilitySelector")].concat([e]),f=ot([dn(Ou([Gf,rn(Qc)]),function(v,b,C){return u(v,0,C,C.cyclic?A0:D0)}),dn(rn(Qc),function(v,b,C){return u(v,0,C,C.cyclic?vv:N0)}),dn(rn(hc),function(v,b,C){return C.onEscape.bind(function(S){return S(v,b)})}),dn(Ou([Wl,rn(ls)]),function(v,b,C){return C.onEnter.bind(function(S){return S(v,b)})})]),g=ot([]);return $l(c,Ba.init,f,g,function(){return w.some(i)})}function wm(e,o,i){return Wf(i)&&rn(ha)(o.event)?w.none():(Xd(e,i,Na()),w.some(!0))}function Cm(e,o){return w.some(!0)}function O_(e,o,i){return i.execute(e,o,e.element)}function T_(){var e=qo();return ca({readState:function(){return e.get().map(function(o){return{numRows:String(o.numRows),numColumns:String(o.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(o,i){e.set({numRows:o,numColumns:i})},getNumRows:function(){return e.get().map(function(o){return o.numRows})},getNumColumns:function(){return e.get().map(function(o){return o.numColumns})}})}function Av(e){return function(o,i,u,c){var f=e(o.element);return j_(f,o,i,u,c)}}function K0(e,o){return Av(Zh(e,o))}function _m(e,o){return Av(Zh(o,e))}function Dv(e){return function(o,i,u,c){return j_(e,o,i,u,c)}}function A_(e){return!((o=e.dom).offsetWidth<=0&&o.offsetHeight<=0);var o}function Y0(e,o,i){var u,c=Ne(ji(e,i),A_);return We(u=c,function(f){return Be(f,o)}).map(function(f){return{index:f,candidates:u}})}function Nv(e,o){return We(e,function(i){return Be(o,i)})}function Bv(e,o,i,u){return u(Math.floor(o/i),o%i).bind(function(c){var f=c.row*i+c.column;return 0<=f&&f<e.length?w.some(e[f]):w.none()})}function D_(e,o,i,u,c){return Bv(e,o,u,function(f,g){var v=f===i-1?e.length-f*u:u,b=im(g,c,0,v-1);return w.some({row:f,column:b})})}function Du(e,o,i,u,c){return Bv(e,o,u,function(f,g){var v=im(f,c,0,i-1),b=v===i-1?e.length-v*u:u,C=Za(g,0,b-1);return w.some({row:v,column:C})})}function Ui(e,o,i){pr(e.element,o.selector).each(function(u){o.focusManager.set(e,u)})}function ap(e){return function(o,i,u,c){return Y0(o,i,u.selector).bind(function(f){return e(f.candidates,f.index,c.getNumRows().getOr(u.initSize.numRows),c.getNumColumns().getOr(u.initSize.numColumns))})}}function J0(e,o,i){return i.captureTab?w.some(!0):w.none()}function up(e,o,i,u){var c=function(f,g,v){var b,C=im(g,u,0,v.length-1);return C===f?w.none():le(b=v[C])==="button"&&so(b,"disabled")==="disabled"?c(f,C,v):w.from(v[C])};return Y0(e,i,o).bind(function(f){var g=f.index,v=f.candidates;return c(g,g,v)})}function Rv(e,o,i){return(u=i).focusManager.get(e).bind(function(c){return la(c,u.selector)}).bind(function(c){return i.execute(e,o,c)});var u}function N_(e,o,i){o.getInitial(e).orThunk(function(){return pr(e.element,o.selector)}).each(function(u){o.focusManager.set(e,u)})}function B_(e,o,i){return up(e,i.selector,o,-1)}function R_(e,o,i){return up(e,i.selector,o,1)}function M_(e){return function(o,i,u,c){return e(o,i,u,c).bind(function(){return u.executeOnMove?Rv(o,i,u):w.some(!0)})}}function Fk(e,o,i){return i.onEscape(e,o)}function sp(e,o,i){return w.from(e[o]).bind(function(u){return w.from(u[i]).map(function(c){return{rowIndex:o,columnIndex:i,cell:c}})})}function Q0(e,o,i,u){return sp(e,o,im(i,u,0,e[o].length-1))}function Z0(e,o,i,u){var c=im(i,u,0,e.length-1),f=e[c].length;return sp(e,c,Za(o,0,f-1))}function tx(e,o,i,u){var c=e[o].length;return sp(e,o,Za(i+u,0,c-1))}function ed(e,o,i,u){var c=Za(i+u,0,e.length-1),f=e[c].length;return sp(e,c,Za(o,0,f-1))}function Hk(e,o,i){o.previousSelector(e).orThunk(function(){var u=o.selectors;return pr(e.element,u.cell)}).each(function(u){o.focusManager.set(e,u)})}function Mv(e,o){return function(i,u,c){var f=c.cycles?e:o;return la(u,c.selectors.row).bind(function(g){return Nv(ji(g,c.selectors.cell),u).bind(function(v){var b=ji(i,c.selectors.row);return Nv(b,g).bind(function(C){var S,O=(S=c,Vt(b,function(D){return ji(D,S.selectors.cell)}));return f(O,C,v).map(function(D){return D.cell})})})})}}function P_(e,o,i){return i.focusManager.get(e).bind(function(u){return i.execute(e,o,u)})}function zk(e,o,i){pr(e.element,o.selector).each(function(u){o.focusManager.set(e,u)})}function ex(e,o,i){return up(e,i.selector,o,-1)}function nx(e,o,i){return up(e,i.selector,o,1)}function cp(e,o,i,u){var c=e.getSystem().build(u);I0(e,c,i)}function ox(e,o,i,u){uo(Em(e),function(c){return Be(u.element,c.element)}).each(zl)}function I_(e,o,i,u,c){var f=Em(e);return w.from(f[u]).map(function(g){return ox(e,0,0,g),c.each(function(v){cp(e,0,function(b,C){var S,O=C;er(S=b,u).fold(function(){Ao(S,O)},function(D){hu(D,O)})},v)}),g})}function Me(e,o){var i,u;return{key:e,value:{config:{},me:(i=e,u=oo(o),Or({fields:[Bt("enabled")],name:i,active:{events:ot(u)}})),configAsRaw:ot({}),initialConfig:{},state:Ba}}}function rx(e,o){o.ignore||(dc(e.element),o.onFocus(e))}function ix(e,o,i){var u=o.aria;u.update(e,u,i.get())}function ql(e,o,i){o.toggleClass.each(function(u){(i.get()?zr:sr)(e.element,u)})}function L_(e,o,i){km(e,o,i,!i.get())}function ax(e,o,i){i.set(!0),ql(e,o,i),ix(e,o,i)}function vc(e,o,i){i.set(!1),ql(e,o,i),ix(e,o,i)}function Pv(e,o,i){km(e,o,i,o.selected)}function ux(){function e(o,i){i.stop(),rc(o)}return[Rt(Ol(),e),Rt(Rf(),e),ic(Ka()),ic(Bn())]}function lp(e){return oo(Jn([e.map(function(o){return Ms(function(i,u){o(i),u.stop()})}).toArray(),ux()]))}function sx(e){(is(e.element).isNone()||De.isFocused(e))&&(De.isFocused(e)||De.focus(e),we(e,Uv,{item:e}))}function F_(e){we(e,wx,{item:e})}function fp(e,o){return e.x+e.width/2-o.width/2}function dp(e,o){return e.x+e.width-o.width}function mp(e,o){return e.y+e.height-o.height}function cx(e,o){return e.y+e.height/2-o.height/2}function gp(e,o,i){return Er(dp(e,o),mp(e,o),i.insetSouthwest(),Sg(),"southwest",No(e,{right:0,bottom:3}),tl)}function pp(e,o,i){return Er(e.x,mp(e,o),i.insetSoutheast(),_g(),"southeast",No(e,{left:1,bottom:3}),tl)}function Sm(e,o,i){return Er(dp(e,o),e.y,i.insetNorthwest(),Yh(),"northwest",No(e,{right:0,top:2}),tl)}function nd(e,o,i){return Er(e.x,e.y,i.insetNortheast(),Ls(),"northeast",No(e,{left:1,top:2}),tl)}function hp(e,o,i){return Er(dp(e,o),cx(e,o),i.insetEast(),Il(),"east",No(e,{right:0}),tl)}function vp(e,o,i){return Er(e.x,cx(e,o),i.insetWest(),n0(),"west",No(e,{left:1}),tl)}function H_(e){switch(e){case"north":return ds;case"northeast":return nd;case"northwest":return Sm;case"south":return Nu;case"southeast":return pp;case"southwest":return gp;case"east":return hp;case"west":return vp}}function lx(e,o,i,u,c){return Et(u).map(H_).getOr(ds)(e,o,i,u,c)}function Vk(e){switch(e){case"north":return Nu;case"northeast":return pp;case"northwest":return gp;case"south":return ds;case"southeast":return nd;case"southwest":return Sm;case"east":return vp;case"west":return hp}}function jk(e,o,i,u,c){return Et(u).map(Vk).getOr(ds)(e,o,i,u,c)}function bc(e){var o=kt.fromHtml(e),i=Fn(o),u=tr(o.dom.attributes!==void 0?o.dom.attributes:[],function(g,v){var b;return v.name==="class"?g:q(q({},g),((b={})[v.name]=v.value,b))},{}),c=Array.prototype.slice.call(o.dom.classList,0),f=i.length===0?{}:{innerHtml:By(o)};return q({tag:le(o),classes:c,attributes:u},f)}function _n(e){var o=e.uid!==void 0&&Fr(e,"uid")?e.uid:Pf("memento");return{get:function(i){return i.getSystem().getByUid(o).getOrDie()},getOpt:function(i){return i.getSystem().getByUid(o).toOptional()},asSpec:function(){return q(q({},e),{uid:o})}}}(xv=ga=ga||{}).OnFocusMode="onFocus",xv.OnEnterOrSpaceMode="onEnterOrSpace",xv.OnApiMode="onApi";function km(e,o,i,u){(u?ax:vc)(e,o,i)}function Iv(e,o,i){qe(e.element,"aria-expanded",i)}function Lv(e){return e.type==="prepared"?w.some(e.menu):w.none()}var Uk=xm(Ti("cyclic",Je)),z_=xm(Ti("cyclic",nn)),V_=$l([rt("execute",wm),rt("useSpace",!1),rt("useEnter",!0),rt("useControlEnter",!1),rt("useDown",!1)],Ba.init,function(e,o,i,u){var c=i.useSpace&&!Wf(e.element)?ha:[],f=i.useEnter?ls:[],g=i.useDown?Ul:[];return[dn(rn(c.concat(f).concat(g)),O_)].concat(i.useControlEnter?[dn(Ou([Nk,rn(ls)]),O_)]:[])},function(e,o,i,u){return i.useSpace&&!Wf(e.element)?[dn(rn(ha),Cm)]:[]},function(){return w.none()}),Wk=Object.freeze({__proto__:null,flatgrid:T_,init:function(e){return e.state(e)}}),j_=function(e,o,i,u,c){return u.focusManager.get(o).bind(function(f){return e(o.element,f,u,c)}).map(function(f){return u.focusManager.set(o,f),!0})},fx=Dv,U_=Dv,Fv=Dv,Gl=ap(function(e,o,i,u){return D_(e,o,i,u,-1)}),Hv=ap(function(e,o,i,u){return D_(e,o,i,u,1)}),dx=ap(function(e,o,i,u){return Du(e,o,i,u,-1)}),zv=ap(function(e,o,i,u){return Du(e,o,i,u,1)}),W_=$l([Bt("selector"),rt("execute",wm),Ma("onEscape"),rt("captureTab",!1),t0()],T_,ot([dn(rn(rp),K0(Gl,Hv)),dn(rn(ip),_m(Gl,Hv)),dn(rn(ym),fx(dx)),dn(rn(Ul),U_(zv)),dn(Ou([Gf,rn(Qc)]),J0),dn(Ou([Wl,rn(Qc)]),J0),dn(rn(hc),function(e,o,i){return i.onEscape(e,o)}),dn(rn(ha.concat(ls)),function(e,o,i,u){return(c=i).focusManager.get(e).bind(function(f){return la(f,c.selector)}).bind(function(f){return i.execute(e,o,f)});var c})]),ot([dn(rn(ha),Cm)]),function(){return w.some(Ui)}),$_=[Bt("selector"),rt("getInitial",w.none),rt("execute",wm),Ma("onEscape"),rt("executeOnMove",!1),rt("allowVertical",!0)],mx=ot([dn(rn(ha),Cm)]),q_=$l($_,Ba.init,function(e,o,i,u){var c=rp.concat(i.allowVertical?ym:[]),f=ip.concat(i.allowVertical?Ul:[]);return[dn(rn(c),M_(K0(B_,R_))),dn(rn(f),M_(_m(B_,R_))),dn(rn(ls),Rv),dn(rn(ha),Rv),dn(rn(hc),Fk)]},mx,function(){return w.some(N_)}),G_=[Xa("selectors",[Bt("row"),Bt("cell")]),rt("cycles",!0),rt("previousSelector",w.none),rt("execute",wm)],Vv=Mv(function(e,o,i){return Q0(e,o,i,-1)},function(e,o,i){return tx(e,o,i,-1)}),gx=Mv(function(e,o,i){return Q0(e,o,i,1)},function(e,o,i){return tx(e,o,i,1)}),$k=Mv(function(e,o,i){return Z0(e,i,o,-1)},function(e,o,i){return ed(e,i,o,-1)}),X_=Mv(function(e,o,i){return Z0(e,i,o,1)},function(e,o,i){return ed(e,i,o,1)}),px=ot([dn(rn(rp),K0(Vv,gx)),dn(rn(ip),_m(Vv,gx)),dn(rn(ym),fx($k)),dn(rn(Ul),U_(X_)),dn(rn(ha.concat(ls)),function(e,o,i){return is(e.element).bind(function(u){return i.execute(e,o,u)})})]),K_=ot([dn(rn(ha),Cm)]),Y_=$l(G_,Ba.init,px,K_,function(){return w.some(Hk)}),qk=[Bt("selector"),rt("execute",wm),rt("moveOnTab",!1)],Gk=ot([dn(rn(ym),Fv(ex)),dn(rn(Ul),Fv(nx)),dn(Ou([Gf,rn(Qc)]),function(e,o,i,u){return i.moveOnTab?Fv(ex)(e,o,i,u):w.none()}),dn(Ou([Wl,rn(Qc)]),function(e,o,i,u){return i.moveOnTab?Fv(nx)(e,o,i,u):w.none()}),dn(rn(ls),P_),dn(rn(ha),P_)]),J_=ot([dn(rn(ha),Cm)]),Q_=$l(qk,Ba.init,Gk,J_,function(){return w.some(zk)}),Xk=$l([Ma("onSpace"),Ma("onEnter"),Ma("onShiftEnter"),Ma("onLeft"),Ma("onRight"),Ma("onTab"),Ma("onShiftTab"),Ma("onUp"),Ma("onDown"),Ma("onEscape"),rt("stopSpaceKeyup",!1),bn("focusIn")],Ba.init,function(e,o,i){return[dn(rn(ha),i.onSpace),dn(Ou([Wl,rn(ls)]),i.onEnter),dn(Ou([Gf,rn(ls)]),i.onShiftEnter),dn(Ou([Gf,rn(Qc)]),i.onShiftTab),dn(Ou([Wl,rn(Qc)]),i.onTab),dn(rn(ym),i.onUp),dn(rn(Ul),i.onDown),dn(rn(rp),i.onLeft),dn(rn(ip),i.onRight),dn(rn(ha),i.onSpace),dn(rn(hc),i.onEscape)]},function(e,o,i){return i.stopSpaceKeyup?[dn(rn(ha),Cm)]:[]},function(e){return e.focusIn}),jv=Uk.schema(),hx=z_.schema(),Kk=q_.schema(),Yk=W_.schema(),vx=Y_.schema(),Z_=V_.schema(),Jk=Q_.schema(),Qk=Xk.schema(),ve=$C({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:jv,cyclic:hx,flow:Kk,flatgrid:Yk,matrix:vx,execution:Z_,menu:Jk,special:Qk}),name:"keying",active:{events:function(e,o){return e.handler.toEvents(e,o)}},apis:{focusIn:function(e,o,i){o.sendFocusIn(o).fold(function(){e.getSystem().triggerFocus(e.element,e.element)},function(u){u(e,o,i)})},setGridSize:function(e,o,i,u,c){Fr(i,"setGridSize")?i.setGridSize(u,c):console.error("Layout does not support setGridSize")}},state:Wk}),Em=function(e,o){return e.components()},Le=Or({fields:[],name:"replacing",apis:Object.freeze({__proto__:null,append:function(e,o,i,u){cp(e,0,Ao,u)},prepend:function(e,o,i,u){cp(e,0,_s,u)},remove:ox,replaceAt:I_,replaceBy:function(e,o,i,u,c){return We(Em(e),u).bind(function(f){return I_(e,0,0,f,c)})},set:function(e,o,i,u){Jy(function(){var c=Vt(u,e.getSystem().build);y0(e,c)},e.element)},contents:Em})}),t1=Object.freeze({__proto__:null,focus:rx,blur:function(e,o){o.ignore||e.element.dom.blur()},isFocused:function(e){return Yy(e.element)}}),bx=Object.freeze({__proto__:null,exhibit:function(e,o){return Ds(o.ignore?{}:{attributes:{tabindex:"-1"}})},events:function(e){return oo([Rt(Ni(),function(o,i){rx(o,e),i.stop()})].concat(e.stopMousedown?[Rt(Bn(),function(o,i){i.event.prevent()})]:[]))}}),De=Or({fields:[yn("onFocus"),rt("stopMousedown",!1),rt("ignore",!1)],name:"focusing",active:bx,apis:t1}),yx=Object.freeze({__proto__:null,onLoad:Pv,toggle:L_,isOn:function(e,o,i){return i.get()},on:ax,off:vc,set:km}),xx=Object.freeze({__proto__:null,exhibit:function(){return Ds({})},events:function(e,o){var i,u,c,f=(i=e,u=o,c=L_,Ms(function(v){c(v,i,u)})),g=Kh(e,o,Pv);return oo(Jn([e.toggleOnExecute?[f]:[],[g]]))}}),mn=Or({fields:[rt("selected",!1),bn("toggleClass"),rt("toggleOnExecute",!0),wo("aria",{mode:"none"},Jr("mode",{pressed:[rt("syncWithExpanded",!1),Re("update",function(e,o,i){qe(e.element,"aria-pressed",i),o.syncWithExpanded&&Iv(e,0,i)})],checked:[Re("update",function(e,o,i){qe(e.element,"aria-checked",i)})],expanded:[Re("update",Iv)],selected:[Re("update",function(e,o,i){qe(e.element,"aria-selected",i)})],none:[Re("update",Xt)]}))],name:"toggling",active:xx,apis:yx,state:{init:function(){var e=ge(!1);return{get:function(){return e.get()},set:function(o){return e.set(o)},clear:function(){return e.set(!1)},readState:function(){return e.get()}}}}}),Uv="alloy.item-hover",wx="alloy.item-focus",Cx=ot(Uv),_x=ot(wx),Sx=[Bt("data"),Bt("components"),Bt("dom"),rt("hasSubmenu",!1),bn("toggling"),jl("itemBehaviours",[mn,De,ve,Zt]),rt("ignoreFocus",!1),rt("domModification",{}),Re("builder",function(e){return{dom:e.dom,domModification:q(q({},e.domModification),{attributes:q(q(q({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Qf(e.itemBehaviours,[e.toggling.fold(mn.revoke,function(o){return mn.config(q({aria:{mode:"checked"}},o))}),De.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(o){F_(o)}}),ve.config({mode:"execution"}),Zt.config({store:{mode:"memory",initialValue:e.data}}),Me("item-type-events",Ge(Ge([],ux(),!0),[Rt(sc(),sx),Rt(em(),De.focus)],!1))]),components:e.components,eventOrder:e.eventOrder}}),rt("eventOrder",{})],kx=[Bt("dom"),Bt("components"),Re("builder",function(e){return{dom:e.dom,components:e.components,events:oo([Rt(em(),function(o,i){i.stop()})])}})],Wv=ot("item-widget"),$v=ot([oi({name:"widget",overrides:function(e){return{behaviours:Kt([Zt.config({store:{mode:"manual",getValue:function(o){return e.data},setValue:Xt}})])}}})]),Zk=Jr("type",{widget:[Bt("uid"),Bt("data"),Bt("components"),Bt("dom"),rt("autofocus",!1),rt("ignoreFocus",!1),jl("widgetBehaviours",[Zt,De,ve]),rt("domModification",{}),E0($v()),Re("builder",function(e){function o(f){return wn(f,e,"widget").map(function(g){return ve.focusIn(g),g})}function i(f,g){return Wf(g.event.target)||e.autofocus&&g.setSource(f.element),w.none()}var u=pm(Wv(),e,$v()),c=S0(Wv(),e,u.internals());return{dom:e.dom,components:c,domModification:e.domModification,events:oo([Ms(function(f,g){o(f).each(function(v){g.stop()})}),Rt(sc(),sx),Rt(em(),function(f,g){e.autofocus?o(f):De.focus(f)})]),behaviours:Qf(e.widgetBehaviours,[Zt.config({store:{mode:"memory",initialValue:e.data}}),De.config({ignore:e.ignoreFocus,onFocus:function(f){F_(f)}}),ve.config({mode:"special",focusIn:e.autofocus?function(f){o(f)}:Eg(),onLeft:i,onRight:i,onEscape:function(f,g){return De.isFocused(f)||e.autofocus?(e.autofocus&&g.setSource(f.element),w.none()):(De.focus(f),w.some(!0))}})])}})],item:Sx,separator:kx}),tE=ot([Sv({factory:{sketch:function(e){var o=Sr("menu.spec item",Zk,e);return o.builder(o)}},name:"items",unit:"item",defaults:function(e,o){return ht(o,"uid")?o:q(q({},o),{uid:Pf("item")})},overrides:function(e,o){return{type:o.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),eE=ot([Bt("value"),Bt("items"),Bt("dom"),Bt("components"),rt("eventOrder",{}),Go("menuBehaviours",[Pn,Zt,an,ve]),wo("movement",{mode:"menu",moveOnTab:!0},Jr("mode",{grid:[t0(),Re("config",function(e,o){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:o.initSize.numColumns,numRows:o.initSize.numRows},focusManager:e.focusManager}})],matrix:[Re("config",function(e,o){return{mode:"matrix",selectors:{row:o.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}}),Bt("rowSelector")],menu:[rt("moveOnTab",!0),Re("config",function(e,o){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:o.moveOnTab,focusManager:e.focusManager}})]})),mi("markers",sm()),rt("fakeFocus",!1),rt("focusManager",Gg()),yn("onHighlight")]),Ex=ot("alloy.menu-focus"),Zc=ni({name:"Menu",configFields:eE(),partFields:tE(),factory:function(e,o,i,u){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:cr(e.menuBehaviours,[Pn.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),Zt.config({store:{mode:"memory",initialValue:e.value}}),an.config({find:w.some}),ve.config(e.movement.config(e,e.movement))]),events:oo([Rt(_x(),function(c,f){var g=f.event;c.getSystem().getByDom(g.target).each(function(v){Pn.highlight(c,v),f.stop(),we(c,Ex(),{menu:c,item:v})})}),Rt(Cx(),function(c,f){var g=f.event.item;Pn.highlight(c,g)})]),components:o,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}}}),qv=function(e,o,i,u){return be(i,u).bind(function(c){return be(e,c).bind(function(f){var g=qv(e,o,i,f);return w.some([f].concat(g))})}).getOr([])},Ox=function(){function e(b){return v(b).bind(Lv)}function o(b){return be(i.get(),b)}var i=ge({}),u=ge({}),c=ge({}),f=qo(),g=ge({}),v=function(b){return be(u.get(),b)};return{setMenuBuilt:function(b,C){var S;u.set(q(q({},u.get()),((S={})[b]={type:"prepared",menu:C},S)))},setContents:function(b,C,S,O){f.set(b),i.set(S),u.set(C),g.set(O);var D=(function(R,L){var I={};Qn(R,function(M,j){Q(M,function(K){I[K]=j})});var F=L,z=de(L,function(M,j){return{k:M,v:j}}),U=ko(z,function(M,j){return[j].concat(qv(I,F,z,j))});return ko(I,function(M){return be(U,M).getOr([M])})})(O,S);c.set(D)},expand:function(b){return be(i.get(),b).map(function(C){var S=be(c.get(),b).getOr([]);return[C].concat(S)})},refresh:function(b){return be(c.get(),b)},collapse:function(b){return be(c.get(),b).bind(function(C){return 1<C.length?w.some(C.slice(1)):w.none()})},lookupMenu:v,lookupItem:o,otherMenus:function(b){var C=g.get();return Pe(_t(C),b)},getPrimary:function(){return f.get().bind(e)},getMenus:function(){return u.get()},clear:function(){i.set({}),u.set({}),c.set({}),f.clear()},isClear:function(){return f.get().isNone()},getTriggeringPath:function(b,C){var S=Ne(o(b).toArray(),function(O){return e(O).isSome()});return be(c.get(),b).bind(function(O){var D=bo(S.concat(O));return(function(R){for(var L=[],I=0;I<R.length;I++){var F=R[I];if(!F.isSome())return w.none();L.push(F.getOrDie())}return w.some(L)})(on(D,function(R,L){return I=R,F=C,z=D.slice(0,L+1),e(I).bind(function(U){return M=I,Nc(i.get(),function(j,K){return j===M}).bind(function(j){return F(j).map(function(K){return{triggeredMenu:U,triggeringItem:K,triggeringPath:z}})});var M}).fold(function(){return no(f.get(),R)?[]:[w.none()]},function(U){return[w.some(U)]});var I,F,z}))})}}},nE=Lv,oE=ot("collapse-item"),fs=nu({name:"TieredMenu",configFields:[Gy("onExecute"),Gy("onEscape"),$c("onOpenMenu"),$c("onOpenSubmenu"),yn("onRepositionMenu"),yn("onCollapseMenu"),rt("highlightImmediately",!0),Xa("data",[Bt("primary"),Bt("menus"),Bt("expansions")]),rt("fakeFocus",!1),yn("onHighlight"),yn("onHover"),Cg(),Bt("dom"),rt("navigateOnHover",!0),rt("stayInDom",!1),Go("tmenuBehaviours",[ve,Pn,an,Le]),rt("eventOrder",{})],apis:{collapseMenu:function(e,o){e.collapseMenu(o)},highlightPrimary:function(e,o){e.highlightPrimary(o)},repositionMenus:function(e,o){e.repositionMenus(o)}},factory:function(e,o){function i(M){var j,K,J=(j=M,K=e.data.primary,ko(e.data.menus,function(ut,yt){function Tt(){return Zc.sketch(q(q({},ut),{value:yt,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:(e.fakeFocus?B0:Gg)()}))}return yt===K?{type:"prepared",menu:j.getSystem().build(Tt())}:{type:"notbuilt",nbMenu:Tt}})),pt=ko(e.data.menus,function(ut,yt){return on(ut.items,function(Tt){return Tt.type==="separator"?[]:[Tt.data.value]})});return D.setContents(e.data.primary,J,e.data.expansions,pt),D.getPrimary()}function u(M){return Zt.getValue(M).value}function c(M,j){Pn.highlight(M,j),Pn.getHighlighted(j).orThunk(function(){return Pn.getFirst(j)}).each(function(K){Xd(M,K.element,em())})}function f(M,j){return _r(Vt(j,function(K){return M.lookupMenu(K).bind(function(J){return J.type==="prepared"?w.some(J.menu):w.none()})}))}function g(M,j,K){var J=f(j,j.otherMenus(K));Q(J,function(pt){ac(pt.element,[e.markers.backgroundMenu]),e.stayInDom||Le.remove(M,pt)})}function v(M,j){var K;Qn((K=M,O.get().getOrThunk(function(){var J={},pt=Ne(ji(K.element,"."+e.markers.item),function(ut){return so(ut,"aria-haspopup")==="true"});return Q(pt,function(ut){K.getSystem().getByDom(ut).each(function(yt){var Tt=u(yt);J[Tt]=yt})}),O.set(J),J})),function(J,pt){var ut=Zn(j,pt);qe(J.element,"aria-expanded",ut)})}function b(M,j,K){return w.from(K[0]).bind(function(J){return j.lookupMenu(J).bind(function(pt){if(pt.type==="notbuilt")return w.none();var ut=pt.menu,yt=f(j,K.slice(1));return Q(yt,function(Tt){zr(Tt.element,e.markers.backgroundMenu)}),ki(ut.element)||Le.append(M,Ja(ut)),ac(ut.element,[e.markers.backgroundMenu]),c(M,ut),g(M,j,K),w.some(ut)})})}var C,S,O=qo(),D=Ox();function R(M,j,K){if(K===void 0&&(K=C.HighlightSubmenu),j.hasConfigured(he)&&he.isDisabled(j))return w.some(j);var J=u(j);return D.expand(J).bind(function(pt){return v(M,pt),w.from(pt[0]).bind(function(ut){return D.lookupMenu(ut).bind(function(yt){var Tt=(function(xt,Nt,Lt){if(Lt.type!=="notbuilt")return Lt.menu;var Qt=xt.getSystem().build(Lt.nbMenu());return D.setMenuBuilt(Nt,Qt),Qt})(M,ut,yt);return ki(Tt.element)||Le.append(M,Ja(Tt)),e.onOpenSubmenu(M,j,Tt,bo(pt)),K===C.HighlightSubmenu?(Pn.highlightFirst(Tt),b(M,D,pt)):(Pn.dehighlightAll(Tt),w.some(j))})})})}function L(M,j){var K=u(j);return D.collapse(K).bind(function(J){return v(M,J),b(M,D,J).map(function(pt){return e.onCollapseMenu(M,j,pt),pt})})}function I(M){return function(j,K){return la(K.getSource(),"."+e.markers.item).bind(function(J){return j.getSystem().getByDom(J).toOptional().bind(function(pt){return M(j,pt).map(nn)})})}}function F(M){return Pn.getHighlighted(M).bind(Pn.getHighlighted)}(S=C={})[S.HighlightSubmenu=0]="HighlightSubmenu",S[S.HighlightParent=1]="HighlightParent";var z=oo([Rt(Ex(),function(M,j){var K=j.event.item;D.lookupItem(u(K)).each(function(){var J=j.event.menu;Pn.highlight(M,J);var pt=u(j.event.item);D.refresh(pt).each(function(ut){return g(M,D,ut)})})}),Ms(function(M,j){var K=j.event.target;M.getSystem().getByDom(K).each(function(J){u(J).indexOf("collapse-item")===0&&L(M,J),R(M,J,C.HighlightSubmenu).fold(function(){e.onExecute(M,J)},Xt)})}),$o(function(M,j){i(M).each(function(K){Le.append(M,Ja(K)),e.onOpenMenu(M,K),e.highlightImmediately&&c(M,K)})})].concat(e.navigateOnHover?[Rt(Cx(),function(M,j){var K=j.event.item,J=M,pt=u(K);D.refresh(pt).bind(function(ut){return v(J,ut),b(J,D,ut)}),R(M,K,C.HighlightParent),e.onHover(M,K)})]:[])),U={collapseMenu:function(M){F(M).each(function(j){L(M,j)})},highlightPrimary:function(M){D.getPrimary().each(function(j){c(M,j)})},repositionMenus:function(M){D.getPrimary().bind(function(j){return F(M).bind(function(K){var J=u(K),pt=_r(Vt(Wu(D.getMenus()),nE));return D.getTriggeringPath(J,function(ut){return yt=ut,eo(pt,function(Tt){return Tt.getSystem().isConnected()?uo(Pn.getCandidates(Tt),function(xt){return u(xt)===yt}):w.none()});var yt})}).map(function(K){return{primary:j,triggeringPath:K}})}).fold(function(){w.from(M.components()[0]).filter(function(j){return so(j.element,"role")==="menu"}).each(function(j){e.onRepositionMenu(M,j,[])})},function(j){var K=j.primary,J=j.triggeringPath;e.onRepositionMenu(M,K,J)})}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:cr(e.tmenuBehaviours,[ve.config({mode:"special",onRight:I(function(M,j){return Wf(j.element)?w.none():R(M,j,C.HighlightSubmenu)}),onLeft:I(function(M,j){return Wf(j.element)?w.none():L(M,j)}),onEscape:I(function(M,j){return L(M,j).orThunk(function(){return e.onEscape(M,j).map(function(){return M})})}),focusIn:function(M,j){D.getPrimary().each(function(K){Xd(M,K.element,em())})}}),Pn.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),an.config({find:function(M){return Pn.getHighlighted(M)}}),Le.config({})]),eventOrder:e.eventOrder,apis:U,events:z}},extraApis:{tieredData:function(e,o,i){return{primary:e,menus:o,expansions:i}},singleData:function(e,o){return{primary:e,menus:oc(e,o),expansions:{}}},collapseItem:function(e){return{value:fe(oE()),meta:{text:e}}}}}),ro=nu({name:"InlineView",configFields:[Bt("lazySink"),yn("onShow"),yn("onHide"),Ea("onEscape"),Go("inlineBehaviours",[Ze,Zt,tu]),ia("fireDismissalEventInstead",[rt("event",Mf())]),ia("fireRepositionEventInstead",[rt("event",Fy())]),rt("getRelated",w.none),rt("isExtraPart",Je),rt("eventOrder",w.none)],factory:function(e,o){function i(v){Ze.isOpen(v)&&Zt.getValue(v).each(function(b){switch(b.mode){case"menu":Ze.getState(v).each(fs.repositionMenus);break;case"position":var C=e.lazySink(v).getOrDie();Ri.positionWithinBounds(C,v,b.config,b.getBounds())}})}function u(v,b,C,S){f(v,b,C,function(){return S.map(function(O){return di(O)})})}function c(v,b,C,S){var O,D,R,L,I,F=(O=e,D=v,R=b,L=S,I=C.type==="horizontal"?{layouts:{onLtr:am,onRtl:um}}:{},fs.sketch({dom:{tag:"div"},data:C.data,markers:C.menu.markers,highlightImmediately:C.menu.highlightImmediately,onEscape:function(){return Ze.close(D),O.onEscape.map(function(M){return M(D)}),w.some(!0)},onExecute:function(){return w.some(!0)},onOpenMenu:function(M,j){Ri.positionWithinBounds(z().getOrDie(),j,R,L())},onOpenSubmenu:function(M,j,K,J){var pt=z().getOrDie();Ri.position(pt,K,{anchor:q({type:"submenu",item:j},U(J))})},onRepositionMenu:function(M,j,K){var J=z().getOrDie();Ri.positionWithinBounds(J,j,R,L()),Q(K,function(pt){var ut=U(pt.triggeringPath);Ri.position(J,pt.triggeredMenu,{anchor:q({type:"submenu",item:pt.triggeringItem},ut)})})}}));function z(){return O.lazySink(D)}function U(M){return M.length===2?I:{}}Ze.open(v,F),Zt.setValue(v,w.some({mode:"menu",menu:F}))}var f=function(v,b,C,S){var O=e.lazySink(v).getOrDie();Ze.openWhileCloaked(v,b,function(){return Ri.positionWithinBounds(O,v,C,S())}),Zt.setValue(v,w.some({mode:"position",config:C,getBounds:S}))},g={setContent:function(v,b){Ze.setContent(v,b)},showAt:function(v,b,C){u(v,b,C,w.none())},showWithin:u,showWithinBounds:f,showMenuAt:function(v,b,C){c(v,b,C,w.none)},showMenuWithinBounds:c,hide:function(v){Ze.isOpen(v)&&(Zt.setValue(v,w.none()),Ze.close(v))},getContent:function(v){return Ze.getState(v)},reposition:i,isOpen:Ze.isOpen};return{uid:e.uid,dom:e.dom,behaviours:cr(e.inlineBehaviours,[Ze.config({isPartOf:function(v,b,C){return If(b,C)||(S=C,e.getRelated(v).exists(function(O){return If(O,S)}));var S},getAttachPoint:function(v){return e.lazySink(v).getOrDie()},onOpen:function(v){e.onShow(v)},onClose:function(v){e.onHide(v)}}),Zt.config({store:{mode:"memory",initialValue:w.none()}}),tu.config({channels:q(q({},av(q({isExtraPart:o.isExtraPart},e.fireDismissalEventInstead.map(function(v){return{fireEventInstead:{event:v.event}}}).getOr({})))),uv(q(q({},e.fireRepositionEventInstead.map(function(v){return{fireEventInstead:{event:v.event}}}).getOr({})),{doReposition:i})))})]),eventOrder:e.eventOrder,apis:g}},apis:{showAt:function(e,o,i,u){e.showAt(o,i,u)},showWithin:function(e,o,i,u,c){e.showWithin(o,i,u,c)},showWithinBounds:function(e,o,i,u,c){e.showWithinBounds(o,i,u,c)},showMenuAt:function(e,o,i,u){e.showMenuAt(o,i,u)},showMenuWithinBounds:function(e,o,i,u,c){e.showMenuWithinBounds(o,i,u,c)},hide:function(e,o){e.hide(o)},isOpen:function(e,o){return e.isOpen(o)},getContent:function(e,o){return e.getContent(o)},setContent:function(e,o,i){e.setContent(o,i)},reposition:function(e,o){e.reposition(o)}}}),tl="layout-inset",ds=function(e,o,i){return Er(fp(e,o),e.y,i.insetNorth(),e0(),"north",No(e,{top:2}),tl)},Nu=function(e,o,i){return Er(fp(e,o),mp(e,o),i.insetSouth(),Jh(),"south",No(e,{bottom:3}),tl)},Ia=tinymce.util.Tools.resolve("tinymce.util.Delay"),pi=nu({name:"Button",factory:function(e){function o(c){return be(e.dom,"attributes").bind(function(f){return be(f,c)})}var i=lp(e.action),u=e.dom.tag;return{uid:e.uid,dom:e.dom,components:e.components,events:i,behaviours:Qf(e.buttonBehaviours,[De.config({}),ve.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:(function(){if(u!=="button")return{role:o("role").getOr("button")};var c=o("type").getOr("button"),f=o("role").map(function(g){return{role:g}}).getOr({});return q({type:c},f)})()},eventOrder:e.eventOrder}},configFields:[rt("uid",void 0),Bt("dom"),rt("components",[]),jl("buttonBehaviours",[De,ve]),bn("action"),bn("role"),rt("eventOrder",{})]});function od(e){return(od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(e)}function e1(e,o){return(e1=Object.setPrototypeOf||function(i,u){return i.__proto__=u,i})(e,o)}function n1(e,o,i){return(n1=(function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),1}catch{return}}})()?Reflect.construct:function(u,c,f){var g=[null];g.push.apply(g,c);var v=new(Function.bind.apply(u,g));return f&&e1(v,f.prototype),v}).apply(null,arguments)}function Us(e){return(function(o){if(Array.isArray(o))return Tx(o)})(e)||(function(){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)})()||(function(o){if(o){if(typeof o=="string")return Tx(o,void 0);var i=Object.prototype.toString.call(o).slice(8,-1);return(i=i==="Object"&&o.constructor?o.constructor.name:i)==="Map"||i==="Set"?Array.from(o):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Tx(o,void 0):void 0}})(e)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function Tx(e,o){(o==null||o>e.length)&&(o=e.length);for(var i=0,u=new Array(o);i<o;i++)u[i]=e[i];return u}var Om,o1=Object.hasOwnProperty,Gv=Object.setPrototypeOf,Ax=Object.isFrozen,Xv=Object.getPrototypeOf,Dx=Object.getOwnPropertyDescriptor,ri=Object.freeze,$s=Object.seal,Nx=Object.create,Kv=typeof Reflect<"u"&&Reflect,Ws=Kv.apply||function(e,o,i){return e.apply(o,i)},ri=ri||function(e){return e},$s=$s||function(e){return e},Yv=Kv.construct||function(e,o){return n1(e,Us(o))},r1=ms(Array.prototype.forEach),Bx=ms(Array.prototype.pop),rd=ms(Array.prototype.push),bp=ms(String.prototype.toLowerCase),i1=ms(String.prototype.match),el=ms(String.prototype.replace),a1=ms(String.prototype.indexOf),u1=ms(String.prototype.trim),va=ms(RegExp.prototype.test),Jv=(Om=TypeError,function(){for(var e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return Yv(Om,o)});function ms(e){return function(o){for(var i=arguments.length,u=new Array(1<i?i-1:0),c=1;c<i;c++)u[c-1]=arguments[c];return Ws(e,o,u)}}function zn(e,o){Gv&&Gv(e,null);for(var i=o.length;i--;){var u,c=o[i];typeof c!="string"||(u=bp(c))!==c&&(Ax(o)||(o[i]=u),c=u),e[c]=!0}return e}function Xl(e){var o,i=Nx(null);for(o in e)Ws(o1,e,[o])&&(i[o]=e[o]);return i}function id(e,o){for(;e!==null;){var i=Dx(e,o);if(i){if(i.get)return ms(i.get);if(typeof i.value=="function")return ms(i.value)}e=Xv(e)}return function(u){return console.warn("fallback value for",u),null}}var Rx=ri(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Kl=ri(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Qv=ri(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),rE=ri(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Zv=ri(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),s1=ri(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Mx=ri(["#text"]),c1=ri(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),yp=ri(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),tb=ri(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xp=ri(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),l1=$s(/\{\{[\w\W]*|[\w\W]*\}\}/gm),f1=$s(/<%[\w\W]*|[\w\W]*%>/gm),d1=$s(/^data-[\-\w.\u00B7-\uFFFF]/),m1=$s(/^aria-[\-\w]+$/),iE=$s(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),aE=$s(/^(?:\w+script|data):/i),g1=$s(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),uE=$s(/^html$/i);function p1(e){return v1().sanitize(e)}function Tm(e){return function(){return be(e,Cp).getOr("!not found!")}}function eb(e,o){var i,u=e.toLowerCase();if(ou.isRtl()){var c=me(i=u,"-rtl")?i:i+"-rtl";return ht(o,c)?c:u}return u}function Px(e,o){return be(o,eb(e,o))}function h1(e,o){var i=o();return Px(e,i).getOrThunk(Tm(i))}function wp(){return Me("add-focusable",[$o(function(e){var o,i,u;o=e.element,i="svg",u=function(c){return Co(c,i)},uo(o.dom.childNodes,function(c){return u(kt.fromDom(c))}).map(kt.fromDom).each(function(c){return qe(c,"focusable","false")})})])}function nb(e,o,i,u){var c,f,g,v=(g=o,ou.isRtl()&&ht(Ix,g)?["tox-icon--flip"]:[]),b=be(i,eb(o,i)).or(u).getOrThunk(Tm(i));return{dom:{tag:e.tag,attributes:(c=e.attributes)!==null&&c!==void 0?c:{},classes:e.classes.concat(v),innerHtml:b},behaviours:Kt(Ge(Ge([],(f=e.behaviours)!==null&&f!==void 0?f:[],!0),[wp()],!1))}}function Bu(e,o,i,u){return u===void 0&&(u=w.none()),nb(o,e,i(),u)}var v1=(function e(o){function i(vt){return e(vt)}var u=0<arguments.length&&o!==void 0?o:typeof window>"u"?null:window;if(i.version="2.3.8",i.removed=[],!u||!u.document||u.document.nodeType!==9)return i.isSupported=!1,i;var c,f=u.document,g=u.document,v=u.DocumentFragment,b=u.HTMLTemplateElement,C=u.Node,S=u.Element,O=u.NodeFilter,D=u.NamedNodeMap,R=D===void 0?u.NamedNodeMap||u.MozNamedAttrMap:D,L=u.HTMLFormElement,I=u.DOMParser,F=u.trustedTypes,z=S.prototype,U=id(z,"cloneNode"),M=id(z,"nextSibling"),j=id(z,"childNodes"),K=id(z,"parentNode");typeof b!="function"||(c=g.createElement("template")).content&&c.content.ownerDocument&&(g=c.content.ownerDocument);var J=(function(vt,Ke){if(od(vt)!=="object"||typeof vt.createPolicy!="function")return null;var je=null,Ii="data-tt-policy-suffix",Wr="dompurify"+((je=Ke.currentScript&&Ke.currentScript.hasAttribute(Ii)?Ke.currentScript.getAttribute(Ii):je)?"#"+je:"");try{return vt.createPolicy(Wr,{createHTML:function(bi){return bi}})}catch{return console.warn("TrustedTypes policy "+Wr+" could not be created."),null}})(F,f),pt=J?J.createHTML(""):"",ut=g,yt=ut.implementation,Tt=ut.createNodeIterator,xt=ut.createDocumentFragment,Nt=ut.getElementsByTagName,Lt=f.importNode,Qt={};try{Qt=Xl(g).documentMode?g.documentMode:{}}catch{}var pe={};function Fe(vt){return vt instanceof RegExp||vt instanceof Function}function ln(vt){hl&&hl===vt||(vt=Xl(vt=vt&&od(vt)==="object"?vt:{}),ao="ALLOWED_TAGS"in vt?zn({},vt.ALLOWED_TAGS):cu,Mo="ALLOWED_ATTR"in vt?zn({},vt.ALLOWED_ATTR):In,Nd="ADD_URI_SAFE_ATTR"in vt?zn(Xl(Eh),vt.ADD_URI_SAFE_ATTR):Eh,df="ADD_DATA_URI_TAGS"in vt?zn(Xl(mf),vt.ADD_DATA_URI_TAGS):mf,Yi="FORBID_CONTENTS"in vt?zn({},vt.FORBID_CONTENTS):Ac,He="FORBID_TAGS"in vt?zn({},vt.FORBID_TAGS):{},jn="FORBID_ATTR"in vt?zn({},vt.FORBID_ATTR):{},Sn="USE_PROFILES"in vt&&vt.USE_PROFILES,Yn=vt.ALLOW_ARIA_ATTR!==!1,ho=vt.ALLOW_DATA_ATTR!==!1,Ki=vt.ALLOW_UNKNOWN_PROTOCOLS||!1,fr=vt.SAFE_FOR_TEMPLATES||!1,xr=vt.WHOLE_DOCUMENT||!1,Rr=vt.RETURN_DOM||!1,Mr=vt.RETURN_DOM_FRAGMENT||!1,wr=vt.RETURN_TRUSTED_TYPE||!1,Ur=vt.FORCE_BODY||!1,xs=vt.SANITIZE_DOM!==!1,en=vt.KEEP_CONTENT!==!1,xa=vt.IN_PLACE||!1,Xi=vt.ALLOWED_URI_REGEXP||Xi,Oy=vt.NAMESPACE||gf,vt.CUSTOM_ELEMENT_HANDLING&&Fe(vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Gt.tagNameCheck=vt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&Fe(vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Gt.attributeNameCheck=vt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),vt.CUSTOM_ELEMENT_HANDLING&&typeof vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Gt.allowCustomizedBuiltInElements=vt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Vn=pl.indexOf(vt.PARSER_MEDIA_TYPE)===-1?"text/html":vt.PARSER_MEDIA_TYPE,un=Vn==="application/xhtml+xml"?function(Ke){return Ke}:bp,fr&&(ho=!1),Mr&&(Rr=!0),Sn&&(ao=zn({},Us(Mx)),Mo=[],Sn.html===!0&&(zn(ao,Rx),zn(Mo,c1)),Sn.svg===!0&&(zn(ao,Kl),zn(Mo,yp),zn(Mo,xp)),Sn.svgFilters===!0&&(zn(ao,Qv),zn(Mo,yp),zn(Mo,xp)),Sn.mathMl===!0&&(zn(ao,Zv),zn(Mo,tb),zn(Mo,xp))),vt.ADD_TAGS&&zn(ao=ao===cu?Xl(ao):ao,vt.ADD_TAGS),vt.ADD_ATTR&&zn(Mo=Mo===In?Xl(Mo):Mo,vt.ADD_ATTR),vt.ADD_URI_SAFE_ATTR&&zn(Nd,vt.ADD_URI_SAFE_ATTR),vt.FORBID_CONTENTS&&zn(Yi=Yi===Ac?Xl(Yi):Yi,vt.FORBID_CONTENTS),en&&(ao["#text"]=!0),xr&&zn(ao,["html","head","body"]),ao.table&&(zn(ao,["tbody"]),delete He.tbody),ri&&ri(vt),hl=vt)}i.isSupported=typeof K=="function"&&yt&&yt.createHTMLDocument!==void 0&&Qt!==9;var Sn,Vn,un,kn,Rn=l1,Wn=f1,gn=d1,io=m1,Br=aE,Pi=g1,Xi=iE,ao=null,cu=zn({},[].concat(Us(Rx),Us(Kl),Us(Qv),Us(Zv),Us(Mx))),Mo=null,In=zn({},[].concat(Us(c1),Us(yp),Us(tb),Us(xp))),Gt=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),He=null,jn=null,Yn=!0,ho=!0,Ki=!1,fr=!1,xr=!1,vi=!1,Ur=!1,Rr=!1,Mr=!1,wr=!1,xs=!0,en=!0,xa=!1,Yi=null,Ac=zn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),df=null,mf=zn({},["audio","video","img","source","image","track"]),Nd=null,Eh=zn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Oh="http://www.w3.org/1998/Math/MathML",AC="http://www.w3.org/2000/svg",gf="http://www.w3.org/1999/xhtml",Oy=gf,pl=["application/xhtml+xml","text/html"],hl=null,xk=g.createElement("form"),Ty=zn({},["mi","mo","mn","ms","mtext"]),DC=zn({},["foreignobject","desc","title","annotation-xml"]),DR=zn({},["title","style","font","a","script"]),wk=zn({},Kl);zn(wk,Qv),zn(wk,rE);var FO=zn({},Zv);function ig(vt){rd(i.removed,{element:vt});try{vt.parentNode.removeChild(vt)}catch{try{vt.outerHTML=pt}catch{vt.remove()}}}function fD(vt,Ke){try{rd(i.removed,{attribute:Ke.getAttributeNode(vt),from:Ke})}catch{rd(i.removed,{attribute:null,from:Ke})}if(Ke.removeAttribute(vt),vt==="is"&&!Mo[vt])if(Rr||Mr)try{ig(Ke)}catch{}else try{Ke.setAttribute(vt,"")}catch{}}function dD(vt){var Ke,je,Ii;Ur?vt="<remove></remove>"+vt:Ii=(je=i1(vt,/^[\r\n\t ]+/))&&je[0],Vn==="application/xhtml+xml"&&(vt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+vt+"</body></html>");var Wr=J?J.createHTML(vt):vt;if(Oy===gf)try{Ke=new I().parseFromString(Wr,Vn)}catch{}if(!Ke||!Ke.documentElement){Ke=yt.createDocument(Oy,"template",null);try{Ke.documentElement.innerHTML=kn?"":Wr}catch{}}var bi=Ke.body||Ke.documentElement;return vt&&Ii&&bi.insertBefore(g.createTextNode(Ii),bi.childNodes[0]||null),Oy===gf?Nt.call(Ke,xr?"html":"body")[0]:xr?Ke.documentElement:bi}function mD(vt){return Tt.call(vt.ownerDocument||vt,vt,O.SHOW_ELEMENT|O.SHOW_COMMENT|O.SHOW_TEXT,null,!1)}function NC(vt){return od(C)==="object"?vt instanceof C:vt&&od(vt)==="object"&&typeof vt.nodeType=="number"&&typeof vt.nodeName=="string"}function Bd(vt,Ke,je){pe[vt]&&r1(pe[vt],function(Ii){Ii.call(i,Ke,je,hl)})}function gD(vt){var Ke;if(Bd("beforeSanitizeElements",vt,null),vt instanceof L&&(typeof vt.nodeName!="string"||typeof vt.textContent!="string"||typeof vt.removeChild!="function"||!(vt.attributes instanceof R)||typeof vt.removeAttribute!="function"||typeof vt.setAttribute!="function"||typeof vt.namespaceURI!="string"||typeof vt.insertBefore!="function")||va(/[\u0080-\uFFFF]/,vt.nodeName))return ig(vt),1;var je=un(vt.nodeName);if(Bd("uponSanitizeElement",vt,{tagName:je,allowedTags:ao}),vt.hasChildNodes()&&!NC(vt.firstElementChild)&&(!NC(vt.content)||!NC(vt.content.firstElementChild))&&va(/<[/\w]/g,vt.innerHTML)&&va(/<[/\w]/g,vt.textContent)||je==="select"&&va(/<template/i,vt.innerHTML))return ig(vt),1;if(ao[je]&&!He[je])return vt instanceof S&&!(function(lu){var Pr=K(lu);Pr&&Pr.tagName||(Pr={namespaceURI:gf,tagName:"template"});var ws=bp(lu.tagName),Hu=bp(Pr.tagName);return lu.namespaceURI===AC?Pr.namespaceURI===gf?ws==="svg":Pr.namespaceURI===Oh?ws==="svg"&&(Hu==="annotation-xml"||Ty[Hu]):!!wk[ws]:lu.namespaceURI===Oh?Pr.namespaceURI===gf?ws==="math":Pr.namespaceURI===AC?ws==="math"&&DC[Hu]:!!FO[ws]:lu.namespaceURI===gf&&(Pr.namespaceURI!==AC||DC[Hu])&&(Pr.namespaceURI!==Oh||Ty[Hu])&&!FO[ws]&&(DR[ws]||!wk[ws])})(vt)||(je==="noscript"||je==="noembed")&&va(/<\/no(script|embed)/i,vt.innerHTML)?(ig(vt),1):(fr&&vt.nodeType===3&&(Ke=vt.textContent,Ke=el(Ke,Rn," "),Ke=el(Ke,Wn," "),vt.textContent!==Ke&&(rd(i.removed,{element:vt.cloneNode()}),vt.textContent=Ke)),Bd("afterSanitizeElements",vt,null),0);if(!(!He[je]&&vD(je)&&(Gt.tagNameCheck instanceof RegExp&&va(Gt.tagNameCheck,je)||Gt.tagNameCheck instanceof Function&&Gt.tagNameCheck(je)))){if(en&&!Yi[je]){var Ii=K(vt)||vt.parentNode,Wr=j(vt)||vt.childNodes;if(Wr&&Ii)for(var bi=Wr.length-1;0<=bi;--bi)Ii.insertBefore(U(Wr[bi],!0),M(vt))}return ig(vt),1}}function pD(vt,Ke,je){if(xs&&(Ke==="id"||Ke==="name")&&(je in g||je in xk))return!1;if((!ho||jn[Ke]||!va(gn,Ke))&&(!Yn||!va(io,Ke))){if(!Mo[Ke]||jn[Ke]){if(!(vD(vt)&&(Gt.tagNameCheck instanceof RegExp&&va(Gt.tagNameCheck,vt)||Gt.tagNameCheck instanceof Function&&Gt.tagNameCheck(vt))&&(Gt.attributeNameCheck instanceof RegExp&&va(Gt.attributeNameCheck,Ke)||Gt.attributeNameCheck instanceof Function&&Gt.attributeNameCheck(Ke))||Ke==="is"&&Gt.allowCustomizedBuiltInElements&&(Gt.tagNameCheck instanceof RegExp&&va(Gt.tagNameCheck,je)||Gt.tagNameCheck instanceof Function&&Gt.tagNameCheck(je))))return!1}else if(!Nd[Ke]&&!va(Xi,el(je,Pi,""))&&(Ke!=="src"&&Ke!=="xlink:href"&&Ke!=="href"||vt==="script"||a1(je,"data:")!==0||!df[vt])&&(!Ki||va(Br,el(je,Pi,"")))&&je)return!1}return!0}function hD(vt){Bd("beforeSanitizeAttributes",vt,null);var Ke=vt.attributes;if(Ke){for(var je={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Mo},Ii=Ke.length;Ii--;){var Wr,bi=(Wr=Ke[Ii]).name,lu=Wr.namespaceURI,Pr=bi==="value"?Wr.value:u1(Wr.value),ws=un(bi);if(je.attrName=ws,je.attrValue=Pr,je.keepAttr=!0,je.forceKeepAttr=void 0,Bd("uponSanitizeAttribute",vt,je),Pr=je.attrValue,!je.forceKeepAttr&&(fD(bi,vt),je.keepAttr)){if(va(/\/>/i,Pr))fD(bi,vt);else if(fr&&(Pr=el(Pr,Rn," "),Pr=el(Pr,Wn," ")),pD(un(vt.nodeName),ws,Pr))try{lu?vt.setAttributeNS(lu,bi,Pr):vt.setAttribute(bi,Pr),Bx(i.removed)}catch{}}}Bd("afterSanitizeAttributes",vt,null)}}zn(FO,s1);var vD=function(vt){return 0<vt.indexOf("-")};return i.sanitize=function(vt,Ke){var je,Ii,Wr,bi,lu;if(typeof(vt=(kn=!vt)?"<!-->":vt)!="string"&&!NC(vt)){if(typeof vt.toString!="function")throw Jv("toString is not a function");if(typeof(vt=vt.toString())!="string")throw Jv("dirty is not a string, aborting")}if(!i.isSupported){if(od(u.toStaticHTML)==="object"||typeof u.toStaticHTML=="function"){if(typeof vt=="string")return u.toStaticHTML(vt);if(NC(vt))return u.toStaticHTML(vt.outerHTML)}return vt}if(vi||ln(Ke),i.removed=[],xa=typeof vt!="string"&&xa){if(vt.nodeName){var Pr=un(vt.nodeName);if(!ao[Pr]||He[Pr])throw Jv("root node is forbidden and cannot be sanitized in-place")}}else if(vt instanceof C)(Ii=(je=dD("<!---->")).ownerDocument.importNode(vt,!0)).nodeType===1&&Ii.nodeName==="BODY"||Ii.nodeName==="HTML"?je=Ii:je.appendChild(Ii);else{if(!Rr&&!fr&&!xr&&vt.indexOf("<")===-1)return J&&wr?J.createHTML(vt):vt;if(!(je=dD(vt)))return Rr?null:wr?pt:""}je&&Ur&&ig(je.firstChild);for(var ws=mD(xa?vt:je);Wr=ws.nextNode();)Wr.nodeType===3&&Wr===bi||gD(Wr)||(Wr.content instanceof v&&(function NR(HO){var Ay,BR=mD(HO);for(Bd("beforeSanitizeShadowDOM",HO,null);Ay=BR.nextNode();)Bd("uponSanitizeShadowNode",Ay,null),gD(Ay)||(Ay.content instanceof v&&NR(Ay.content),hD(Ay));Bd("afterSanitizeShadowDOM",HO,null)})(Wr.content),hD(Wr),bi=Wr);if(bi=null,xa)return vt;if(Rr){if(Mr)for(lu=xt.call(je.ownerDocument);je.firstChild;)lu.appendChild(je.firstChild);else lu=je;return Mo.shadowroot?Lt.call(f,lu,!0):lu}var Hu=xr?je.outerHTML:je.innerHTML;return xr&&ao["!doctype"]&&je.ownerDocument&&je.ownerDocument.doctype&&je.ownerDocument.doctype.name&&va(uE,je.ownerDocument.doctype.name)&&(Hu="<!DOCTYPE "+je.ownerDocument.doctype.name+`>
`+Hu),fr&&(Hu=el(Hu,Rn," "),Hu=el(Hu,Wn," ")),J&&wr?J.createHTML(Hu):Hu},i.setConfig=function(vt){ln(vt),vi=!0},i.clearConfig=function(){hl=null,vi=!1},i.isValidAttribute=function(vt,Ke,je){return hl||ln({}),pD(un(vt),un(Ke),je)},i.addHook=function(vt,Ke){typeof Ke=="function"&&(pe[vt]=pe[vt]||[],rd(pe[vt],Ke))},i.removeHook=function(vt){if(pe[vt])return Bx(pe[vt])},i.removeHooks=function(vt){pe[vt]&&(pe[vt]=[])},i.removeAllHooks=function(){pe={}},i})(),ou=tinymce.util.Tools.resolve("tinymce.util.I18n"),Ix={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Cp="temporary-placeholder",b1={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},ob=nu({name:"Notification",factory:function(e){function o(R){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+R+"%"}}}}function i(R){return{dom:{tag:"div",classes:["tox-text"],innerHtml:R+"%"}}}var u,c,f,g,v=_n({dom:bc("<p>"+p1(e.translationProvider(e.text))+"</p>"),behaviours:Kt([Le.config({})])}),b=_n({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},i(0)],behaviours:Kt([Le.config({})])}),C={updateProgress:function(R,L){R.getSystem().isConnected()&&b.getOpt(R).each(function(I){Le.set(I,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(L)]},i(L)])})},updateText:function(R,L){var I;R.getSystem().isConnected()&&(I=v.get(R),Le.set(I,[Uc(L)]))}},S=Jn([e.icon.toArray(),e.level.toArray(),e.level.bind(function(R){return w.from(b1[R])}).toArray()]),O=_n(pi.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[Bu("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":e.translationProvider("Close")}},e.iconProvider)],action:function(R){e.onAction(R)}})),D=[(u=S,c={tag:"div",classes:["tox-notification__icon"]},f=e.iconProvider,g=f(),nb(c,uo(u,function(R){return ht(g,eb(R,g))}).getOr(Cp),g,w.none())),{dom:{tag:"div",classes:["tox-notification__body"]},components:[v.asSpec()],behaviours:Kt([Le.config({})])}];return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map(function(R){return["tox-notification","tox-notification--in","tox-notification--"+R]}).getOr(["tox-notification","tox-notification--in"])},behaviours:Kt([De.config({}),Me("notification-events",[Rt(Wc(),function(R){O.getOpt(R).each(De.focus)})])]),components:D.concat(e.progress?[b.asSpec()]:[]).concat(e.closeButton?[O.asSpec()]:[]),apis:C}},configFields:[bn("level"),Bt("progress"),Bt("icon"),Bt("onAction"),Bt("text"),Bt("iconProvider"),Bt("translationProvider"),po("closeButton",!0)],apis:{updateProgress:function(e,o,i){e.updateProgress(o,i)},updateText:function(e,o,i){e.updateText(o,i)}}});function qs(e,o){function i(){za(u)||(clearTimeout(u),u=null)}var u=null;return{cancel:i,throttle:function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];i(),u=setTimeout(function(){u=null,e.apply(null,c)},o)}}}function y1(e,o,i,u,c){var f=Nm(e,function(g){return(v=e).isBlock(b=g)||Zn(["BR","IMG","HR","INPUT"],b.nodeName)||v.getContentEditable(b)==="false";var v,b});return w.from(f.backwards(o,i,u,c))}function Lx(e,o){return _p(kt.fromDom(e.selection.getNode())).getOrThunk(function(){var i,u,c=kt.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());return Ao(c,kt.fromDom(o.extractContents())),o.insertNode(c.dom),Xe(c).each(function(f){return f.dom.normalize()}),i=r_,(u=function(f){for(var g=Fn(f),v=g.length-1;0<=v;v--){var b=g[v];if(i(b))return w.some(b);var C=u(b);if(C.isSome())return C}return w.none()})(c).map(function(f){var g;e.selection.setCursorLocation(f.dom,le(g=f)==="img"?1:zg(g).fold(function(){return Fn(g).length},function(v){return v.length}))}),c})}function br(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")}function Fx(e){return e!==""&&` \xA0\f
\r	\v`.indexOf(e)!==-1}function rb(e,o){return e.substring(o.length)}function Hx(e,o,i,u){return u===void 0&&(u=0),_p(kt.fromDom(o.startContainer)).fold(function(){return(function(c,f,g,v){if(v===void 0&&(v=0),!f.collapsed||f.startContainer.nodeType!==3)return w.none();var b=c.getParent(f.startContainer,c.isBlock)||c.getRoot();return y1(c,f.startContainer,f.startOffset,function(C,S,O){return(function(D,R){for(var L=S-1;0<=L;L--){var I=D.charAt(L);if(Fx(I))return w.none();if(I===R)break}return w.some(L)})(O,g).getOr(S)},b).bind(function(C){var S=f.cloneRange();if(S.setStart(C.container,C.offset),S.setEnd(f.endContainer,f.endOffset),S.collapsed)return w.none();var O=br(S);return O.lastIndexOf(g)!==0||rb(O,g).length<v?w.none():w.some({text:rb(O,g),range:S,triggerChar:g})})})(e,o,i,u)},function(c){var f=e.createRng();f.selectNode(c.dom);var g=br(f);return w.some({range:f,text:rb(g,i),triggerChar:i})})}function ib(e,o){return{container:e,offset:o}}function ab(e){return go("toolbarbutton",C1,e)}function ub(e){return go("ToggleButton",Ux,e)}function Am(e,o,i,u){u===void 0&&(u={});var c=o(),f=e.selection.getRng().startContainer.nodeValue,g=Ne(c.lookupByChar(i.triggerChar),function(b){return i.text.length>=b.minChars&&b.matches.getOrThunk(function(){return C=e.dom,function(S){var O=zx(S.startContainer,S.startOffset);return!y1(C,O.container,O.offset,function(D,R){return R===0?-1:R},C.getRoot()).filter(function(D){return!Fx(D.container.data.charAt(D.offset-1))}).isSome()};var C})(i.range,f,i.text)});if(g.length===0)return w.none();var v=Yl.all(Vt(g,function(b){return b.fetch(i.text,b.maxResults,u).then(function(C){return{matchText:i.text,items:C,columns:b.columns,onAction:b.onAction,highlightOn:b.highlightOn}})}));return w.some({lookupData:v,context:i})}var x1,Dm,Nm=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),_p=function(e){return la(e,"[data-mce-autocompleter]")},Yl=tinymce.util.Tools.resolve("tinymce.util.Promise"),sb=function(e){if(e.nodeType===3)return ib(e,e.data.length);var o=e.childNodes;return 0<o.length?sb(o[o.length-1]):ib(e,o.length)},zx=function(e,o){var i=e.childNodes;return 0<i.length&&o<i.length?zx(i[o],0):0<i.length&&e.nodeType===1&&i.length===o?sb(i[i.length-1]):ib(e,o)},Vx=ce([_e("type"),Xn("text")]),sE=ce([rt("type","autocompleteitem"),rt("active",!1),rt("disabled",!1),rt("meta",{}),_e("value"),Xn("text"),Xn("icon")]),w1=ce([_e("type"),_e("ch"),Gd("minChars",1),rt("columns",1),Gd("maxResults",10),Ea("matches"),zo("fetch"),zo("onAction"),Zu("highlightOn",[],sn)]),Bm=[po("disabled",!1),Xn("tooltip"),Xn("icon"),Xn("text"),co("onSetup",function(){return Xt})],C1=ce([_e("type"),zo("onAction")].concat(Bm)),jx=[po("active",!1)].concat(Bm),Ux=ce(jx.concat([_e("type"),zo("onAction")])),Wx=[co("predicate",Je),aa("scope","node",["node","editor"]),aa("position","selection",["node","selection","line"])],_1=Bm.concat([rt("type","contextformbutton"),rt("primary",!1),zo("onAction"),Ti("original",ne)]),$x=jx.concat([rt("type","contextformbutton"),rt("primary",!1),zo("onAction"),Ti("original",ne)]),cE=Bm.concat([rt("type","contextformbutton")]),qx=jx.concat([rt("type","contextformtogglebutton")]),Gx=Jr("type",{contextformbutton:_1,contextformtogglebutton:$x}),Sp=ce([rt("type","contextform"),co("initValue",ot("")),Xn("label"),Ei("commands",Gx),Qu("launch",Jr("type",{contextformbutton:cE,contextformtogglebutton:qx}))].concat(Wx)),lE=ce([rt("type","contexttoolbar"),_e("items")].concat(Wx));function S1(e){return be(D1,e).getOr(pb)}function cb(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:e==="color"?"tox-swatches":"tox-menu",tieredMenu:"tox-tiered-menu"}}function ad(e){var o=cb(e);return{backgroundMenu:o.backgroundMenu,selectedMenu:o.selectedMenu,menu:o.menu,selectedItem:o.selectedItem,item:S1(e)}}function lb(e,o,i){return{dom:{tag:"div",classes:Jn([[cb(i).tieredMenu]])},markers:ad(i)}}function Xx(e,o){return function(i){return Vt(ju(i,o),function(u){return{dom:e,components:u}})}}function k1(e,o){var i=[],u=[];return Q(e,function(c,f){o(c,f)?(0<u.length&&i.push(u),u=[],ht(c.dom,"innerHtml")&&u.push(c)):u.push(c)}),0<u.length&&i.push(u),Vt(i,function(c){return{dom:{tag:"div",classes:["tox-collection__group"]},components:c}})}function Kx(e,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(e===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Zc.parts.items({preprocess:function(i){return e!=="auto"&&1<e?Xx({tag:"div",classes:["tox-collection__group"]},e)(i):k1(i,function(u,c){return o[c].type==="separator"})}})]}}function Gs(e){return mr(e,function(o){return"icon"in o&&o.icon!==void 0})}function Ar(e){return console.error(sa(e)),console.log(e),w.none()}function Yx(e,o,i,u,c){var f,g=(f=i,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Zc.parts.items({preprocess:function(v){return k1(v,function(b,C){return f[C].type==="separator"})}})]});return{value:e,dom:g.dom,components:g.components,items:i}}function kp(e,o,i,u,c){var f,g;return c==="color"?{value:e,dom:(f={dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Zc.parts.items({preprocess:u!=="auto"?Xx({tag:"div",classes:["tox-swatches__row"]},u):ne})]}]}).dom,components:f.components,items:i}:c==="normal"&&u==="auto"?{value:e,dom:(f=Kx(u,i)).dom,components:f.components,items:i}:c==="normal"&&u===1?{value:e,dom:(f=Kx(1,i)).dom,components:f.components,items:i}:c==="normal"?{value:e,dom:(f=Kx(u,i)).dom,components:f.components,items:i}:c!=="listpreview"||u==="auto"?{value:e,dom:{tag:"div",classes:Jn([[(g=cb(c)).menu,"tox-menu-"+u+"-column"],o?[g.hasIcons]:[]])},components:B1,items:i}:{value:e,dom:(f={dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Zc.parts.items({preprocess:Xx({tag:"div",classes:["tox-collection__group"]},u)})]}).dom,components:f.components,items:i}}function Jx(e,o,i){var u=ji(e.element,"."+i);if(0<u.length){var c=We(u,function(f){var g=f.dom.getBoundingClientRect().top,v=u[0].dom.getBoundingClientRect().top;return Math.abs(g-v)>o}).getOr(u.length);return w.some({numColumns:c,numRows:Math.ceil(u.length/c)})}return w.none()}function E1(e,o,i){e.getSystem().broadcastOn([nl],{})}function fb(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))}function db(e){return e.getParam("width",sd.DOM.getStyle(e.getElement(),"width"))}function O1(e){return w.from(e.getParam("min_width")).filter(vo)}function T1(e){return w.from(e.getParam("min_height")).filter(vo)}function mb(e){return w.from(e.getParam("max_width")).filter(vo)}function gb(e){return w.from(e.getParam("max_height")).filter(vo)}function Rm(e){return e.getParam("menubar",!0,"boolean")!==!1}function Qx(e){var o=e.getParam("toolbar",!0),i=o===!0,u=Tn(o),c=An(o)&&0<o.length;return!Dp(e)&&(c||u||i)}function Mm(e){var o=Ne(Dc(9,function(i){return e.getParam("toolbar"+(i+1),!1,"string")}),function(i){return typeof i=="string"});return 0<o.length?w.some(o):w.none()}(Dm=x1={})[Dm.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",Dm[Dm.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX";var Wi,Ep,ud,Zx,$i=x1,pb="tox-menu-nav__js",hb="tox-collection__item",A1="tox-swatch",D1={normal:pb,color:A1},tw="tox-collection__item--enabled",Op="tox-collection__item-icon",vb="tox-collection__item-label",ew="tox-collection__item-caret",Pm="tox-collection__item--active",N1="tox-collection__item-container",Tp="tox-collection__item-container--row",B1=[Zc.parts.items({})],fE=[_e("type"),_e("src"),Xn("alt"),Zu("classes",[],sn)],dE=ce(fE),mE=[_e("type"),_e("text"),Xn("name"),Zu("classes",["tox-collection__item-label"],sn)],nw=ce(mE),R1=dg(function(){return Sf("type",{cardimage:dE,cardtext:nw,cardcontainer:M1})}),M1=ce([_e("type"),Vo("direction","horizontal"),Vo("align","left"),Vo("valign","middle"),Ei("items",R1)]),Im=[po("disabled",!1),Xn("text"),Xn("shortcut"),Qo("value","value",Es(function(){return fe("menuitem-value")}),kr()),rt("meta",{})],gE=ce([_e("type"),Xn("label"),Ei("items",R1),co("onSetup",function(){return Xt}),co("onAction",Xt)].concat(Im)),P1=ce([_e("type"),po("active",!1),Xn("icon")].concat(Im)),Ap=[_e("type"),_e("fancytype"),co("onAction",Xt)],pE=Jr("fancytype",{inserttable:[rt("initData",{})].concat(Ap),colorswatch:[xu("initData",{},[po("allowCustomColors",!0),yu("colors",kr())])].concat(Ap)}),hE=ce([_e("type"),co("onSetup",function(){return Xt}),co("onAction",Xt),Xn("icon")].concat(Im)),vE=ce([_e("type"),zo("getSubmenuItems"),co("onSetup",function(){return Xt}),Xn("icon")].concat(Im)),bE=ce([_e("type"),Xn("icon"),po("active",!1),co("onSetup",function(){return Xt}),zo("onAction")].concat(Im)),ru=function(e){return o=fe("unnamed-events"),Kt([Me(o,e)]);var o},nl=fe("tooltip.exclusive"),Lm=fe("tooltip.show"),Fm=fe("tooltip.hide"),bb=Object.freeze({__proto__:null,hideAllExclusive:E1,setComponents:function(e,o,i,u){i.getTooltip().each(function(c){c.getSystem().isConnected()&&Le.set(c,u)})}}),ow=Object.freeze({__proto__:null,events:function(e,o){function i(u){o.getTooltip().each(function(c){zl(c),e.onHide(u,c),o.clearTooltip()}),o.clearTimer()}return oo(Jn([[Rt(Lm,function(u){o.resetTimer(function(){var c,f,g=u;o.isShowing()||(E1(g),c=e.lazySink(g).getOrDie(),f=g.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:oo(e.mode==="normal"?[Rt(sc(),function(v){fn(g,Lm)}),Rt(Ph(),function(v){fn(g,Fm)})]:[]),behaviours:Kt([Le.config({})])}),o.setTooltip(f),Hl(c,f),e.onShow(g,f),Ri.position(c,f,{anchor:e.anchor(g)}))},e.delay)}),Rt(Fm,function(u){o.resetTimer(function(){i(u)},e.delay)}),Rt(Tl(),function(u,c){c.universal||Zn(c.channels,nl)&&i(u)}),os(function(u){i(u)})],e.mode==="normal"?[Rt(Wc(),function(u){fn(u,Lm)}),Rt(ns(),function(u){fn(u,Fm)}),Rt(sc(),function(u){fn(u,Lm)}),Rt(Ph(),function(u){fn(u,Fm)})]:[Rt(PC(),function(u,c){fn(u,Lm)}),Rt(zy(),function(u){fn(u,Fm)})]]))}}),yb=Or({fields:[Bt("lazySink"),Bt("tooltipDom"),rt("exclusive",!0),rt("tooltipComponents",[]),rt("delay",300),aa("mode","normal",["normal","follow-highlight"]),rt("anchor",function(e){return{type:"hotspot",hotspot:e,layouts:{onLtr:ot([gi,ti,hr,da,Tr,ma]),onRtl:ot([gi,ti,hr,da,Tr,ma])}}}),yn("onHide"),yn("onShow")],name:"tooltipping",active:ow,state:Object.freeze({__proto__:null,init:function(){function e(){o.on(clearTimeout)}var o=qo(),i=qo(),u=ot("not-implemented");return ca({getTooltip:i.get,isShowing:i.isSet,setTooltip:i.set,clearTooltip:i.clear,clearTimer:e,resetTimer:function(c,f){e(),o.set(setTimeout(c,f))},readState:u})}}),apis:bb}),sd=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),yE=tinymce.util.Tools.resolve("tinymce.EditorManager"),Dp=function(e){return Mm(e).fold(function(){return 0<e.getParam("toolbar",[],"string[]").length},nn)};function Hm(e){return e.getParam("toolbar_mode","","string")}function I1(e){return e.getParam("toolbar_location",ud.auto,"string")}function L1(e){return I1(e)===ud.bottom}function rw(e){if(!e.inline)return w.none();var o=e.getParam("fixed_toolbar_container","","string");if(0<o.length)return pr(Yr(),o);var i=e.getParam("fixed_toolbar_container_target");return qr(i)?w.some(kt.fromDom(i)):w.none()}function Np(e){return e.inline&&rw(e).isSome()}function F1(e){return rw(e).getOrThunk(function(){return To(_a(kt.fromDom(e.getElement())))})}function iw(e){return e.inline&&!Rm(e)&&!Qx(e)&&!Dp(e)}function xb(e){return(e.getParam("toolbar_sticky",!1,"boolean")||e.inline)&&!Np(e)&&!iw(e)}function zm(e,o){var i=e.outerContainer.element;o&&(e.mothership.broadcastOn([Jc()],{target:i}),e.uiMothership.broadcastOn([Jc()],{target:i})),e.mothership.broadcastOn([gw],{readonly:o}),e.uiMothership.broadcastOn([gw],{readonly:o})}function aw(e,o){e.on("init",function(){e.mode.isReadOnly()&&zm(o,!0)}),e.on("SwitchMode",function(){return zm(o,e.mode.isReadOnly())}),e.getParam("readonly",!1,"boolean")&&e.setMode("readonly")}function ir(){var e;return tu.config({channels:((e={})[gw]={schema:$1,onReceive:function(o,i){he.set(o,i.readonly)}},e)})}function Bp(e,o){var i=e.getApi(o);return function(u){u(i)}}function Vm(e,o){return $o(function(i){Bp(e,i)(function(u){var c=e.onSetup(u);Dn(c)&&o.set(c)})})}function jm(e,o){return os(function(i){return Bp(e,i)(o.get())})}function gs(e,o,i,u){var c,f,g=ge(Xt);return{type:"item",dom:o.dom,components:ld(o.optComponents),data:e.data,eventOrder:q1,hasSubmenu:e.triggersSubmenu,itemBehaviours:Kt([Me("item-events",[(c=e,f=i,Ms(function(v,b){Bp(c,v)(c.onAction),c.triggersSubmenu||f!==$i.CLOSE_ON_EXECUTE||(fn(v,Fh()),b.stop())})),Vm(e,g),jm(e,g)]),he.config({disabled:function(){return e.disabled||u.isDisabled()},disableClass:"tox-collection__item--state-disabled"}),ir(),Le.config({})].concat(e.itemBehaviours))}}function Ru(e){return{value:e.value,meta:q({text:e.text.getOr("")},e.meta)}}function La(e,o,i){return Bu(e,{tag:"div",classes:i=i===void 0?[Op]:i},o)}function H1(e){return{dom:{tag:"div",classes:[vb]},components:[Uc(ou.translate(e))]}}function Rp(e,o){return{dom:{tag:"div",classes:o,innerHtml:e}}}function z1(e,o){return{dom:{tag:"div",classes:[vb]},components:[{dom:{tag:e.tag,styles:e.styles},components:[Uc(ou.translate(o))]}]}}function xE(e){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:(o=kb.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl",access:"Shift+Alt"},i=Vt(e.split("+"),function(u){var c=u.toLowerCase().trim();return ht(o,c)?o[c]:u}),kb.mac?i.join(""):i.join("+"))}};var o,i}function wb(e){return La("checkmark",e,["tox-collection__item-checkmark"])}function uw(e){var o=e.map(function(i){return{attributes:{title:ou.translate(i)}}}).getOr({});return q({tag:"div",classes:[pb,hb]},o)}function Um(e,o,i,u){return u===void 0&&(u=w.none()),e.presets==="color"?(c=o,f=u,b=e.ariaLabel,C=e.value,{dom:(g=e.iconContent.map(function(U){return M=c.icons,j=f,Px(U,K=M()).or(j).getOrThunk(Tm(K));var M,j,K}).getOr(""),v={tag:"div",attributes:b.map(function(U){return{title:c.translate(U)}}).getOr({}),classes:["tox-swatch"]},q(q({},v),C==="custom"?{tag:"button",classes:Ge(Ge([],v.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:g}:C==="remove"?{classes:Ge(Ge([],v.classes,!0),["tox-swatch--remove"],!1),innerHtml:g}:{attributes:q(q({},v.attributes),{"data-mce-color":C}),styles:{"background-color":C}})),optComponents:[]}):(S=e,O=o,D=u,R={tag:"div",classes:[Op]},L=i?S.iconContent.map(function(U){return Bu(U,R,O.icons,D)}).orThunk(function(){return w.some({dom:R})}):w.none(),I=S.checkMark,F=w.from(S.meta).fold(function(){return H1},function(U){return ht(U,"style")?Nn(z1,U.style):H1}),z=S.htmlContent.fold(function(){return S.textContent.map(F)},function(U){return w.some(Rp(U,[vb]))}),{dom:uw(S.ariaLabel),optComponents:[L,z,S.shortcutContent.map(xE),I,S.caret]});var c,f,g,v,b,C,S,O,D,R,L,I,F,z}function V1(e,o){return be(e,"tooltipWorker").map(function(i){return[yb.config({lazySink:o.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(u){return{type:"submenu",item:u,overrides:{maxHeightFunction:Gc}}},mode:"follow-highlight",onShow:function(u,c){i(function(f){yb.setComponents(u,[Ra({element:kt.fromDom(f)})])})}})]}).getOr([])}function j1(e,o){var i=ou.translate(e),u=sd.DOM.encode(i);if(0<o.length){var c=new RegExp(o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");return u.replace(c,function(f){return'<span class="tox-autocompleter-highlight">'+f+"</span>"})}return u}function sw(e){return{value:e}}function cw(e){return hw.test(e)||Eb.test(e)}function Cb(e){var o=e.toString(16);return(o.length===1?"0"+o:o).toUpperCase()}function Jl(e){return sw(Cb(e.red)+Cb(e.green)+Cb(e.blue))}function ol(e,o,i,u){return{red:e,green:o,blue:i,alpha:u}}function lw(e){var o=parseInt(e,10);return o.toString()===e&&0<=o&&o<=255}function Mp(e){var o,i,u,c=(e.hue||0)%360,f=e.saturation/100,g=e.value/100,f=bw(0,vw(f,1)),g=bw(0,vw(g,1));if(f===0)return ol(o=i=u=Ob(255*g),i,u,1);var v=c/60,b=g*f,C=b*(1-Math.abs(v%2-1)),S=g-b;switch(Math.floor(v)){case 0:o=b,i=C,u=0;break;case 1:o=C,i=b,u=0;break;case 2:o=0,i=b,u=C;break;case 3:o=0,i=C,u=b;break;case 4:o=C,i=0,u=b;break;case 5:o=b,i=0,u=C;break;default:o=i=u=0}return ol(o=Ob(255*(o+S)),i=Ob(255*(i+S)),u=Ob(255*(u+S)),1)}function Mu(e){var o,i,u=(o={value:e.value.replace(hw,function(c,f,g,v){return f+f+g+g+v+v})},(i=Eb.exec(o.value))===null?["FFFFFF","FF","FF","FF"]:i);return ol(parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16),1)}function cd(e,o,i,u){return ol(parseInt(e,10),parseInt(o,10),parseInt(i,10),parseFloat(u))}function fw(e){if(e==="transparent")return w.some(ol(0,0,0,0));var o=wE.exec(e);if(o!==null)return w.some(cd(o[1],o[2],o[3],"1"));var i=G1.exec(e);return i!==null?w.some(cd(i[1],i[2],i[3],i[4])):w.none()}function _b(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"}function dw(e,o){return e.fire("ResizeContent",o)}function Pp(e,o,i){return{hue:e,saturation:o,value:i}}function Sb(e){var o,i,u=0,c=e.red/255,f=e.green/255,g=e.blue/255,v=Math.min(c,Math.min(f,g)),b=Math.max(c,Math.max(f,g));return v===b?Pp(0,0,100*(u=v)):(i=60*((c===v?3:g===v?1:5)-(c===v?f-g:g===v?c-f:g-c)/(b-v)),o=(b-v)/b,u=b,Pp(Math.round(i),Math.round(100*o),Math.round(100*u)))}function Ip(e){return Jl(Mp(e))}function U1(e){return(cw(i=e)?w.some({value:(ae(o=i,"#")?o.substring(1):o).toUpperCase()}):w.none()).orThunk(function(){return fw(e).map(Jl)}).getOrThunk(function(){var u=document.createElement("canvas");u.height=1,u.width=1;var c=u.getContext("2d");c.clearRect(0,0,u.width,u.height),c.fillStyle="#FFFFFF",c.fillStyle=e,c.fillRect(0,0,1,1);var f=c.getImageData(0,0,1,1).data;return Jl(ol(f[0],f[1],f[2],f[3]))});var o,i}(Ep=Wi=Wi||{}).default="wrap",Ep.floating="floating",Ep.sliding="sliding",Ep.scrolling="scrolling",(Zx=ud=ud||{}).auto="auto",Zx.top="top",Zx.bottom="bottom";function mw(e){return he.config({disabled:e,disableClass:"tox-tbtn--disabled"})}var W1,gw="silver.readonly",$1=ce([mi("readonly",Hi)]),rl=function(e){return he.config({disabled:e})},Wm=function(e){return he.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},q1=((W1={})[Na()]=["disabling","alloy.base.behaviour","toggling","item-events"],W1),ld=_r,kb=tinymce.util.Tools.resolve("tinymce.Env"),Lp=function(e,o){return Vt(e,function(i){switch(i.type){case"cardcontainer":return g=Lp((f=i).items,o),v=f.direction==="vertical"?"tox-collection__item-container--column":Tp,b=f.align==="left"?"tox-collection__item-container--align-left":"tox-collection__item-container--align-right",{dom:{tag:"div",classes:[N1,v,b,(function(){switch(f.valign){case"top":return"tox-collection__item-container--valign-top";case"middle":return"tox-collection__item-container--valign-middle";case"bottom":return"tox-collection__item-container--valign-bottom"}})()]},components:g};case"cardimage":return c=i.src,{dom:{tag:"img",classes:i.classes,attributes:{src:c,alt:i.alt.getOr("")}}};case"cardtext":var u=i.name.exists(function(C){return Zn(o.cardText.highlightOn,C)})?w.from(o.cardText.matchText).getOr(""):"";return Rp(j1(i.text,u),i.classes)}var c,f,g,v,b})},pw=Wg(Wv(),$v()),hw=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Eb=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,vw=Math.min,bw=Math.max,Ob=Math.round,wE=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,G1=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,X1=ol(255,0,0,1),Tb=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),K1="tinymce-custom-colors";function yw(e){return e.getParam("custom_colors")!==!1}function ps(e){var o=e.getParam("color_map");return o!==void 0?(function(i){for(var u=[],c=0;c<i.length;c+=2)u.push({text:i[c+1],value:"#"+U1(i[c]).value,type:"choiceitem"});return u})(o):Z1}function xw(e){tS.add(e)}function Fp(e){var o,i=(o=ps(e).length,Math.max(5,Math.ceil(Math.sqrt(o))));return e.getParam("color_cols",i,"number")}function Ab(e){var o="choiceitem",i={type:o,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"};return e?[i,{type:o,text:"Custom color",icon:"color-picker",value:"custom"}]:[i]}function ww(e,o,i,u){i==="custom"?Cw(e)(function(c){c.each(function(f){xw(f),e.execCommand("mceApplyTextcolor",o,f),u(f)})},Nb):i==="remove"?(u(""),e.execCommand("mceRemoveTextcolor",o)):(u(i),e.execCommand("mceApplyTextcolor",o,i))}function Y1(e,o){return e.concat(Vt(tS.state(),function(i){return{type:yr,text:i,value:i}}).concat(Ab(o)))}function J1(e,o){return function(i){i(Y1(e,o))}}function Db(e,o,i){e.setIconFill(o==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color",i)}function Hp(e,o,i,u,c){e.ui.registry.addSplitButton(o,{tooltip:u,presets:"color",icon:o==="forecolor"?"text-color":"highlight-bg-color",select:function(f){var g,v=i;return e.dom.getParents(e.selection.getStart(),function(b){var C;(C=b.style[v==="forecolor"?"color":"background-color"])&&(g=g||C)}),w.from(g).bind(function(b){return fw(b).map(function(C){var S=Jl(C).value;return Yo(f.toLowerCase(),S)})}).getOr(!1)},columns:Fp(e),fetch:J1(ps(e),yw(e)),onAction:function(f){ww(e,i,c.get(),Xt)},onItemAction:function(f,g){ww(e,i,g,function(v){c.set(v),e.fire("TextColorChange",{name:o,color:v})})},onSetup:function(f){function g(v){v.name===o&&Db(f,v.name,v.color)}return Db(f,o,c.get()),e.on("TextColorChange",g),function(){e.off("TextColorChange",g)}}})}function yc(e,o,i,u){e.ui.registry.addNestedMenuItem(o,{text:u,icon:o==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(c){ww(e,i,c.value,Xt)}}]}})}function xc(e,o,i,u,c,f,g,v){return kp(e,Gs(o),CE(o,i,u,c!=="color"?"normal":"color",f,g,v),u,c)}function zp(e,o){var i=ad(o);return e===1?{mode:"menu",moveOnTab:!0}:e==="auto"?{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+(o==="color"?"tox-swatches__row":"tox-collection__group")}}function Q1(e,o){return Uc(o+"x"+e)}var fd,ii,yr="choiceitem",Z1=[{type:yr,text:"Light Green",value:"#BFEDD2"},{type:yr,text:"Light Yellow",value:"#FBEEB8"},{type:yr,text:"Light Red",value:"#F8CAC6"},{type:yr,text:"Light Purple",value:"#ECCAFA"},{type:yr,text:"Light Blue",value:"#C2E0F4"},{type:yr,text:"Green",value:"#2DC26B"},{type:yr,text:"Yellow",value:"#F1C40F"},{type:yr,text:"Red",value:"#E03E2D"},{type:yr,text:"Purple",value:"#B96AD9"},{type:yr,text:"Blue",value:"#3598DB"},{type:yr,text:"Dark Turquoise",value:"#169179"},{type:yr,text:"Orange",value:"#E67E23"},{type:yr,text:"Dark Red",value:"#BA372A"},{type:yr,text:"Dark Purple",value:"#843FA1"},{type:yr,text:"Dark Blue",value:"#236FA1"},{type:yr,text:"Light Gray",value:"#ECF0F1"},{type:yr,text:"Medium Gray",value:"#CED4D9"},{type:yr,text:"Gray",value:"#95A5A6"},{type:yr,text:"Dark Gray",value:"#7E8C8D"},{type:yr,text:"Navy Blue",value:"#34495E"},{type:yr,text:"Black",value:"#000000"},{type:yr,text:"White",value:"#ffffff"}],tS=(function(e){e===void 0&&(e=10);function o(g){f.splice(g,1)}var i,u=Tb.getItem(K1),c=Tn(u)?JSON.parse(u):[],f=e-(i=c).length<0?i.slice(0,e):i;return{add:function(g){var v;((v=lo(f,g))===-1?w.none():w.some(v)).each(o),f.unshift(g),f.length>e&&f.pop(),Tb.setItem(K1,JSON.stringify(f))},state:function(){return f.slice(0)}}})(10),Nb="#000000",Cw=function(e){return function(o,i){var u=!1;e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{colorpicker:i},onAction:function(c,f){f.name==="hex-valid"&&(u=f.value)},onSubmit:function(c){var f=c.getData().colorpicker;u?(o(w.from(f)),c.close()):e.windowManager.alert(e.translate(["Invalid hex color code: {0}",f]))},onClose:Xt,onCancel:function(){o(w.none())}})}},CE=function(e,o,i,u,c,f,g){return _r(Vt(e,function(v){return v.type==="choiceitem"?go("choicemenuitem",P1,v).fold(Ar,function(b){return w.some((function(C,S,O,D,R,L,I,F){F===void 0&&(F=!0);var z=Um({presets:O,textContent:S?C.text:w.none(),htmlContent:w.none(),ariaLabel:C.text,iconContent:C.icon,shortcutContent:S?C.shortcut:w.none(),checkMark:S?w.some(wb(I.icons)):w.none(),caret:w.none(),value:C.value},I,F);return ee(gs({data:Ru(C),disabled:C.disabled,getApi:function(U){return{setActive:function(M){mn.set(U,M)},isActive:function(){return mn.isOn(U)},isDisabled:function(){return he.isDisabled(U)},setDisabled:function(M){return he.set(U,M)}}},onAction:function(U){return D(C.value)},onSetup:function(U){return U.setActive(R),Xt},triggersSubmenu:!1,itemBehaviours:[]},z,L,I),{toggling:{toggleClass:tw,toggleOnExecute:!1,selected:C.active}})})(b,i===1,u,o,f(v.value),c,g,Gs(e)))}):w.none()}))},eS=fe("cell-over"),iu=fe("cell-execute"),$m={inserttable:function(e){var o=fe("size-label"),i=(function(f){for(var g=[],v=0;v<10;v++){for(var b=[],C=0;C<10;C++)b.push((function(S,O,D){function R(F){return we(F,iu,{row:S,col:O})}function L(F,z){z.stop(),R(F)}var I;return or({dom:{tag:"div",attributes:((I={role:"button"})["aria-labelledby"]=D,I)},behaviours:Kt([Me("insert-table-picker-cell",[Rt(sc(),De.focus),Rt(Na(),R),Rt(Ol(),L),Rt(Rf(),L)]),mn.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),De.config({onFocus:function(F){return we(F,eS,{row:S,col:O})}})])})})(v,C,f));g.push(b)}return g})(o),u=Q1(0,0),c=_n({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:o}},components:[u],behaviours:Kt([Le.config({})])});return{type:"widget",data:{value:fe("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[pw.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:on(i,function(f){return Vt(f,Ja)}).concat(c.asSpec()),behaviours:Kt([Me("insert-table-picker",[$o(function(f){Le.set(c.get(f),[u])}),Kd(eS,function(f,g,v){var b=v.event,C=b.row,S=b.col;(function(O,D,R){for(var L=0;L<10;L++)for(var I=0;I<10;I++)mn.set(O[L][I],L<=D&&I<=R)})(i,C,S),Le.set(c.get(f),[Q1(C+1,S+1)])}),Kd(iu,function(f,g,v){var b=v.event,C=b.row,S=b.col;e.onAction({numRows:C+1,numColumns:S+1}),fn(f,Fh())})]),ve.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:function(e,o){var i,u,c,f=(u=o,c=(i=e).initData.allowCustomColors&&u.colorinput.hasCustomColors(),i.initData.colors.fold(function(){return Y1(u.colorinput.getColors(),c)},function(C){return C.concat(Ab(c))})),g=o.colorinput.getColorCols(),v=xc(fe("menu-value"),f,function(C){e.onAction({value:C})},g,"color",$i.CLOSE_ON_EXECUTE,Je,o.shared.providers),b=q(q({},v),{markers:ad("color"),movement:zp(g,"color")});return{type:"widget",data:{value:fe("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[pw.widget(Zc.sketch(b))]}}},nS=function(e){var o=e.text.fold(function(){return{}},function(i){return{innerHtml:i}});return{type:"separator",dom:q({tag:"div",classes:[hb,"tox-collection__group-heading"]},o),components:[]}},_E=function(e,o,i,u){u===void 0&&(u=!0);var c=Um({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:w.none(),ariaLabel:e.text,caret:w.none(),checkMark:w.none(),shortcutContent:e.shortcut},i,u);return gs({data:Ru(e),getApi:function(f){return{isDisabled:function(){return he.isDisabled(f)},setDisabled:function(g){return he.set(f,g)}}},disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},c,o,i)},qi=function(e,o,i,u,c){u===void 0&&(u=!0);var f=(c=c!==void 0&&c)?La("chevron-down",i.icons,[ew]):La("chevron-right",i.icons,[ew]),g=Um({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:w.none(),ariaLabel:e.text,caret:w.some(f),checkMark:w.none(),shortcutContent:e.shortcut},i,u);return gs({data:Ru(e),getApi:function(v){return{isDisabled:function(){return he.isDisabled(v)},setDisabled:function(b){return he.set(v,b)}}},disabled:e.disabled,onAction:Xt,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},g,o,i)},_w=function(e,o,i,u){u===void 0&&(u=!0);var c=Um({iconContent:e.icon,textContent:e.text,htmlContent:w.none(),ariaLabel:e.text,checkMark:w.some(wb(i.icons)),caret:w.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},i,u);return ee(gs({data:Ru(e),disabled:e.disabled,getApi:function(f){return{setActive:function(g){mn.set(f,g)},isActive:function(){return mn.isOn(f)},isDisabled:function(){return he.isDisabled(f)},setDisabled:function(g){return he.set(f,g)}}},onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},c,o,i),{toggling:{toggleClass:tw,toggleOnExecute:!1,selected:e.active}})},oS=function(e,o){return be($m,e.fancytype).map(function(i){return i(e,o)})};function Bb(e,o,i,u,c,f,g){var v=u===1,b=!v||Gs(e);return _r(Vt(e,function(C){switch(C.type){case"separator":return go("Autocompleter.Separator",Vx,C).fold(Ar,function(S){return w.some(nS(S))});case"cardmenuitem":return go("cardmenuitem",gE,C).fold(Ar,function(S){return w.some((O=q(q({},S),{onAction:function(F){S.onAction(F),i(S.value,S.meta)}}),D=c,R=f,L={itemBehaviours:V1(S.meta,f),cardText:{matchText:o,highlightOn:g}},I={dom:uw(O.label),optComponents:[w.some({dom:{tag:"div",classes:[N1,Tp]},components:Lp(O.items,L)})]},gs({data:Ru(q({text:w.none()},O)),disabled:O.disabled,getApi:function(F){return{isDisabled:function(){return he.isDisabled(F)},setDisabled:function(z){he.set(F,z),Q(ji(F.element,"*"),function(U){F.getSystem().getByDom(U).each(function(M){M.hasConfigured(he)&&he.set(M,z)})})}}},onAction:O.onAction,onSetup:O.onSetup,triggersSubmenu:!1,itemBehaviours:w.from(L.itemBehaviours).getOr([])},I,D,R.providers)));var O,D,R,L,I});default:return go("Autocompleter.Item",sE,C).fold(Ar,function(S){return w.some((function(O,D,R,L,I,F,z,U){U===void 0&&(U=!0);var M=Um({presets:L,textContent:w.none(),htmlContent:R?O.text.map(function(j){return j1(j,D)}):w.none(),ariaLabel:O.text,iconContent:O.icon,shortcutContent:w.none(),checkMark:w.none(),caret:w.none(),value:O.value},z.providers,U,O.icon);return gs({data:Ru(O),disabled:O.disabled,getApi:ot({}),onAction:function(j){return I(O.value,O.meta)},onSetup:ot(Xt),triggersSubmenu:!1,itemBehaviours:V1(O.meta,z)},M,F,z.providers)})(S,o,v,"normal",i,c,f,b))})}}))}function Sw(e,o,i,u,c){var f=Gs(o),g=_r(Vt(o,function(v){function b(C){return(function(S,O,D,R,L){function I(z){return L?q(q({},z),{shortcut:w.none(),icon:z.text.isSome()?w.none():z.icon}):z}var F=D.shared.providers;switch(S.type){case"menuitem":return go("menuitem",hE,S).fold(Ar,function(z){return w.some(_E(I(z),O,F,R))});case"nestedmenuitem":return go("nestedmenuitem",vE,S).fold(Ar,function(z){return w.some(qi(I(z),O,F,R,L))});case"togglemenuitem":return go("togglemenuitem",bE,S).fold(Ar,function(z){return w.some(_w(I(z),O,F,R))});case"separator":return go("separatormenuitem",Vx,S).fold(Ar,function(z){return w.some(nS(z))});case"fancymenuitem":return go("fancymenuitem",pE,S).fold(Ar,function(z){return oS(I(z),D)});default:return console.error("Unknown item in general menu",S),w.none()}})(C,i,u,c?!ht(C,"text"):f,c)}return v.type==="nestedmenuitem"&&v.getSubmenuItems().length<=0?b(q(q({},v),{disabled:!0})):b(v)}));return(c?Yx:kp)(e,f,g,1,"normal")}function kw(e){return fs.singleData(e.value,e)}function dd(e,o,i){return la(e,o,i).isSome()}function Ew(e,o){var i=null;return{cancel:function(){i!==null&&(clearTimeout(i),i=null)},schedule:function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];i=setTimeout(function(){e.apply(null,u),i=null},o)}}}function rS(e){var o=e.raw;return o.touches===void 0||o.touches.length!==1?w.none():w.some(o.touches[0])}function Rb(){return Ca().browser.isFirefox()}function md(e,o){var i,u,c,f,g,v,b,C,S,O=q({stopBackspace:!0},o),D=(g=O,v=qo(),b=ge(!1),C=Ew(function(j){g.triggerEvent(Lh(),j),b.set(!0)},400),S=kl([{key:Ka(),value:function(j){return rS(j).each(function(K){C.cancel();var J={x:K.clientX,y:K.clientY,target:j.target};C.schedule(j),b.set(!1),v.set(J)}),w.none()}},{key:Ya(),value:function(j){return C.cancel(),rS(j).each(function(K){v.on(function(J){var pt=K,ut=J,yt=Math.abs(pt.clientX-ut.x),Tt=Math.abs(pt.clientY-ut.y);(5<yt||5<Tt)&&v.clear()})}),w.none()}},{key:ts(),value:function(j){return C.cancel(),v.get().filter(function(K){return Be(K.target,j.target)}).map(function(K){return b.get()?(j.prevent(),!1):g.triggerEvent(Rf(),j)})}}]),{fireIfReady:function(j,K){return be(S,K).bind(function(J){return J(j)})}}),R=Vt(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(j){return rr(e,j,function(K){D.fireIfReady(K,j).each(function(J){J&&K.kill()}),O.triggerEvent(j,K)&&K.kill()})}),L=qo(),I=rr(e,"paste",function(j){D.fireIfReady(j,"paste").each(function(K){K&&j.kill()}),O.triggerEvent("paste",j)&&j.kill(),L.set(setTimeout(function(){O.triggerEvent(Ly(),j)},0))}),F=rr(e,"keydown",function(j){var K;O.triggerEvent("keydown",j)?j.kill():!O.stopBackspace||(K=j).raw.which!==Lk[0]||Zn(["input","textarea"],le(K.target))||dd(K.target,'[contenteditable="true"]')||j.prevent()}),z=(i=e,u=function(j){O.triggerEvent("focusin",j)&&j.kill()},Rb()?Tg(i,"focus",u):rr(i,"focusin",u)),U=qo(),M=(c=e,f=function(j){O.triggerEvent("focusout",j)&&j.kill(),U.set(setTimeout(function(){O.triggerEvent(ns(),j)},0))},Rb()?Tg(c,"blur",f):rr(c,"focusout",f));return{unbind:function(){Q(R,function(j){j.unbind()}),F.unbind(),z.unbind(),M.unbind(),I.unbind(),L.on(clearTimeout),U.on(clearTimeout)}}}function Vp(e,o){return ge(be(e,"target").getOr(o))}function qm(e,o,i,u,c,f){var g,v,b=e(o,u),C=(g=ge(!1),v=ge(!1),{stop:function(){g.set(!0)},cut:function(){v.set(!0)},isStopped:g.get,isCut:v.get,event:i,setSource:c.set,getSource:c.get});return b.fold(function(){return f.logEventNoHandlers(o,u),gd.complete()},function(S){var O=S.descHandler;return My(O)(C),C.isStopped()?(f.logEventStopped(o,S.element,O.purpose),gd.stopped()):C.isCut()?(f.logEventCut(o,S.element,O.purpose),gd.complete()):Xe(S.element).fold(function(){return f.logNoParent(o,S.element,O.purpose),gd.complete()},function(D){return f.logEventResponse(o,S.element,O.purpose),gd.resume(D)})})}function jp(){function e(c){Yd(c.element).each(function(f){delete u[f],i.unregisterId(f)})}var o,i=(o={},{registerId:function(c,f,g){Qn(g,function(v,b){var C,S=o[b]!==void 0?o[b]:{};S[f]={cHandler:Nn.apply(void 0,[(C=v).handler].concat(c)),purpose:C.purpose},o[b]=S})},unregisterId:function(c){Qn(o,function(f,g){ht(f,c)&&delete f[c]})},filterByType:function(c){return be(o,c).map(function(f){return yo(f,function(g,v){return{id:v,descHandler:g}})}).getOr([])},find:function(c,f,g){return be(o,f).bind(function(v){return Ny(g,function(b){return C=v,Yd(S=b).bind(function(O){return be(C,O)}).map(function(O){return{element:S,descHandler:O}});var C,S},c)})}}),u={};return{find:function(c,f,g){return i.find(c,f,g)},filter:function(c){return i.filterByType(c)},register:function(c){var f,g=Yd((f=c).element).getOrThunk(function(){return v=f.element,b=fe(IC+"uid-"),bg(v,b),b;var v,b});Fr(u,g)&&(function(v){var b=u[g];if(b!==v)throw new Error('The tagId "'+g+'" is already used by: '+El(b.element)+`
Cannot use it for: `+El(v.element)+`
The conflicting element is`+(ki(b.element)?" ":" not ")+"already in the DOM");e(v)})(c),i.registerId([c],g,c.events),u[g]=c},unregister:e,getById:function(c){return be(u,c)}}}function iS(e){function o(F){return Xe(e.element).fold(nn,function(z){return Be(F,z)})}function i(F,z){return c.find(o,F,z)}function u(F){var z=c.filter(Tl());Q(z,function(U){My(U.descHandler)(F)})}var c=jp(),f=md(e.element,{triggerEvent:function(F,z){return wg(F,z.target,function(U){return aS(i,F,z,z.target,U)})}}),g={debugInfo:ot("real"),triggerEvent:function(F,z,U){wg(F,z,function(M){return aS(i,F,U,z,M)})},triggerFocus:function(F,z){Yd(F).fold(function(){dc(F)},function(U){wg(Ni(),F,function(M){var j,K,J=i,pt=Ni(),ut=M,yt=Vp(j={originator:z,kill:Xt,prevent:Xt,target:F},K=F);return qm(J,pt,j,K,yt,ut),!1})})},triggerEscape:function(F,z){g.triggerEvent("keydown",F.element,z.event)},getByUid:function(F){return L(F)},getByDom:function(F){return I(F)},build:or,addToGui:function(F){C(F)},removeFromGui:function(F){S(F)},addToWorld:function(F){v(F)},removeFromWorld:function(F){b(F)},broadcast:function(F){O(F)},broadcastOn:function(F,z){D(F,z)},broadcastEvent:function(F,z){R(F,z)},isConnected:nn},v=function(F){F.connect(g),Qs(F.element)||(c.register(F),Q(F.components(),v),g.triggerEvent(Hh(),F.element,{target:F.element}))},b=function(F){Qs(F.element)||(Q(F.components(),b),c.unregister(F)),F.disconnect()},C=function(F){Hl(e,F)},S=function(F){zl(F)},O=function(F){u({universal:!0,data:F})},D=function(F,z){u({universal:!1,channels:F,data:z})},R=function(F,z){var U,M,j=c.filter(F);return M={stop:function(){U.set(!0)},cut:Xt,isStopped:(U=ge(!1)).get,isCut:Je,event:z,setSource:fu("Cannot set source of a broadcasted event"),getSource:fu("Cannot get source of a broadcasted event")},Q(j,function(K){My(K.descHandler)(M)}),M.isStopped()},L=function(F){return c.getById(F).fold(function(){return Ee.error(new Error('Could not find component with uid: "'+F+'" in system.'))},Ee.value)},I=function(F){var z=Yd(F).getOr("not found");return L(z)};return v(e),{root:e,element:e.element,destroy:function(){f.unbind(),nr(e.element)},add:C,remove:S,getByUid:L,getByDom:I,addToWorld:v,removeFromWorld:b,broadcast:O,broadcastOn:D,broadcastEvent:R}}function Up(e,o,i,u){var c=cS(e,o,i,u);return tn.sketch(c)}function il(e,o){return tn.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:o.translate(e)}})}function Ow(e){return Kt([De.config({onFocus:e.selectOnFocus?function(o){var i=o.element,u=jc(i);i.dom.setSelectionRange(0,u.length)}:Xt})])}function Mb(e){return{tag:e.tag,attributes:q({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}}(ii=fd={})[ii.ContentFocus=0]="ContentFocus",ii[ii.UiFocus=1]="UiFocus";function Tw(e,o){function i(){return g.get().isSome()}function u(){i()&&ro.hide(b)}var c,f,g=qo(),v=ge(!1),b=or(ro.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Kt([Me("dismissAutocompleter",[Rt(Mf(),function(){return C()})])]),lazySink:o.getSink})),C=function(){var L;i()&&(L=g.get().map(function(I){return I.element}),_p(L.getOr(kt.fromDom(e.selection.getNode()))).each($u),u(),g.clear(),v.set(!1))},S=$e(function(){return F=ko(e.ui.registry.getAll().popups,function(M){return go("Autocompleter",w1,M).fold(function(j){throw new Error(sa(j))},ne)}),L=yo(F,function(M){return M.ch}),I={},Q(L,function(M){I[M]={}}),z=_t(I),U=Wu(F),{dataset:F,triggerChars:z,lookupByChar:function(M){return Ne(U,function(j){return j.ch===M})}};var L,I,F,z,U}),O=function(L){var I=L;g.get().map(function(F){return Hx(e.dom,e.selection.getRng(),F.triggerChar).bind(function(z){return Am(e,S,z,I)})}).getOrThunk(function(){return F=e,U=(z=S)(),M=F.selection.getRng(),j=F.dom,K=M,eo(U.triggerChars,function(J){return Hx(j,K,J)}).bind(function(J){return Am(F,z,J)});var F,z,U,M,j,K}).fold(C,function(F){var z,U=F.context;i()||(z=Lx(e,U.range),g.set({triggerChar:U.triggerChar,element:z,matchLength:U.text.length}),v.set(!1)),F.lookupData.then(function(M){g.get().map(function(j){var K,J,pt,ut,yt=F.context;j.triggerChar===yt.triggerChar&&(J=yt.triggerChar,ut=eo(pt=M,function(Tt){return w.from(Tt.columns)}).getOr(1),0<(K=on(pt,function(Tt){return Bb(Tt.items,Tt.matchText,function(xt,Nt){var Lt=e.selection.getRng();Hx(e.dom,Lt,J).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Qt){var pe=Qt.range,Fe={hide:function(){C()},reload:function(ln){u(),O(ln)}};v.set(!0),Tt.onAction(Fe,pe,xt,Nt),v.set(!1)})},ut,$i.BUBBLE_TO_SANDBOX,o,Tt.highlightOn)})).length?(function(Tt,xt,Nt,Lt){Tt.matchLength=xt.text.length;var Qt,pe,Fe,ln,Sn,Vn,un=eo(Nt,function(kn){return w.from(kn.columns)}).getOr(1);ro.showAt(b,Zc.sketch((Qt=kp("autocompleter-value",!0,Lt,un,"normal"),pe=un,ln=((Fe=fd.ContentFocus)===fd.ContentFocus?B0:Gg)(),Sn=zp(pe,"normal"),Vn=ad("normal"),{dom:Qt.dom,components:Qt.components,items:Qt.items,value:Qt.value,markers:{selectedItem:Vn.selectedItem,item:Vn.item},movement:Sn,fakeFocus:Fe===fd.ContentFocus,focusManager:ln,menuBehaviours:ru(pe!=="auto"?[]:[$o(function(kn,Rn){Jx(kn,4,Vn.item).each(function(Wn){var gn=Wn.numColumns,io=Wn.numRows;ve.setGridSize(kn,io,gn)})})])})),{anchor:{type:"node",root:kt.fromDom(e.getBody()),node:w.from(Tt.element)}}),ro.getContent(b).each(Pn.highlightFirst)})(j,yt,M,K):(10<=yt.text.length-j.matchLength?C:u)())})})})},D={onKeypress:qs(function(L){L.which!==27&&O()},50),cancelIfNecessary:C,isMenuOpen:function(){return ro.isOpen(b)},isActive:i,isProcessingAction:v.get,getView:function(){return ro.getContent(b)}};function R(L,I){we(L,Bs(),{raw:I})}e.hasPlugin("rtc")===!1&&(c=D,(f=e).on("keypress compositionend",c.onKeypress.throttle),f.on("remove",c.onKeypress.cancel),f.on("keydown",function(L){function I(){return c.getView().bind(Pn.getHighlighted)}L.which===8&&c.onKeypress.throttle(L),c.isActive()&&(L.which===27&&c.cancelIfNecessary(),c.isMenuOpen()?L.which===13?(I().each(rc),L.preventDefault()):L.which===40?(I().fold(function(){c.getView().each(Pn.highlightFirst)},function(F){R(F,L)}),L.preventDefault(),L.stopImmediatePropagation()):L.which!==37&&L.which!==38&&L.which!==39||I().each(function(F){R(F,L),L.preventDefault(),L.stopImmediatePropagation()}):L.which!==13&&L.which!==38&&L.which!==40||c.cancelIfNecessary())}),f.on("NodeChange",function(L){c.isActive()&&!c.isProcessingAction()&&_p(kt.fromDom(L.element)).isNone()&&c.cancelIfNecessary()}))}var gd=jo([{stopped:[]},{resume:["element"]},{complete:[]}]),Aw=function(e,o,i,u,c,f){return qm(e,o,i,u,c,f).fold(nn,function(g){return Aw(e,o,i,g,c,f)},Je)},aS=function(e,o,i,u,c){var f=Vp(i,u);return Aw(e,o,i,u,f,c)},Dr=nu({name:"Container",factory:function(e){var o=e.dom,i=o.attributes,u=dr(o,["attributes"]);return{uid:e.uid,dom:q({tag:"div",attributes:q({role:"presentation"},i)},u),components:e.components,behaviours:Ug(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[rt("components",[]),Go("containerBehaviours",[]),rt("events",{}),rt("domModification",{}),rt("eventOrder",{})]}),uS=ot([rt("prefix","form-field"),Go("fieldBehaviours",[an,Zt])]),SE=ot([js({schema:[Bt("dom")],name:"label"}),js({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[Bt("text")],name:"aria-descriptor"}),oi({factory:{sketch:function(e){var o,i,u=(o=["factory"],i={},Qn(e,function(c,f){Zn(o,f)||(i[f]=c)}),i);return e.factory.sketch(u)}},schema:[Bt("factory")],name:"field"})]),tn=ni({name:"FormField",configFields:uS(),partFields:SE(),factory:function(e,o,i,u){var c=cr(e.fieldBehaviours,[an.config({find:function(g){return wn(g,e,"field")}}),Zt.config({store:{mode:"manual",getValue:function(g){return an.getCurrent(g).bind(Zt.getValue)},setValue:function(g,v){an.getCurrent(g).each(function(b){Zt.setValue(b,v)})}}})]),f=oo([$o(function(g,v){var b=jr(g,e,["label","field","aria-descriptor"]);b.field().each(function(C){var S=fe(e.prefix);b.label().each(function(O){qe(O.element,"for",S),qe(C.element,"id",S)}),b["aria-descriptor"]().each(function(O){var D=fe(e.prefix);qe(O.element,"id",D),qe(C.element,"aria-describedby",D)})})})]);return{uid:e.uid,dom:e.dom,components:o,behaviours:c,events:f,apis:{getField:function(g){return wn(g,e,"field")},getLabel:function(g){return wn(g,e,"label")}}}},apis:{getField:function(e,o){return e.getField(o)},getLabel:function(e,o){return e.getLabel(o)}}}),Dw=Object.freeze({__proto__:null,exhibit:function(e,o){return Ds({attributes:kl([{key:o.tabAttr,value:"true"}])})}}),Bo=Or({fields:[rt("tabAttr","data-alloy-tabstop")],name:"tabstopping",active:Dw}),sS=tinymce.util.Tools.resolve("tinymce.html.Entities"),cS=function(e,o,i,u){return{dom:Wp(i),components:e.toArray().concat([o]),fieldBehaviours:Kt(u)}},Wp=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},Fa=fe("form-component-change"),Gm=fe("form-close"),Ql=fe("form-cancel"),Xs=fe("form-action"),$p=fe("form-submit"),Xm=fe("form-block"),Pb=fe("form-unblock"),Nw=fe("form-tabchange"),qp=fe("form-resize"),lS=ot([bn("data"),rt("inputAttributes",{}),rt("inputStyles",{}),rt("tag","input"),rt("inputClasses",[]),yn("onSetValue"),rt("styles",{}),rt("eventOrder",{}),Go("inputBehaviours",[Zt,De]),rt("selectOnFocus",!0)]),Gp=nu({name:"Input",configFields:lS(),factory:function(e,o){return{uid:e.uid,dom:Mb(e),components:[],behaviours:q(q({},Ow(i=e)),cr(i.inputBehaviours,[Zt.config({store:q(q({mode:"manual"},i.data.map(function(u){return{initialValue:u}}).getOr({})),{getValue:function(u){return jc(u.element)},setValue:function(u,c){jc(u.element)!==c&&Ns(u.element,c)}}),onSetValue:i.onSetValue})])),eventOrder:e.eventOrder};var i}}),Xp={},Kp={exports:Xp};function Ib(e){setTimeout(function(){throw e},0)}function Lb(e){var o=le(e);return Zn(fS,o)}function Bw(e,o){sr(o.getRoot(e).getOr(e.element),o.invalidClass),o.notify.each(function(i){Lb(e.element)&&qe(e.element,"aria-invalid",!1),i.getContainer(e).each(function(u){pg(u,i.validHtml)}),i.onValid(e)})}function Rw(e,o,i,u){zr(o.getRoot(e).getOr(e.element),o.invalidClass),o.notify.each(function(c){Lb(e.element)&&qe(e.element,"aria-invalid",!0),c.getContainer(e).each(function(f){pg(f,u)}),c.onInvalid(e,u)})}function Mw(e,o,i){return o.validator.fold(function(){return Cc(Ee.value(!0))},function(u){return u.validate(e)})}function Fb(e,o,i){return o.notify.each(function(u){u.onValidate(e)}),Mw(e,o).map(function(u){return e.getSystem().isConnected()?u.fold(function(c){return Rw(e,o,0,c),Ee.error(c)},function(c){return Bw(e,o),Ee.value(c)}):Ee.error("No longer in system")})}(function(){var e=this,o=function(){var i,u,c,f={exports:{}};function g(){}function v(I){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof I!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],R(I,this)}function b(I,F){for(;I._state===3;)I=I._value;I._state!==0?(I._handled=!0,v._immediateFn(function(){var z,U=I._state===1?F.onFulfilled:F.onRejected;if(U!==null){try{z=U(I._value)}catch(M){return void S(F.promise,M)}C(F.promise,z)}else(I._state===1?C:S)(F.promise,I._value)})):I._deferreds.push(F)}function C(I,F){try{if(F===I)throw new TypeError("A promise cannot be resolved with itself.");if(F&&(typeof F=="object"||typeof F=="function")){var z=F.then;if(F instanceof v)return I._state=3,I._value=F,void O(I);if(typeof z=="function")return void R((U=z,M=F,function(){U.apply(M,arguments)}),I)}I._state=1,I._value=F,O(I)}catch(j){S(I,j)}var U,M}function S(I,F){I._state=2,I._value=F,O(I)}function O(I){I._state===2&&I._deferreds.length===0&&v._immediateFn(function(){I._handled||v._unhandledRejectionFn(I._value)});for(var F=0,z=I._deferreds.length;F<z;F++)b(I,I._deferreds[F]);I._deferreds=null}function D(I,F,z){this.onFulfilled=typeof I=="function"?I:null,this.onRejected=typeof F=="function"?F:null,this.promise=z}function R(I,F){var z=!1;try{I(function(U){z||(z=!0,C(F,U))},function(U){z||(z=!0,S(F,U))})}catch(U){if(z)return;z=!0,S(F,U)}}i=f,u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},c=setTimeout,v.prototype.catch=function(I){return this.then(null,I)},v.prototype.then=function(I,F){var z=new this.constructor(g);return b(this,new D(I,F,z)),z},v.all=function(I){var F=Array.prototype.slice.call(I);return new v(function(z,U){if(F.length===0)return z([]);for(var M=F.length,j=0;j<F.length;j++)(function K(J,pt){try{if(pt&&(typeof pt=="object"||typeof pt=="function")){var ut=pt.then;if(typeof ut=="function")return ut.call(pt,function(yt){K(J,yt)},U),0}F[J]=pt,--M==0&&z(F)}catch(yt){U(yt)}})(j,F[j])})},v.resolve=function(I){return I&&typeof I=="object"&&I.constructor===v?I:new v(function(F){F(I)})},v.reject=function(I){return new v(function(F,z){z(I)})},v.race=function(I){return new v(function(F,z){for(var U=0,M=I.length;U<M;U++)I[U].then(F,z)})},v._immediateFn=typeof setImmediate=="function"?function(I){setImmediate(I)}:function(I){c(I,0)},v._unhandledRejectionFn=function(I){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",I)},v._setImmediateFn=function(I){v._immediateFn=I},v._setUnhandledRejectionFn=function(I){v._unhandledRejectionFn=I},i.exports?i.exports=v:u.Promise||(u.Promise=v);var L=f.exports;return{boltExport:(typeof window<"u"?window:Function("return this;")()).Promise||L}};typeof Xp=="object"&&Kp!==void 0?Kp.exports=o():(e=typeof globalThis<"u"?globalThis:e||self).EphoxContactWrapper=o()})();var hs,Yp,wc=Kp.exports.boltExport,Jp=function(e){function o(g){c()?f(g):u.push(g)}var i=w.none(),u=[],c=function(){return i.isSome()},f=function(g){i.each(function(v){setTimeout(function(){g(v)},0)})};return e(function(g){c()||(i=w.some(g),Q(u,f),u=[])}),{get:o,map:function(g){return Jp(function(v){o(function(b){v(g(b))})})},isReady:c}},kE={nu:Jp,pure:function(e){return Jp(function(o){o(e)})}},pd=function(e){function o(i){e().then(i,Ib)}return{map:function(i){return pd(function(){return e().then(i)})},bind:function(i){return pd(function(){return e().then(function(u){return i(u).toPromise()})})},anonBind:function(i){return pd(function(){return e().then(function(){return i.toPromise()})})},toLazy:function(){return kE.nu(o)},toCached:function(){var i=null;return pd(function(){return i=i===null?e():i})},toPromise:e,get:o}},Zl=function(e){return pd(function(){return new wc(e)})},Cc=function(e){return pd(function(){return wc.resolve(e)})},fS=["input","textarea"],dS=Object.freeze({__proto__:null,markValid:Bw,markInvalid:Rw,query:Mw,run:Fb,isInvalid:function(e,o){return wu(o.getRoot(e).getOr(e.element),o.invalidClass)}}),mS=Object.freeze({__proto__:null,events:function(e,o){return e.validator.map(function(i){return oo([Rt(i.onEvent,function(u){Fb(u,e).get(ne)})].concat(i.validateOnLoad?[$o(function(u){Fb(u,e).get(Xt)})]:[]))}).getOr({})}}),_c=Or({fields:[Bt("invalidClass"),rt("getRoot",w.none),ia("notify",[rt("aria","alert"),rt("getContainer",w.none),rt("validHtml",""),yn("onValid"),yn("onInvalid"),yn("onValidate")]),ia("validator",[Bt("validate"),rt("onEvent","input"),rt("validateOnLoad",!0)])],name:"invalidating",active:mS,apis:dS,extra:{validation:function(e){return function(o){var i=Zt.getValue(o);return Cc(e(i))}}}}),gS=Object.freeze({__proto__:null,getCoupled:function(e,o,i,u){return i.getOrCreate(e,o,u)}}),Xo=Or({fields:[mi("others",mg(Ee.value,kr()))],name:"coupling",apis:gS,state:Object.freeze({__proto__:null,init:function(){var e={},o=ot({});return ca({readState:o,getOrCreate:function(i,u,c){var f=_t(u.others);if(f)return be(e,c).getOrThunk(function(){var g=be(u.others,c).getOrDie("No information found for coupled component: "+c)(i),v=i.getSystem().build(g);return e[c]=v});throw new Error("Cannot find coupled component: "+c+". Known coupled components: "+JSON.stringify(f,null,2))}})}})}),pS=ot("sink"),Pw=ot(js({name:pS(),overrides:ot({dom:{tag:"div"},behaviours:Kt([Ri.config({useFixed:nn})]),events:oo([ic(Bs()),ic(Bn()),ic(Ol())])})}));function cn(e,o){var i=e.getHotspot(o).getOr(o),u=e.getAnchorOverrides();return e.layouts.fold(function(){return{type:"hotspot",hotspot:i,overrides:u}},function(c){return{type:"hotspot",hotspot:i,overrides:u,layouts:c}})}function tf(e,o,i,u,c,f,g){var v,b=cn(e,i),C=i,S=u,O=c,D=g,R=o,L=(0,(v=e).fetch)(C).map(R),I=ry(C,v);return L.map(function(F){return F.bind(function(z){return w.from(fs.sketch(q(q({},O.menu()),{uid:Pf(""),data:z,highlightImmediately:D===hs.HighlightFirst,onOpenMenu:function(U,M){var j=I().getOrDie();Ri.position(j,M,{anchor:b}),Ze.decloak(S)},onOpenSubmenu:function(U,M,j){var K=I().getOrDie();Ri.position(K,j,{anchor:{type:"submenu",item:M}}),Ze.decloak(S)},onRepositionMenu:function(U,M,j){var K=I().getOrDie();Ri.position(K,M,{anchor:b}),Q(j,function(J){Ri.position(K,J.triggeredMenu,{anchor:{type:"submenu",item:J.triggeringItem}})})},onEscape:function(){return De.focus(C),Ze.close(S),w.some(!0)}})))})}).map(function(F){return F.fold(function(){Ze.isOpen(u)&&Ze.close(u)},function(z){Ze.cloak(u),Ze.open(u,z),f(u)}),u})}function hd(e,o,i,u,c,f){var g=Xo.getCoupled(i,"sandbox");return(Ze.isOpen(g)?function(v,b,C,S,O,D,R){return Ze.close(S),Cc(S)}:tf)(e,o,i,g,u,c,f)}function Iw(e){Ze.getState(e).each(function(o){fs.repositionMenus(o)})}function Hb(e,o,i){var u=jC(),c=ry(o,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:u.id,role:"listbox"}},behaviours:Qf(e.sandboxBehaviours,[Zt.config({store:{mode:"memory",initialValue:o}}),Ze.config({onOpen:function(f,g){var v,b,C,S,O,D,R=cn(e,o);u.link(o.element),e.matchWidth&&(v=R.hotspot,b=g,C=e.useMinWidth,O=an.getCurrent(b).getOr(b),D=Ct(v.element),C?Ie(O.element,"min-width",D+"px"):(S=O.element,wf.set(S,D))),e.onOpen(R,f,g),i!==void 0&&i.onOpen!==void 0&&i.onOpen(f,g)},onClose:function(f,g){u.unlink(o.element),i!==void 0&&i.onClose!==void 0&&i.onClose(f,g)},isPartOf:function(f,g,v){return If(g,v)||If(o,v)},getAttachPoint:function(){return c().getOrDie()}}),an.config({find:function(f){return Ze.getState(f).bind(function(g){return an.getCurrent(g)})}}),tu.config({channels:q(q({},av({isExtraPart:Je})),uv({doReposition:Iw}))})])}}function Lw(e){Iw(Xo.getCoupled(e,"sandbox"))}function zb(){return[rt("sandboxClasses",[]),jl("sandboxBehaviours",[an,tu,Ze,Zt])]}function ef(e){return js({name:e+"-edge",overrides:function(o){return o.model.manager.edgeActions[e].fold(function(){return{}},function(i){return{events:oo([Da(Ka(),function(u,c,f){return i(u,f)},[o]),Da(Bn(),function(u,c,f){return i(u,f)},[o]),Da(Nf(),function(u,c,f){f.mouseIsDown.get()&&i(u,f)},[o])])}})}})}function Vb(e){var o=e.event.raw;return o.type.indexOf("touch")===-1?o.clientX!==void 0?w.some(o).map(function(i){return xo(i.clientX,i.clientY)}):w.none():o.touches!==void 0&&o.touches.length===1?w.some(o.touches[0]).map(function(i){return xo(i.clientX,i.clientY)}):w.none()}function vd(e){return e.model.minX}function nf(e){return e.model.minY}function Qp(e){return e.model.minX-1}function Zp(e){return e.model.minY-1}function Ks(e){return e.model.maxX}function al(e){return e.model.maxY}function th(e){return e.model.maxX+1}function eh(e){return e.model.maxY+1}function nh(e,o,i){return o(e)-i(e)}function Km(e){return nh(e,Ks,vd)}function oh(e){return nh(e,al,nf)}function jb(e){return Km(e)/2}function Fw(e){return oh(e)/2}function of(e){return e.stepSize}function Hw(e){return e.snapToGrid}function Ym(e){return e.snapStart}function hS(e){return e.rounded}function rh(e,o){return e[o+"-edge"]!==void 0}function vS(e){return rh(e,"left")}function bS(e){return rh(e,"right")}function zw(e){return rh(e,"top")}function yS(e){return rh(e,"bottom")}function ul(e){return e.model.value.get()}function sl(e,o){return{x:e,y:o}}function Pu(e,o){we(e,uf(),{value:o})}function Vw(e,o,i,u){return e<o?e:i<e?i:e===o?o-1:Math.max(o,e-u)}function ih(e,o,i,u){return i<e?e:e<o?o:e===i?i+1:Math.min(i,e+u)}function jw(e,o,i){return Math.max(o,Math.min(i,e))}function Uw(e){var o=e.min,i=e.max,u=e.range,c=e.value,f=e.step,g=e.snap,v=e.snapStart,b=e.rounded,C=e.hasMinEdge,S=e.hasMaxEdge,O=e.minBound,D=e.maxBound,R=e.screenRange,L=C?o-1:o,I=S?i+1:i;if(c<O)return L;if(D<c)return I;var F,z,U,M,j,K=jw((j=O,(Math.min(D,Math.max(c,j))-j)/R*u+o),L,I);return g&&o<=K&&K<=i?(F=K,z=o,U=i,M=f,v.fold(function(){var J=Math.round((F-z)/M)*M;return jw(z+J,z-1,U+1)},function(J){var pt=Math.round((F-J)%M/M),ut=Math.floor((F-J)/M),yt=Math.floor((U-J)/M),Tt=Math.min(yt,ut+pt);return Math.max(J,J+Tt*M)})):b?Math.round(K):K}function ah(e){var o=e.min,i=e.max,u=e.range,c=e.value,f=e.hasMinEdge,g=e.hasMaxEdge,v=e.maxBound,b=e.maxOffset,C=e.centerMinEdge,S=e.centerMaxEdge;return c<o?f?0:C:i<c?g?v:S:(c-o)/u*b}function Iu(e){return e.element.dom.getBoundingClientRect()}function Ub(e){return Iu(e)[cy]}function Jm(e){return Iu(e).right}function uh(e){return Iu(e).top}function au(e){return Iu(e).bottom}function Ww(e){return Iu(e).width}function $w(e){return Iu(e).height}function qw(e,o){var i=Iu(e),u=Iu(o);return(i[cy]+i.right)/2-u[cy]}function Gw(e,o){var i=Iu(e),u=Iu(o);return(i.top+i.bottom)/2-u.top}function sh(e,o){we(e,uf(),{value:o})}function Xw(e,o,i){return Uw({min:vd(o),max:Ks(o),range:Km(o),value:i,step:of(o),snap:Hw(o),snapStart:Ym(o),rounded:hS(o),hasMinEdge:vS(o),hasMaxEdge:bS(o),minBound:Ub(e),maxBound:Jm(e),screenRange:Ww(e)})}function xS(e){return function(o,i){return sh(o,{x:c=(0<e?ih:Vw)(ul(u=i).x,vd(u),Ks(u),of(u))}),w.some(c).map(nn);var u,c}}function Kw(e,o,i,u,c,f){var g,v,b,C,S,O,D,R,L=(v=f,b=i,C=u,S=c,O=Ww(g=o),D=C.bind(function(I){return w.some(qw(I,g))}).getOr(0),R=S.bind(function(I){return w.some(qw(I,g))}).getOr(O),ah({min:vd(v),max:Ks(v),range:Km(v),value:b,hasMinEdge:vS(v),hasMaxEdge:bS(v),minBound:Ub(g),minOffset:0,maxBound:Jm(g),maxOffset:O,centerMinEdge:D,centerMaxEdge:R}));return Ub(o)-Ub(e)+L}function Wb(e,o){we(e,uf(),{value:o})}function Yw(e,o,i){return Uw({min:nf(o),max:al(o),range:oh(o),value:i,step:of(o),snap:Hw(o),snapStart:Ym(o),rounded:hS(o),hasMinEdge:zw(o),hasMaxEdge:yS(o),minBound:uh(e),maxBound:au(e),screenRange:$w(e)})}function wS(e){return function(o,i){return Wb(o,{y:c=(0<e?ih:Vw)(ul(u=i).y,nf(u),al(u),of(u))}),w.some(c).map(nn);var u,c}}function $b(e,o,i,u,c,f){var g,v,b,C,S,O,D,R,L=(v=f,b=i,C=u,S=c,O=$w(g=o),D=C.bind(function(I){return w.some(Gw(I,g))}).getOr(0),R=S.bind(function(I){return w.some(Gw(I,g))}).getOr(O),ah({min:nf(v),max:al(v),range:oh(v),value:b,hasMinEdge:zw(v),hasMaxEdge:yS(v),minBound:uh(g),minOffset:0,maxBound:au(g),maxOffset:O,centerMinEdge:D,centerMaxEdge:R}));return uh(o)-uh(e)+L}function Qm(e,o){we(e,uf(),{value:o})}function qb(e,o){return{x:e,y:o}}function Gb(e,o){return function(i,u){return f=u,g=0<e?ih:Vw,Qm(i,qb(v=(c=o)?ul(f).x:g(ul(f).x,vd(f),Ks(f),of(f)),c?g(ul(f).y,nf(f),al(f),of(f)):ul(f).y)),w.some(v).map(nn);var c,f,g,v}}function Jw(e){return"<alloy.field."+e+">"}function CS(e,o,i,u){function c(b,C,S,O,D){var R,L,I=e(dy+"range"),F=[tn.parts.label({dom:{tag:"label",innerHtml:S,attributes:{"aria-label":O}}}),tn.parts.field({data:D,factory:Gp,inputAttributes:q({type:"text"},C==="hex"?{"aria-live":"polite"}:{}),inputClasses:[o("textfield")],inputBehaviours:Kt([(R=C,L=b,_c.config({invalidClass:o("invalid"),notify:{onValidate:function(U){we(U,ll,{type:R})},onValid:function(U){we(U,ba,{type:R,value:Zt.getValue(U)})},onInvalid:function(U){we(U,KS,{type:R,value:Zt.getValue(U)})}},validator:{validate:function(U){var M=Zt.getValue(U),j=L(M)?Ee.value(!0):Ee.error(e("aria.input.invalid"));return Cc(j)},validateOnLoad:!1}})),Bo.config({})]),onSetValue:function(U){_c.isInvalid(U)&&_c.run(U).get(Xt)}})],z=C!=="hex"?[tn.parts["aria-descriptor"]({text:I})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:F.concat(z)}}function f(b,C){var S=C.red,O=C.green,D=C.blue;Zt.setValue(b,{red:S,green:O,blue:D})}function g(b,C){v.getOpt(b).each(function(S){Ie(S.element,"background-color","#"+C.value)})}var v=_n({dom:{tag:"div",classes:[o("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}});return nu({factory:function(){function b(M){return L[M].get()}function C(M,j){L[M].set(j)}function S(M,j){var K=j.event;K.type!=="hex"?C(K.type,w.none()):u(M)}function O(M,j){var K,J,pt,ut,yt=j.event;yt.type==="hex"?(function(Tt,xt){i(Tt);var Nt=sw(xt);C("hex",w.some(xt));var Lt=Mu(Nt);f(Tt,Lt),R(Lt),we(Tt,ys,{hex:Nt}),g(Tt,Nt)})(M,yt.value):(K=M,J=yt.type,pt=yt.value,ut=parseInt(pt,10),C(J,w.some(ut)),b("red").bind(function(Tt){return b("green").bind(function(xt){return b("blue").map(function(Nt){return ol(Tt,xt,Nt,1)})})}).each(function(Tt){var xt,Nt,Lt=(xt=K,Nt=Jl(Tt),Lu.getField(xt,"hex").each(function(Qt){De.isFocused(Qt)||Zt.setValue(xt,{hex:Nt.value})}),Nt);we(K,ys,{hex:Lt}),g(K,Lt)}))}function D(M){return{label:e(dy+M+".label"),description:e(dy+M+".description")}}function R(M){var j=M.red,K=M.green,J=M.blue;C("red",w.some(j)),C("green",w.some(K)),C("blue",w.some(J))}var L={red:ge(w.some(255)),green:ge(w.some(255)),blue:ge(w.some(255)),hex:ge(w.some("ffffff"))},I=D("red"),F=D("green"),z=D("blue"),U=D("hex");return ee(Lu.sketch(function(M){return{dom:{tag:"form",classes:[o("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[M.field("red",tn.sketch(c(lw,"red",I.label,I.description,255))),M.field("green",tn.sketch(c(lw,"green",F.label,F.description,255))),M.field("blue",tn.sketch(c(lw,"blue",z.label,z.description,255))),M.field("hex",tn.sketch(c(cw,"hex",U.label,U.description,"ffffff"))),v.asSpec()],formBehaviours:Kt([_c.config({invalidClass:o("form-invalid")}),Me("rgb-form-events",[Rt(ba,O),Rt(KS,S),Rt(ll,S)])])}}),{apis:{updateHex:function(M,j){var K;Zt.setValue(M,{hex:j.value}),f(M,K=Mu(j)),R(K),g(M,j)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(b,C,S){b.updateHex(C,S)}},extraApis:{}})}function EE(e,o){return nu({name:"ColourPicker",configFields:[Bt("dom"),rt("onValidHex",Xt),rt("onInvalidHex",Xt)],factory:function(i){function u(J,pt,ut){M.getOpt(J).each(function(yt){F.setHue(yt,ut)})}function c(J,pt){j.getOpt(J).each(function(ut){I.updateHex(ut,pt)})}function f(J,pt,ut,yt){var Tt=ut,xt=Mu(pt);z.paletteRgba.set(xt),z.paletteHue.set(Tt),Q(yt,function(Nt){Nt(J,pt,ut)})}var g,v,b,C,S,O,D,R,L,I=CS(e,o,i.onValidHex,i.onInvalidHex),F=(D=o,R=bs.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[D("sv-palette-spectrum")]}}),L=bs.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[D("sv-palette-thumb")],innerHtml:"<div class="+D("sv-palette-inner-thumb")+' role="presentation"></div>'}}),nu({factory:function(J){var pt=ot({x:0,y:0}),ut=Kt([an.config({find:w.some}),De.config({})]);return bs.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[D("sv-palette")]},model:{mode:"xy",getInitialValue:pt},rounded:!1,components:[R,L],onChange:function(yt,Tt,xt){we(yt,GS,{value:xt})},onInit:function(yt,Tt,xt,Nt){K(xt.element.dom,_b(X1))},sliderBehaviours:ut})},name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(J,pt,ut){var yt=ut;K(pt.components()[0].element.dom,_b(Mp(Pp(yt,100,100))))},setThumb:function(J,pt,ut){var yt=pt,Tt=Sb(Mu(ut));bs.setValue(yt,{x:Tt.saturation,y:100-Tt.value})}},extraApis:{}})),z={paletteRgba:ge(X1),paletteHue:ge(0)},U=_n((v=bs.parts.spectrum({dom:{tag:"div",classes:[(g=o)("hue-slider-spectrum")],attributes:{role:"presentation"}}}),b=bs.parts.thumb({dom:{tag:"div",classes:[g("hue-slider-thumb")],attributes:{role:"presentation"}}}),bs.sketch({dom:{tag:"div",classes:[g("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:ot({y:0})},components:[v,b],sliderBehaviours:Kt([De.config({})]),onChange:function(J,pt,ut){we(J,qS,{value:ut})}}))),M=_n(F.sketch({})),j=_n(I.sketch({}));function K(J,pt){var ut,yt,Tt=J.width,xt=J.height,Nt=J.getContext("2d");Nt!==null&&(Nt.fillStyle=pt,Nt.fillRect(0,0,Tt,xt),(ut=Nt.createLinearGradient(0,0,Tt,0)).addColorStop(0,"rgba(255,255,255,1)"),ut.addColorStop(1,"rgba(255,255,255,0)"),Nt.fillStyle=ut,Nt.fillRect(0,0,Tt,xt),(yt=Nt.createLinearGradient(0,0,0,xt)).addColorStop(0,"rgba(0,0,0,0)"),yt.addColorStop(1,"rgba(0,0,0,1)"),Nt.fillStyle=yt,Nt.fillRect(0,0,Tt,xt))}return{uid:i.uid,dom:i.dom,components:[M.asSpec(),U.asSpec(),j.asSpec()],behaviours:Kt([Me("colour-picker-events",[Rt(ys,(O=[u,function(J,pt,ut){U.getOpt(J).each(function(yt){bs.setValue(yt,{y:100-ut/360*100})})},function(J,pt){M.getOpt(J).each(function(ut){F.setThumb(ut,pt)})}],function(J,pt){var ut=pt.event.hex;f(J,ut,Sb(Mu(ut)).hue,O)})),Rt(GS,(S=[c],function(J,pt){var ut=pt.event.value,yt=z.paletteHue.get();f(J,Ip(Pp(yt,ut.x,100-ut.y)),yt,S)})),Rt(qS,(C=[u,c],function(J,pt){var ut=(100-pt.event.value.y)/100*360,yt=Sb(z.paletteRgba.get());f(J,Ip(Pp(ut,yt.saturation,yt.value)),ut,C)}))]),an.config({find:function(J){return j.getOpt(J)}}),ve.config({mode:"acyclic"})])}}})}function OE(e){return hh[e]}function _S(e,o,i){return Zt.config(ee({store:{mode:"manual",getValue:o,setValue:i}},e.map(function(u){return{store:{initialValue:u}}}).getOr({})))}function TE(e,o){function i(b,C){C.stop()}function u(b){return function(C,S){Q(b,function(O){O(C,S)})}}function c(b,C){var S;he.isDisabled(b)||(S=C.event.raw,g(b,S.dataTransfer.files))}function f(b,C){var S=C.event.raw.target;g(b,S.files)}function g(b,C){var S,O;Zt.setValue(b,(S=C,O=fl.explode(o.getSetting("images_file_types","jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp","string")),Ne(mt(S),function(D){return mr(O,function(R){return me(D.name.toLowerCase(),"."+R.toLowerCase())})}))),we(b,Fa,{name:e.name})}var v=_n({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Kt([Me("input-file-events",[ic(Ol()),ic(Rf())])])});return Up(e.label.map(function(b){return il(b,o)}),tn.parts.field({factory:{sketch:function(b){return{uid:b.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Kt([_d([]),kc(),he.config({}),mn.config({toggleClass:"dragenter",toggleOnExecute:!1}),Me("dropzone-events",[Rt("dragenter",u([i,mn.toggle])),Rt("dragleave",u([i,mn.toggle])),Rt("dragover",i),Rt("drop",u([i,c])),Rt(zi(),f)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:o.translate("Drop an image here")}},pi.sketch({dom:{tag:"button",innerHtml:o.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[v.asSpec()],action:function(C){v.get(C).element.dom.click()},buttonBehaviours:Kt([Bo.config({}),rl(o.isDisabled),ir()])})]}]}}}}),["tox-form__group--stretched"],[])}function SS(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Kt([De.config({ignore:!0}),Bo.config({})])}}function Ha(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[SS([gC]),e,SS([pC])],behaviours:Kt([sf(1)])}}function kS(e,o){we(e,Bs(),{raw:{which:9,shiftKey:o}})}function AE(e,o){var i=o.element;wu(i,gC)?kS(e,!0):wu(i,pC)&&kS(e,!1)}function ch(e){return dd(e,["."+gC,"."+pC].join(","),Je)}function Zm(e,o){return bh(document.createElement("canvas"),e,o)}function DE(e){var o=Zm(e.width,e.height);return dl(o).drawImage(e,0,0),o}function lh(e){return e.naturalWidth||e.width}function Xb(e){return e.naturalHeight||e.height}function Qw(e,o,i){return o=o||"image/png",Dn(HTMLCanvasElement.prototype.toBlob)?new wc(function(c,f){e.toBlob(function(g){g?c(g):f()},o,i)}):(u=e.toDataURL(o,i),new wc(function(c,f){(function(){var g=u.split(","),v=/data:([^;]+)/.exec(g[0]);if(!v)return w.none();for(var b=v[1],C=g[1],S=atob(C),O=S.length,D=Math.ceil(O/1024),R=new Array(D),L=0;L<D;++L){for(var I=1024*L,F=Math.min(1024+I,O),z=new Array(F-I),U=I,M=0;U<F;++M,++U)z[M]=S[U].charCodeAt(0);R[L]=new Uint8Array(z)}return w.some(new Blob(R,{type:b}))})().fold(function(){f("uri is not base64: "+u)},c)}));var u}function Zw(e,o,i){function u(c,f){return e.then(function(g){return g.toDataURL(c||"image/png",f)})}return{getType:ot(o.type),toBlob:function(){return wc.resolve(o)},toDataURL:ot(i),toBase64:function(){return i.split(",")[1]},toAdjustedBlob:function(c,f){return e.then(function(g){return Qw(g,c,f)})},toAdjustedDataURL:u,toAdjustedBase64:function(c,f){return u(c,f).then(function(g){return g.split(",")[1]})},toCanvas:function(){return e.then(DE)}}}function bd(e,o){return Qw(e,o).then(function(i){return Zw(wc.resolve(e),i,e.toDataURL())})}function NE(e){return o=e,new wc(function(i){var u=new FileReader;u.onloadend=function(){i(u.result)},u.readAsDataURL(o)}).then(function(i){return Zw((u=e,new wc(function(c,f){function g(){b.removeEventListener("load",C),b.removeEventListener("error",S)}var v=URL.createObjectURL(u),b=new Image,C=function(){g(),c(b)},S=function(){g(),f("Unable to load data of type "+u.type+": "+v)};b.addEventListener("load",C),b.addEventListener("error",S),b.src=v,b.complete&&setTimeout(C,0)}).then(function(c){Sd(c);var f=Zm(lh(c),Xb(c));return dl(f).drawImage(c,0,0),f})),e,i);var u});var o}function fh(e,o,i){var u=typeof e=="string"?parseFloat(e):e;return i<u?u=i:u<o&&(u=o),u}function dh(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}function tC(e,o){for(var i=[],u=new Array(25),c=0;c<5;c++){for(var f=0;f<5;f++)i[f]=o[f+5*c];for(f=0;f<5;f++){for(var g=0,v=0;v<5;v++)g+=e[f+5*v]*i[v];u[f+5*c]=g}}return u}function eC(e,o){return e.toCanvas().then(function(i){return gy(i,e.getType(),o)})}function Kb(e){return function(o,i){return eC(o,e(dh(),i))}}function nC(e,o){o===void 0&&(o=2);var i=Math.pow(10,o),u=Math.round(e*i);return Math.ceil(u/i)}function ES(e){return py(e)}function BE(e){return jE(e)}function OS(e,o){return hy(e,o)}function TS(e,o){return kd(e,o)}function oC(e,o){return hC(e,o)}function Yb(e,o){return u=o,(i=e).toCanvas().then(function(c){return by(c,i.getType(),u)});var i,u}function AS(e,o){return u=o,(i=e).toCanvas().then(function(c){return vy(c,i.getType(),u)});var i,u}function rC(e,o,i){return Bu(e,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:i},o)}function mh(e,o){return rC(e,o,[])}function DS(e,o){return rC(e,o,[Le.config({})])}function Jb(e,o,i){return{dom:{tag:"span",innerHtml:i.translate(e),classes:[o+"__select-label"]},behaviours:Kt([Le.config({})])}}function Qb(e,o,i){function u(S,O){var D=Zt.getValue(S);return De.focus(D),we(D,"keydown",{raw:O.event.raw}),Mi.close(D),w.some(!0)}var c=ge(Xt),f=e.text.map(function(S){return _n(Jb(S,o,i.providers))}),g=e.icon.map(function(S){return _n(DS(S,i.providers.icons))}),v=e.role.fold(function(){return{}},function(S){return{role:S}}),b=e.tooltip.fold(function(){return{}},function(S){var O=i.providers.translate(S);return{title:O,"aria-label":O}}),C=Bu("chevron-down",{tag:"div",classes:[o+"__select-chevron"]},i.providers.icons);return _n(Mi.sketch(q(q(q({},e.uid?{uid:e.uid}:{}),v),{dom:{tag:"button",classes:[o,o+"--select"].concat(Vt(e.classes,function(S){return o+"--"+S})),attributes:q({},b)},components:ld([g.map(function(S){return S.asSpec()}),f.map(function(S){return S.asSpec()}),w.some(C)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Kt(Ge(Ge([],e.dropdownBehaviours,!0),[rl(function(){return e.disabled||i.providers.isDisabled()}),ir(),eg.config({}),Le.config({}),Me("dropdown-events",[Vm(e,c),jm(e,c)]),Me("menubutton-update-display-text",[Rt(Ed,function(S,O){f.bind(function(D){return D.getOpt(S)}).each(function(D){Le.set(D,[Uc(i.providers.translate(O.event.text))])})}),Rt(t,function(S,O){g.bind(function(D){return D.getOpt(S)}).each(function(D){Le.set(D,[DS(O.event.icon,i.providers.icons)])})})])],!1)),eventOrder:ee(yC,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Kt([ve.config({mode:"special",onLeft:u,onRight:u})]),lazySink:i.getSink,toggleClass:o+"--active",parts:{menu:lb(0,e.columns,e.presets)},fetch:function(S){return Zl(Nn(e.fetch,S))}}))).asSpec()}function Zb(e){return e.type==="separator"}function tg(e,o,i,u){var c=fe("primary-menu"),f=r(e,i.shared.providers.menuItems());if(f.items.length===0)return w.none();var g=Sw(c,f.items,o,i,u),v=ko(f.menus,function(C,S){return Sw(S,C,o,i,!1)}),b=ee(v,oc(c,g));return w.from(fs.tieredData(c,b,f.expansions))}function NS(e){return{isDisabled:function(){return he.isDisabled(e)},setDisabled:function(o){return he.set(e,o)},setActive:function(o){var i=e.element;o?(zr(i,"tox-tbtn--enabled"),qe(i,"aria-pressed",!0)):(sr(i,"tox-tbtn--enabled"),Lo(i,"aria-pressed"))},isActive:function(){return wu(e.element,"tox-tbtn--enabled")}}}function iC(e,o,i,u){return Qb({text:e.text,icon:e.icon,tooltip:e.tooltip,role:u,fetch:function(c,f){e.fetch(function(g){f(tg(g,$i.CLOSE_ON_EXECUTE,i,!1))})},onSetup:e.onSetup,getApi:NS,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Bo.config({})]},o,i.shared)}function ty(e,o,i,u,c,f){i===void 0&&(i=[]);var g=o.fold(function(){return{}},function(C){return{action:C}}),v=q({buttonBehaviours:Kt([rl(function(){return e.disabled||f.isDisabled()}),ir(),Bo.config({}),Me("button press",[Qr("click"),Qr("mousedown")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},g),b=ee(v,{dom:u});return ee(b,{components:c})}function aC(e,o,i,u){u===void 0&&(u=[]);var c={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map(function(g){return{"aria-label":i.translate(g),title:i.translate(g)}}).getOr({})},f=e.icon.map(function(g){return mh(g,i.icons)});return ty(e,o,u,c,ld([f]),i)}function gh(e,o,i,u){u===void 0&&(u=[]);var c=aC(e,w.some(o),i,u);return pi.sketch(c)}function BS(e,o,i,u,c){u===void 0&&(u=[]),c===void 0&&(c=[]);var f=i.translate(e.text),g=e.icon?e.icon.map(function(S){return mh(S,i.icons)}):w.none(),v=g.isSome()?ld([g]):[],b=g.isSome()?{}:{innerHtml:f},C=Ge(Ge(Ge(Ge([],e.primary||e.borderless?["tox-button"]:["tox-button","tox-button--secondary"],!0),g.isSome()?["tox-button--icon"]:[],!0),e.borderless?["tox-button--naked"]:[],!0),c,!0);return ty(e,o,u,q(q({tag:"button",classes:C},b),{attributes:{title:f}}),v,i)}function ey(e,o,i,u,c){u===void 0&&(u=[]),c===void 0&&(c=[]);var f=BS(e,w.some(o),i,u,c);return pi.sketch(f)}function uC(e,o){return function(i){o==="custom"?we(i,Xs,{name:e,value:{}}):o==="submit"?fn(i,$p):o==="cancel"?fn(i,Ql):console.error("Unknown button type: ",o)}}function Sc(e,o,i){if(o==="menu"){var u=e,c=_n(iC(q(q({},e),{onSetup:function(C){return C.setDisabled(e.disabled),Xt},fetch:(f=u.items,g=function(){return c},v=i,function(C){C(Vt(f,function(S){var O,D,R=S.text.fold(function(){return{}},function(L){return{text:L}});return q(q({type:S.type,active:!1},R),{onAction:function(L){var I=!L.isActive();L.setActive(I),D.storage.set(I),v.shared.getSink().each(function(F){g().getOpt(F).each(function(z){dc(z.element),we(z,Xs,{name:D.name,value:D.storage.get()})})})},onSetup:(O=D=S,function(L){L.setActive(O.storage.get())})})}))})}),"tox-tbtn",i,w.none()));return c.asSpec()}var f,g,v;if(o==="custom"||o==="cancel"||o==="submit"){var b=uC(e.name,o);return ey(q(q({},e),{borderless:!1}),b,i.shared.providers,[])}console.error("Unknown footer button type: ",o)}function ny(e,o){return oi({factory:tn,name:e,overrides:function(i){return{fieldBehaviours:Kt([Me("coupled-input-behaviour",[Rt(_u(),function(u){wn(u,i,o).bind(an.getCurrent).each(function(c){wn(u,i,"lock").each(function(f){mn.isOn(f)&&i.onLockedChange(u,c,f)})})})])])}}})}function yd(e){var o=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(o===null)return Ee.error(e);var i=parseFloat(o[1]),u=o[2];return Ee.value({value:i,unit:u})}function sC(e,o){function i(c){return ht(u,c)}var u={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1};return e.unit===o?w.some(e.value):i(e.unit)&&i(o)?u[e.unit]===u[o]?w.some(e.value):w.some(e.value/u[e.unit]*u[o]):w.none()}function oy(e){return w.none()}function rf(e,o){function i(O){return Bu(O,{tag:"span",classes:["tox-icon","tox-lock-icon__"+O]},o.icons)}function u(O){return{dom:{tag:"div",classes:["tox-form__group"]},components:O}}function c(O){return tn.parts.field({factory:Gp,inputClasses:["tox-textfield"],inputBehaviours:Kt([he.config({disabled:function(){return e.disabled||o.isDisabled()}}),ir(),Bo.config({}),Me("size-input-events",[Rt(Wc(),function(D,R){we(D,v,{isField1:O})}),Rt(zi(),function(D,R){we(D,Fa,{name:e.name})})])]),selectOnFocus:!1})}function f(O){return{dom:{tag:"label",classes:["tox-label"],innerHtml:o.translate(O)}}}var g=oy,v=fe("ratio-event"),b=l.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:o.translate(e.label.getOr("Constrain proportions"))}},components:[i("lock"),i("unlock")],buttonBehaviours:Kt([he.config({disabled:function(){return e.disabled||o.isDisabled()}}),ir(),Bo.config({})])}),C=l.parts.field1(u([tn.parts.label(f("Width")),c(!0)])),S=l.parts.field2(u([tn.parts.label(f("Height")),c(!1)]));return l.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[C,S,u([f("&nbsp;"),b])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(O,D,R){yd(Zt.getValue(O)).each(function(L){g(L).each(function(I){var F,z,U,M;Zt.setValue(D,(M=(M=(F=I).value.toFixed((z=F.unit)in(U={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4})?U[z]:1)).indexOf(".")!==-1?M.replace(/\.?0*$/,""):M)+F.unit)})})},coupledFieldBehaviours:Kt([he.config({disabled:function(){return e.disabled||o.isDisabled()},onDisabled:function(O){l.getField1(O).bind(tn.getField).each(he.disable),l.getField2(O).bind(tn.getField).each(he.disable),l.getLock(O).each(he.disable)},onEnabled:function(O){l.getField1(O).bind(tn.getField).each(he.enable),l.getField2(O).bind(tn.getField).each(he.enable),l.getLock(O).each(he.enable)}}),ir(),Me("size-input-events2",[Rt(v,function(O,D){var R,L,I,F=D.event.isField1,z=F?l.getField1(O):l.getField2(O),U=F?l.getField2(O):l.getField1(O),M=z.map(Zt.getValue).getOr(""),j=U.map(Zt.getValue).getOr("");R=j,L=yd(M).toOptional(),I=yd(R).toOptional(),g=ue(L,I,function(K,J){return sC(K,J.unit).map(function(pt){return J.value/pt}).map(function(pt){return ut=pt,yt=J.unit,function(Tt){return sC(Tt,yt).map(function(xt){return{value:xt*ut,unit:yt}})};var ut,yt}).getOr(oy)}).getOr(oy)})])])})}function RE(e,o){function i(Gt,He,jn,Yn){return _n(ey({name:Gt,text:Gt,disabled:jn,primary:Yn,icon:w.none(),borderless:!1},He,o))}function u(Gt,He,jn,Yn){return _n(gh({name:Gt,icon:w.some(Gt),tooltip:w.some(He),disabled:Yn,primary:!1,borderless:!1},jn,o))}function c(Gt,He){Gt.map(function(jn){var Yn=jn.get(He);Yn.hasConfigured(he)&&he.disable(Yn)})}function f(Gt,He){Gt.map(function(jn){var Yn=jn.get(He);Yn.hasConfigured(he)&&he.enable(Yn)})}function g(Gt,He,jn){we(Gt,He,jn)}function v(Gt){return fn(Gt,x.disable()),0}function b(Gt){return fn(Gt,x.enable()),0}function C(Gt,He){v(Gt),g(Gt,d.transform(),{transform:He}),b(Gt)}function S(Gt){return function(){In.getOpt(Gt).each(function(He){Le.set(He,[Mo])})}}function O(Gt,He){v(Gt),g(Gt,d.transformApply(),{transform:He,swap:S(Gt)}),b(Gt)}function D(){return i("Back",function(Gt){return g(Gt,d.back(),{swap:S(Gt)})},!1,!1)}function R(){return _n({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Kt([he.config({})])})}function L(){return i("Apply",function(Gt){return g(Gt,d.apply(),{swap:S(Gt)})},!0,!0)}function I(Gt,He){return function(jn){return Gt(jn,He)}}function F(Gt,He){var jn,Yn=He;v(jn=Gt),g(jn,d.tempTransform(),{transform:Yn}),b(jn)}function z(Gt,He,jn,Yn,ho){var Ki=bs.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:o.translate(Gt)}}),fr=bs.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),xr=bs.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return _n(bs.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:jn,maxX:ho,getInitialValue:ot({x:Yn})},components:[Ki,fr,xr],sliderBehaviours:Kt([De.config({})]),onChoose:He}))}function U(Gt,He,jn,Yn,ho){var Ki,fr,xr,vi,Ur,Rr,Mr=(Ki=Gt,fr=He,xr=jn,vi=Yn,Ur=ho,[D(),(Rr=fr,z(Ki,function(wr,xs,en){C(wr,I(Rr,en.x/100))},xr,vi,Ur)),L()]);return Dr.sketch({dom:K,components:Mr.map(function(wr){return wr.asSpec()}),containerBehaviours:Kt([Me("image-tools-filter-panel-buttons-events",[Rt(x.disable(),function(wr,xs){c(Mr,wr)}),Rt(x.enable(),function(wr,xs){f(Mr,wr)})])])})}function M(Gt){return z(Gt,function(He,jn,Yn){var ho=Wn.getOpt(He),Ki=io.getOpt(He),fr=gn.getOpt(He);ho.each(function(xr){Ki.each(function(vi){fr.each(function(Ur){var Rr,Mr,wr,xs=Zt.getValue(xr).x/100,en=Zt.getValue(Ur).x/100,xa=Zt.getValue(vi).x/100,Yi=(Rr=xs,Mr=en,wr=xa,function(Ac){return eC(Ac,(df=Mr,mf=wr,tC(dh(),[fh(Rr,0,2),0,0,0,0,0,fh(df,0,2),0,0,0,0,0,fh(mf,0,2),0,0,0,0,0,1,0,0,0,0,0,1])));var df,mf});C(He,Yi)})})})},0,100,200)}function j(Gt,He,jn){return function(Yn){g(Yn,d.swap(),{transform:He,swap:function(){In.getOpt(Yn).each(function(ho){Le.set(ho,[Gt]),jn(ho)})}})}}var K={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},J=Xt,pt=[D(),R(),i("Apply",function(Gt){O(Gt,function(He){var jn,Yn,ho,Ki,fr,xr,vi,Ur,Rr,Mr=e.getRect();return jn=Mr.x,Yn=Mr.y,ho=Mr.w,Ki=Mr.h,xr=jn,vi=Yn,Ur=ho,Rr=Ki,(fr=He).toCanvas().then(function(wr){return bC(wr,fr.getType(),xr,vi,Ur,Rr)})}),e.hideCrop()},!1,!0)],ut=Dr.sketch({dom:K,components:pt.map(function(Gt){return Gt.asSpec()}),containerBehaviours:Kt([Me("image-tools-crop-buttons-events",[Rt(x.disable(),function(Gt,He){c(pt,Gt)}),Rt(x.enable(),function(Gt,He){f(pt,Gt)})])])}),yt=_n(rf({name:"size",label:w.none(),constrain:!0,disabled:!1},o)),Tt=[D(),R(),yt,R(),i("Apply",function(Gt){yt.getOpt(Gt).each(function(He){var jn,Yn,ho=Zt.getValue(He),Ki=parseInt(ho.width,10),fr=parseInt(ho.height,10),xr=(jn=Ki,Yn=fr,function(vi){return Rr=jn,Mr=Yn,(Ur=vi).toCanvas().then(function(wr){return vC(wr,Rr,Mr).then(function(xs){return bd(xs,Ur.getType())})});var Ur,Rr,Mr});O(Gt,xr)})},!1,!0)],xt=Dr.sketch({dom:K,components:Tt.map(function(Gt){return Gt.asSpec()}),containerBehaviours:Kt([Me("image-tools-resize-buttons-events",[Rt(x.disable(),function(Gt,He){c(Tt,Gt)}),Rt(x.enable(),function(Gt,He){f(Tt,Gt)})])])}),Nt=I(Yb,"h"),Lt=I(Yb,"v"),Qt=I(AS,-90),pe=I(AS,90),Fe=[D(),R(),u("flip-horizontally","Flip horizontally",function(Gt){F(Gt,Nt)},!1),u("flip-vertically","Flip vertically",function(Gt){F(Gt,Lt)},!1),u("rotate-left","Rotate counterclockwise",function(Gt){F(Gt,Qt)},!1),u("rotate-right","Rotate clockwise",function(Gt){F(Gt,pe)},!1),R(),L()],ln=Dr.sketch({dom:K,components:Fe.map(function(Gt){return Gt.asSpec()}),containerBehaviours:Kt([Me("image-tools-fliprotate-buttons-events",[Rt(x.disable(),function(Gt,He){c(Fe,Gt)}),Rt(x.enable(),function(Gt,He){f(Fe,Gt)})])])}),Sn=[D(),R(),L()],Vn=Dr.sketch({dom:K,components:Sn.map(function(Gt){return Gt.asSpec()})}),un=U("Brightness",TS,-100,0,100),kn=U("Contrast",oC,-100,0,100),Rn=U("Gamma",OS,-100,0,100),Wn=M("R"),gn=M("G"),io=M("B"),Br=[D(),Wn,gn,io,L()],Pi=Dr.sketch({dom:K,components:Br.map(function(Gt){return Gt.asSpec()})}),Xi=w.some(BE),ao=w.some(ES),cu=[u("crop","Crop",j(ut,w.none(),function(Gt){e.showCrop()}),!1),u("resize","Resize",j(xt,w.none(),function(Gt){yt.getOpt(Gt).each(function(He){var jn=e.getMeasurements(),Yn=jn.width,ho=jn.height;Zt.setValue(He,{width:Yn,height:ho})})}),!1),u("orientation","Orientation",j(ln,w.none(),J),!1),u("brightness","Brightness",j(un,w.none(),J),!1),u("sharpen","Sharpen",j(Vn,Xi,J),!1),u("contrast","Contrast",j(kn,w.none(),J),!1),u("color-levels","Color levels",j(Pi,w.none(),J),!1),u("gamma","Gamma",j(Rn,w.none(),J),!1),u("invert","Invert",j(Vn,ao,J),!1)],Mo=Dr.sketch({dom:K,components:cu.map(function(Gt){return Gt.asSpec()})}),In=_n(Dr.sketch({dom:{tag:"div"},components:[Mo],containerBehaviours:Kt([Le.config({})])}));return{memContainer:In,getApplyButton:function(Gt){return In.getOpt(Gt).map(function(He){var jn=He.components()[0];return jn.components()[jn.components().length-1]})}}}function cC(e){if(qr(e.changedTouches))for(var o="screenX screenY pageX pageY clientX clientY".split(" "),i=0;i<o.length;i++)e[o[i]]=e.changedTouches[0][o[i]]}(Yp=hs=hs||{})[Yp.HighlightFirst=0]="HighlightFirst",Yp[Yp.HighlightNone=1]="HighlightNone";function ME(e,o){return{uid:e.uid,dom:e.dom,components:o,behaviours:cr(e.formBehaviours,[Zt.config({store:{mode:"manual",getValue:function(i){return ko(mv(i,e),function(u,c){return u().bind(function(f){var g=an.getCurrent(f),v=new Error("Cannot find a current component to extract the value from for form part '"+c+"': "+El(f.element));return g.fold(function(){return Ee.error(v)},Ee.value)}).map(Zt.getValue)})},setValue:function(i,u){Qn(u,function(c,f){wn(i,e,f).each(function(g){an.getCurrent(g).each(function(v){Zt.setValue(v,c)})})})}}})]),apis:{getField:function(i,u){return wn(i,e,u).bind(an.getCurrent)}}}}function kc(){return an.config({find:w.some})}function PE(e){return o=By,i=pg,_S(e,function(u){return o(u.element)},function(u,c){return i(u.element,c)});var o,i}var RS,lC,Gi,MS,ry=function(e,o){return e.getSystem().getByUid(o.uid+"-"+pS()).map(function(i){return function(){return Ee.value(i)}}).getOrThunk(function(){return o.lazySink.fold(function(){return function(){return Ee.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(i){return function(){return i(e)}})})},iy=ot([Bt("dom"),Bt("fetch"),yn("onOpen"),Ma("onExecute"),rt("getHotspot",w.some),rt("getAnchorOverrides",ot({})),Xc(),Go("dropdownBehaviours",[mn,Xo,ve,De]),Bt("toggleClass"),rt("eventOrder",{}),bn("lazySink"),rt("matchWidth",!1),rt("useMinWidth",!1),bn("role")].concat(zb())),IE=ot([Au({schema:[Cg()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),Pw()]),Mi=ni({name:"Dropdown",configFields:iy(),partFields:IE(),factory:function(e,o,i,u){function c(b){Ze.getState(b).each(function(C){fs.highlightPrimary(C)})}function f(b,C){return rc(b),w.some(!0)}var g,v={expand:function(b){mn.isOn(b)||hd(e,ne,b,u,Xt,hs.HighlightNone).get(Xt)},open:function(b){mn.isOn(b)||hd(e,ne,b,u,Xt,hs.HighlightFirst).get(Xt)},isOpen:mn.isOn,close:function(b){mn.isOn(b)&&hd(e,ne,b,u,Xt,hs.HighlightFirst).get(Xt)},repositionMenus:function(b){mn.isOn(b)&&Lw(b)}};return{uid:e.uid,dom:e.dom,components:o,behaviours:cr(e.dropdownBehaviours,[mn.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),Xo.config({others:{sandbox:function(b){return Hb(e,b,{onOpen:function(){return mn.on(b)},onClose:function(){return mn.off(b)}})}}}),ve.config({mode:"special",onSpace:f,onEnter:f,onDown:function(b,C){return Mi.isOpen(b)?c(Xo.getCoupled(b,"sandbox")):Mi.open(b),w.some(!0)},onEscape:function(b,C){return Mi.isOpen(b)?(Mi.close(b),w.some(!0)):w.none()}}),De.config({})]),events:lp(w.some(function(b){hd(e,ne,b,u,c,hs.HighlightFirst).get(Xt)})),eventOrder:q(q({},e.eventOrder),((g={})[Na()]=["disabling","toggling","alloy.base.behaviour"],g)),apis:v,domModification:{attributes:q(q({"aria-haspopup":"true"},e.role.fold(function(){return{}},function(b){return{role:b}})),e.dom.tag==="button"?{type:be(e.dom,"attributes").bind(function(b){return be(b,"type")}).getOr("button")}:{})}}},apis:{open:function(e,o){return e.open(o)},expand:function(e,o){return e.expand(o)},close:function(e,o){return e.close(o)},isOpen:function(e,o){return e.isOpen(o)},repositionMenus:function(e,o){return e.repositionMenus(o)}}}),eg=Or({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:function(){return oo([Aa(hg(),nn)])},exhibit:function(){return Ds({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}})}),af=fe("color-input-change"),PS=fe("color-swatch-change"),ay=fe("color-picker-cancel"),xd=js({schema:[Bt("dom")],name:"label"}),ph=ef("top-left"),uy=ef("top"),IS=ef("top-right"),LS=ef("right"),FS=ef("bottom-right"),LE=ef("bottom"),wd=ef("bottom-left"),sy=[xd,ef("left"),LS,uy,LE,ph,IS,wd,FS,oi({name:"thumb",defaults:ot({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:oo([As(Ka(),e,"spectrum"),As(Ya(),e,"spectrum"),As(ts(),e,"spectrum"),As(Bn(),e,"spectrum"),As(Nf(),e,"spectrum"),As(Bf(),e,"spectrum")])}}}),oi({schema:[Ti("mouseIsDown",function(){return ge(!1)})],name:"spectrum",overrides:function(e){function o(u,c){return i.getValueFromEvent(c).map(function(f){return i.setValueFrom(u,e,f)})}var i=e.model.manager;return{behaviours:Kt([ve.config({mode:"special",onLeft:function(u){return i.onLeft(u,e)},onRight:function(u){return i.onRight(u,e)},onUp:function(u){return i.onUp(u,e)},onDown:function(u){return i.onDown(u,e)}}),De.config({})]),events:oo([Rt(Ka(),o),Rt(Ya(),o),Rt(Bn(),o),Rt(Nf(),function(u,c){e.mouseIsDown.get()&&o(u,c)})])}}})],uf=ot("slider.change.value"),cy="left",FE=xS(-1),fC=xS(1),dC=w.none,HE=w.none,HS={"top-left":w.none(),top:w.none(),"top-right":w.none(),right:w.some(function(e,o){Pu(e,{x:th(o)})}),"bottom-right":w.none(),bottom:w.none(),"bottom-left":w.none(),left:w.some(function(e,o){Pu(e,{x:Qp(o)})})},zS=Object.freeze({__proto__:null,setValueFrom:function(e,o,i){var u=Xw(e,o,i);return sh(e,{x:u}),u},setToMin:function(e,o){sh(e,{x:vd(o)})},setToMax:function(e,o){sh(e,{x:Ks(o)})},findValueOfOffset:Xw,getValueFromEvent:function(e){return Vb(e).map(function(o){return o.left})},findPositionOfValue:Kw,setPositionFromValue:function(e,o,i,u){var c=ul(i),f=Kw(e,u.getSpectrum(e),c.x,u.getLeftEdge(e),u.getRightEdge(e),i),g=Ct(o.element)/2;Ie(o.element,"left",f-g+"px")},onLeft:FE,onRight:fC,onUp:dC,onDown:HE,edgeActions:HS}),cl=w.none,Cd=w.none,VS=wS(-1),zE=wS(1),jS={"top-left":w.none(),top:w.some(function(e,o){Pu(e,{y:Zp(o)})}),"top-right":w.none(),right:w.none(),"bottom-right":w.none(),bottom:w.some(function(e,o){Pu(e,{y:eh(o)})}),"bottom-left":w.none(),left:w.none()},VE=Object.freeze({__proto__:null,setValueFrom:function(e,o,i){var u=Yw(e,o,i);return Wb(e,{y:u}),u},setToMin:function(e,o){Wb(e,{y:nf(o)})},setToMax:function(e,o){Wb(e,{y:al(o)})},findValueOfOffset:Yw,getValueFromEvent:function(e){return Vb(e).map(function(o){return o.top})},findPositionOfValue:$b,setPositionFromValue:function(e,o,i,u){var c=ul(i),f=$b(e,u.getSpectrum(e),c.y,u.getTopEdge(e),u.getBottomEdge(e),i),g=ur(o.element)/2;Ie(o.element,"top",f-g+"px")},onLeft:cl,onRight:Cd,onUp:VS,onDown:zE,edgeActions:jS}),ly=Vb,Cn=Gb(-1,!1),US=Gb(1,!1),WS=Gb(-1,!0),$S=Gb(1,!0),fy={"top-left":w.some(function(e,o){Pu(e,sl(Qp(o),Zp(o)))}),top:w.some(function(e,o){Pu(e,sl(jb(o),Zp(o)))}),"top-right":w.some(function(e,o){Pu(e,sl(th(o),Zp(o)))}),right:w.some(function(e,o){Pu(e,sl(th(o),Fw(o)))}),"bottom-right":w.some(function(e,o){Pu(e,sl(th(o),eh(o)))}),bottom:w.some(function(e,o){Pu(e,sl(jb(o),eh(o)))}),"bottom-left":w.some(function(e,o){Pu(e,sl(Qp(o),eh(o)))}),left:w.some(function(e,o){Pu(e,sl(Qp(o),Fw(o)))})},vs=Object.freeze({__proto__:null,setValueFrom:function(e,o,i){var u=qb(Xw(e,o,i.left),Yw(e,o,i.top));return Qm(e,u),u},setToMin:function(e,o){Qm(e,qb(vd(o),nf(o)))},setToMax:function(e,o){Qm(e,qb(Ks(o),al(o)))},getValueFromEvent:ly,setPositionFromValue:function(e,o,i,u){var c=ul(i),f=Kw(e,u.getSpectrum(e),c.x,u.getLeftEdge(e),u.getRightEdge(e),i),g=$b(e,u.getSpectrum(e),c.y,u.getTopEdge(e),u.getBottomEdge(e),i),v=Ct(o.element)/2,b=ur(o.element)/2;Ie(o.element,"left",f-v+"px"),Ie(o.element,"top",g-b+"px")},onLeft:Cn,onRight:US,onUp:WS,onDown:$S,edgeActions:fy}),bs=ni({name:"Slider",configFields:[rt("stepSize",1),rt("onChange",Xt),rt("onChoose",Xt),rt("onInit",Xt),rt("onDragStart",Xt),rt("onDragEnd",Xt),rt("snapToGrid",!1),rt("rounded",!0),bn("snapStart"),mi("model",Jr("mode",{x:[rt("minX",0),rt("maxX",100),Ti("value",function(e){return ge(e.mode.minX)}),Bt("getInitialValue"),Re("manager",zS)],y:[rt("minY",0),rt("maxY",100),Ti("value",function(e){return ge(e.mode.minY)}),Bt("getInitialValue"),Re("manager",VE)],xy:[rt("minX",0),rt("maxX",100),rt("minY",0),rt("maxY",100),Ti("value",function(e){return ge({x:e.mode.minX,y:e.mode.minY})}),Bt("getInitialValue"),Re("manager",vs)]})),Go("sliderBehaviours",[ve,Zt]),Ti("mouseIsDown",function(){return ge(!1)})],partFields:sy,factory:function(e,o,i,u){function c(U){return vr(U,e,"thumb")}function f(U){return vr(U,e,"spectrum")}function g(U){return wn(U,e,"left-edge")}function v(U){return wn(U,e,"right-edge")}function b(U){return wn(U,e,"top-edge")}function C(U){return wn(U,e,"bottom-edge")}function S(U,M){z.setPositionFromValue(U,M,e,{getLeftEdge:g,getRightEdge:v,getTopEdge:b,getBottomEdge:C,getSpectrum:f})}function O(U,M){F.value.set(M),S(U,c(U))}function D(U){var M=e.mouseIsDown.get();e.mouseIsDown.set(!1),M&&wn(U,e,"thumb").each(function(j){var K=F.value.get();e.onChoose(U,j,K)})}function R(U,M){M.stop(),e.mouseIsDown.set(!0),e.onDragStart(U,c(U))}function L(U,M){M.stop(),e.onDragEnd(U,c(U)),D(U)}var I,F=e.model,z=F.manager;return{uid:e.uid,dom:e.dom,components:o,behaviours:cr(e.sliderBehaviours,[ve.config({mode:"special",focusIn:function(U){return wn(U,e,"spectrum").map(ve.focusIn).map(nn)}}),Zt.config({store:{mode:"manual",getValue:function(U){return F.value.get()}}}),tu.config({channels:((I={})[Cv()]={onReceive:D},I)})]),events:oo([Rt(uf(),function(U,M){(function(j,K){O(j,K);var J=c(j);e.onChange(j,J,K),w.some(!0)})(U,M.event.value)}),$o(function(U,M){var j=F.getInitialValue();F.value.set(j);var K=c(U);S(U,K);var J=f(U);e.onInit(U,K,J,F.value.get())}),Rt(Ka(),R),Rt(ts(),L),Rt(Bn(),R),Rt(Bf(),L)]),apis:{resetToMin:function(U){z.setToMin(U,e)},resetToMax:function(U){z.setToMax(U,e)},setValue:O,refresh:S},domModification:{styles:{position:"relative"}}}},apis:{setValue:function(e,o,i){e.setValue(o,i)},resetToMin:function(e,o){e.resetToMin(o)},resetToMax:function(e,o){e.resetToMax(o)},refresh:function(e,o){e.refresh(o)}}}),ys=fe("rgb-hex-update"),qS=fe("slider-update"),GS=fe("palette-update"),XS=[Go("formBehaviours",[Zt])],Lu={getField:Mh(function(e,o,i){return e.getField(o,i)}),sketch:function(e){var o,i={field:function(f,g){return o.push(f),$g("form",Jw(f),g)},record:ot(o=[])},u=e(i),c=Vt(i.record(),function(f){return oi({name:f,pname:Jw(f)})});return pv("form",XS,c,ME,u)}},ba=fe("valid-input"),KS=fe("invalid-input"),ll=fe("validating-input"),dy="colorcustom.rgb.",YS=function(e){return an.config({find:e.getOpt})},sf=function(e){return an.config({find:function(o){return er(o.element,e).bind(function(i){return o.getSystem().getByDom(i).toOptional()})}})},hh={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},vh=tinymce.util.Tools.resolve("tinymce.Resource"),fl=tinymce.util.Tools.resolve("tinymce.util.Tools"),mC=ce([rt("preprocess",ne),rt("postprocess",ne)]),JS=function(e,o){var i=Sr("RepresentingConfigs.memento processors",mC,o);return Zt.config({store:{mode:"manual",getValue:function(u){var c=e.get(u),f=Zt.getValue(c);return i.postprocess(f)},setValue:function(u,c){var f=i.preprocess(c),g=e.get(u);Zt.setValue(g,f)}}})},ng=_S,_d=function(e){return Zt.config({store:{mode:"memory",initialValue:e}})},gC=fe("alloy-fake-before-tabstop"),pC=fe("alloy-fake-after-tabstop"),my=!(Ca().browser.isIE()||Ca().browser.isEdge()),dl=function(e){return e.getContext("2d")},bh=function(e,o,i){return e.width=o,e.height=i,e},Sd=function(e){URL.revokeObjectURL(e.src)},yh=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],gy=function(e,o,i){var u=dl(e),c=(function(f){for(var g,v,b,C,S=f.data,O=i[0],D=i[1],R=i[2],L=i[3],I=i[4],F=i[5],z=i[6],U=i[7],M=i[8],j=i[9],K=i[10],J=i[11],pt=i[12],ut=i[13],yt=i[14],Tt=i[15],xt=i[16],Nt=i[17],Lt=i[18],Qt=i[19],pe=0;pe<S.length;pe+=4)g=S[pe],v=S[pe+1],b=S[pe+2],C=S[pe+3],S[pe]=g*O+v*D+b*R+C*L+I,S[pe+1]=g*F+v*z+b*U+C*M+j,S[pe+2]=g*K+v*J+b*pt+C*ut+yt,S[pe+3]=g*Tt+v*xt+b*Nt+C*Lt+Qt;return f})(u.getImageData(0,0,e.width,e.height));return u.putImageData(c,0,0),bd(e,o)},py=(RS=[-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1],function(e){return eC(e,RS)}),kd=Kb(function(e,o){return tC(e,[1,0,0,0,o=fh(255*o,-255,255),0,1,0,0,o,0,0,1,0,o,0,0,0,1,0,0,0,0,0,1])}),hC=Kb(function(e,o){var i;return o=fh(o,-1,1),tC(e,[(i=(o*=100)<0?127+o/100*127:127*((i=o%1)==0?yh[o]:yh[Math.floor(o)]*(1-i)+yh[Math.floor(o)+1]*i)+127)/127,0,0,0,.5*(127-i),0,i/127,0,0,.5*(127-i),0,0,i/127,0,.5*(127-i),0,0,0,1,0,0,0,0,0,1])}),jE=(lC=[0,-1,0,-1,5,-1,0,-1,0],function(e){return i=lC,(o=e).toCanvas().then(function(u){return c=u,f=o.getType(),g=i,v=dl(c),b=(function(C,S,O){for(var D=function(Qt,pe,Fe){return Fe<Qt?Qt=Fe:Qt<pe&&(Qt=pe),Qt},R=Math.round(Math.sqrt(O.length)),L=Math.floor(R/2),I=C.data,F=S.data,z=C.width,U=C.height,M=0;M<U;M++)for(var j=0;j<z;j++){for(var K=0,J=0,pt=0,ut=0;ut<R;ut++)for(var yt=0;yt<R;yt++){var Tt=D(j+yt-L,0,z-1),xt=4*(D(M+ut-L,0,U-1)*z+Tt),Nt=O[ut*R+yt];K+=I[xt]*Nt,J+=I[1+xt]*Nt,pt+=I[2+xt]*Nt}var Lt=4*(M*z+j);F[Lt]=D(K,0,255),F[1+Lt]=D(J,0,255),F[2+Lt]=D(pt,0,255)}return S})(v.getImageData(0,0,c.width,c.height),v.getImageData(0,0,c.width,c.height),g),v.putImageData(b,0,0),bd(c,f);var c,f,g,v,b});var o,i}),hy=(Gi=function(e,o){return 255*Math.pow(e/255,1-o)},function(e,o){return e.toCanvas().then(function(i){return(function(u,c,f){for(var g=dl(u),v=new Array(256),b=0;b<v.length;b++)v[b]=Gi(b,f);var C=(function(S,O){for(var D=S.data,R=0;R<D.length;R+=4)D[R]=O[D[R]],D[R+1]=O[D[R+1]],D[R+2]=O[D[R+2]];return S})(g.getImageData(0,0,u.width,u.height),v);return g.putImageData(C,0,0),bd(u,c)})(i,e.getType(),o)})}),vC=function(e,o,i){var u=lh(e),c=Xb(e),f=o/u,g=i/c,v=!1;(f<.5||2<f)&&(f=f<.5?.5:2,v=!0),(g<.5||2<g)&&(g=g<.5?.5:2,v=!0);var b=UE(e,f,g);return v?b.then(function(C){return vC(C,o,i)}):b},UE=function(e,o,i){return new wc(function(u){var c=lh(e),f=Xb(e),g=Math.floor(c*o),v=Math.floor(f*i),b=Zm(g,v);dl(b).drawImage(e,0,0,c,f,0,0,g,v),u(b)})},vy=function(e,o,i){var u=(i<0?360+i:i)*Math.PI/180,c=e.width,f=e.height,g=Math.sin(u),v=Math.cos(u),b=nC(Math.abs(c*v)+Math.abs(f*g)),C=nC(Math.abs(c*g)+Math.abs(f*v)),S=Zm(b,C),O=dl(S);return O.translate(b/2,C/2),O.rotate(u),O.drawImage(e,-c/2,-f/2),bd(S,o)},by=function(e,o,i){var u=Zm(e.width,e.height),c=dl(u);return i==="v"?(c.scale(1,-1),c.drawImage(e,0,-u.height)):(c.scale(-1,1),c.drawImage(e,-u.width,0)),bd(u,o)},bC=function(e,o,i,u,c,f){var g=Zm(c,f);return dl(g).drawImage(e,-i,-u),bd(g,o)},QS=fe("toolbar.button.execute"),yC=((MS={})[Na()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],MS),Ed=fe("update-menu-text"),t=fe("update-menu-icon"),n={type:"separator"},r=function(e,o){var i,u,c;return gt((i=Tn(e)?e.split(" "):e,u=o,0<(c=tr(i,function(f,g){return Tn(g)?g===""?f:g==="|"?0<f.length&&!Zb(f[f.length-1])?f.concat([n]):f:ht(u,g.toLowerCase())?f.concat([u[g.toLowerCase()]]):f:f.concat([g])},[])).length&&Zb(c[c.length-1])&&c.pop(),c),function(f,g){var v,b,C,S,O,D,R=(function(I){if(Zb(I))return I;var F=be(I,"value").getOrThunk(function(){return fe("generated-menu-item")});return ee({value:F},I)})(g),L=(b=o,ht(v=R,"getSubmenuItems")?(S=b,O=(C=v).getSubmenuItems(),D=r(O,S),{item:C,menus:ee(D.menus,oc(C.value,D.items)),expansions:ee(D.expansions,oc(C.value,C.value))}):{item:v,menus:{},expansions:{}});return{menus:ee(f.menus,L.menus),items:[L.item].concat(f.items),expansions:ee(f.expansions,L.expansions)}},{menus:{},expansions:{},items:[]})},a=ot([rt("field1Name","field1"),rt("field2Name","field2"),$c("onLockedChange"),rs(["lockClass"]),rt("locked",!1),jl("coupledFieldBehaviours",[an,Zt])]),s=ot([ny("field1","field2"),ny("field2","field1"),oi({factory:pi,schema:[Bt("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:Kt([mn.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),l=ni({name:"FormCoupledInputs",configFields:a(),partFields:s(),factory:function(e,o,i,u){return{uid:e.uid,dom:e.dom,components:o,behaviours:Qf(e.coupledFieldBehaviours,[an.config({find:w.some}),Zt.config({store:{mode:"manual",getValue:function(c){var f=gv(c,e,["field1","field2"]),g={};return g[e.field1Name]=Zt.getValue(f.field1()),g[e.field2Name]=Zt.getValue(f.field2()),g},setValue:function(c,f){var g=gv(c,e,["field1","field2"]);Fr(f,e.field1Name)&&Zt.setValue(g.field1(),f[e.field1Name]),Fr(f,e.field2Name)&&Zt.setValue(g.field2(),f[e.field2Name])}}})]),apis:{getField1:function(c){return wn(c,e,"field1")},getField2:function(c){return wn(c,e,"field2")},getLock:function(c){return wn(c,e,"lock")}}}},apis:{getField1:function(e,o){return e.getField1(o)},getField2:function(e,o){return e.getField2(o)},getLock:function(e,o){return e.getLock(o)}}}),d={undo:ot(fe("undo")),redo:ot(fe("redo")),zoom:ot(fe("zoom")),back:ot(fe("back")),apply:ot(fe("apply")),swap:ot(fe("swap")),transform:ot(fe("transform")),tempTransform:ot(fe("temp-transform")),transformApply:ot(fe("transform-apply"))},m=ot("save-state"),h=ot("disable"),p=ot("enable"),x={formActionEvent:Xs,saveState:m,disable:h,enable:p},y=tinymce.util.Tools.resolve("tinymce.geom.Rect"),_=tinymce.util.Tools.resolve("tinymce.util.Observable"),E=tinymce.util.Tools.resolve("tinymce.util.VK");function T(e,o){function i(U){var M,j,K,J,pt,ut,yt,Tt,xt=U.raw,Nt=(M=Math.max,j=R.documentElement,K=R.body,J=M(j.scrollWidth,K.scrollWidth),pt=M(j.clientWidth,K.clientWidth),ut=M(j.offsetWidth,K.offsetWidth),yt=M(j.scrollHeight,K.scrollHeight),Tt=M(j.clientHeight,K.clientHeight),{width:J<ut?pt:J,height:yt<M(j.offsetHeight,K.offsetHeight)?Tt:yt});cC(xt),U.prevent(),b=xt.button,C=xt.screenX,S=xt.screenY;var Lt=Xr(F,"cursor");Fo(v=kt.fromTag("div",R),{position:"absolute",top:"0",left:"0",width:Nt.width+"px",height:Nt.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:Lt}),Ao(jd(I),v),D.push(rr(I,"mousemove",u),rr(I,"touchmove",u),rr(I,"mouseup",z),rr(I,"touchend",z)),o.start(xt)}function u(U){var M=U.raw;if(cC(M),M.button!==b)return z(U);M.deltaX=M.screenX-C,M.deltaY=M.screenY-S,U.prevent(),o.drag(M)}var c,f,g,v,b,C,S,O=[],D=[],R=(c=o.document)!==null&&c!==void 0?c:document,L=(f=o.root)!==null&&f!==void 0?f:R,I=kt.fromDom(R),F=kt.fromDom(L.getElementById((g=o.handle)!==null&&g!==void 0?g:e)),z=function(U){cC(U.raw),Q(D,function(M){return M.unbind()}),D=[],nr(v),o.stop&&o.stop(U.raw)};return O.push(rr(F,"mousedown",i),rr(F,"touchstart",i)),{destroy:function(){Q(D.concat(O),function(U){return U.unbind()}),D=[],O=[],qr(v)&&nr(v)}}}function A(e,o,i,u,c){return gh({name:e,icon:w.some(o),disabled:i,tooltip:w.some(e),primary:!1,borderless:!1},u,c)}function B(e,o){o?he.enable(e):he.disable(e)}var N=0,P=function(e,o,i,u,c){function f(M,j){return{x:j.x-M.x,y:j.y-M.y,w:j.w,h:j.h}}function g(M,j,K,J){var pt=j.x+K*M.deltaX,ut=j.y+J*M.deltaY,yt=Math.max(20,j.w+K*M.deltaW),Tt=Math.max(20,j.h+J*M.deltaH),xt=(e=y.clamp({x:pt,y:ut,w:yt,h:Tt},i,M.name==="move"),f(i,e));U.fire("updateRect",{rect:xt}),F(xt)}function v(M){b(e=M)}function b(M){function j(K,J){pr(R,"#"+D+"-"+K).each(function(pt){Fo(pt,{left:J.x+"px",top:J.y+"px",width:Math.max(0,J.w)+"px",height:Math.max(0,J.h)+"px"})})}Q(L,function(K){pr(R,"#"+D+"-"+K.name).each(function(J){Fo(J,{left:M.w*K.xMul+M.x+"px",top:M.h*K.yMul+M.y+"px"})})}),j("top",{x:o.x,y:o.y,w:o.w,h:M.y-o.y}),j("right",{x:M.x+M.w,y:M.y,w:o.w-M.x-M.w+o.x,h:M.h}),j("bottom",{x:o.x,y:M.y+M.h,w:o.w,h:o.h-M.y-M.h+o.y}),j("left",{x:o.x,y:M.y,w:M.x-o.x,h:M.h}),j("move",M)}var C,S,O=[],D="tox-crid-"+N++,R=kt.fromDom(u),L=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],I=["top","right","bottom","left"],F=function(M){var j;v((j=i,{x:M.x+j.x,y:M.y+j.y,w:M.w,h:M.h}))};function z(M){qe(M.target,"aria-grabbed",M.raw.type==="focus"?"true":"false")}Wa(S=kt.fromTag("div"),{id:D,class:"tox-croprect-container",role:"grid","aria-dropeffect":"execute"}),Ao(R,S),Q(I,function(M){pr(R,"#"+D).each(function(j){var K=kt.fromTag("div");Wa(K,{id:D+"-"+M,class:"tox-croprect-block","data-mce-bogus":"all"}),Ie(K,"display","none"),Ao(j,K)})}),Q(L,function(M){pr(R,"#"+D).each(function(j){var K=kt.fromTag("div");Wa(K,{id:D+"-"+M.name,"aria-label":M.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:M.label}),Cu(K,["tox-croprect-handle","tox-croprect-handle-"+M.name]),Ie(K,"display","none"),Ao(j,K)})}),C=Vt(L,function(M){var j;return T(D,{document:u.ownerDocument,root:_a(R).dom,handle:D+"-"+M.name,start:function(){j=e},drag:function(K){g(M,j,K.deltaX,K.deltaY)}})}),b(e),O.push(rr(R,"focusin",z),rr(R,"focusout",z),rr(R,"keydown",function(M){var j;function K(J,pt,ut,yt,Tt){J.stopPropagation(),J.preventDefault(),g(j,ut,yt,Tt)}switch(Q(L,function(J){if(so(M.target,"id")===D+"-"+J.name)return j=J,!1}),M.raw.keyCode){case E.LEFT:K(M,0,e,-10,0);break;case E.RIGHT:K(M,0,e,10,0);break;case E.UP:K(M,0,e,0,-10);break;case E.DOWN:K(M,0,e,0,10);break;case E.ENTER:case E.SPACEBAR:M.prevent(),c()}}));var U=q(q({},_),{toggleVisibility:function(M){var j=Ge(Ge([],Vt(L,function(J){return"#"+D+"-"+J.name}),!0),Vt(I,function(J){return"#"+D+"-"+J}),!0).join(","),K=ji(R,j);Q(K,M?function(J){return vn(J,"display")}:function(J){return Ie(J,"display","none")})},setClampRect:function(M){i=M,b(e)},setRect:v,getInnerRect:function(){return f(i,e)},setInnerRect:F,setViewPortRect:function(M){o=M,b(e)},destroy:function(){Q(C,function(M){return M.destroy()}),C=[],Q(O,function(M){return M.unbind()}),O=[]}});return U};function H(e){var o,i,u,c,f=ge(e),g=qo(),v=(i=-1,{data:o=[],add:function(R){var L=o.splice(++i);return o.push(R),{state:R,removed:L}},undo:function(){if(u())return o[--i]},redo:function(){if(c())return o[++i]},canUndo:u=function(){return 0<i},canRedo:c=function(){return i!==-1&&i<o.length-1}});function b(R){f.set(R)}function C(R){URL.revokeObjectURL(R.url)}function S(R){var L=O(R);b(L);var I=v.add(L).removed;return fl.each(I,C),L.url}v.add(e);function O(R){return{blob:R,url:URL.createObjectURL(R)}}function D(){g.on(C),g.clear()}return{getBlobState:function(){return f.get()},setBlobState:b,addBlobState:S,getTempState:function(){return g.get().getOrThunk(f.get)},updateTempState:function(R){var L=O(R);return D(),g.set(L),L.url},addTempState:function(R){var L=O(R);return g.set(L),L.url},applyTempState:function(R){return g.get().fold(Xt,function(L){S(L.blob),R()})},destroyTempState:D,undo:function(){var R=v.undo();return b(R),R.url},redo:function(){var R=v.redo();return b(R),R.url},getHistoryStates:function(){return{undoEnabled:v.canUndo(),redoEnabled:v.canRedo()}}}}function G(e,o){function i(xt){var Nt=M.getHistoryStates();pt.updateButtonUndoStates(xt,Nt.undoEnabled,Nt.redoEnabled),we(xt,x.formActionEvent,{name:x.saveState(),value:Nt.undoEnabled})}function u(xt){return xt.toBlob()}function c(xt){we(xt,x.formActionEvent,{name:x.disable(),value:{}})}function f(xt,Nt,Lt,Qt,pe){c(xt),NE(Nt).then(Lt).then(u).then(Qt).then(function(Fe){return K(xt,Fe)}).then(function(){i(xt),pe(),j(xt)}).catch(function(Fe){console.log(Fe),xt.getSystem().isConnected()&&j(xt)})}function g(xt,Nt,Lt){f(xt,M.getBlobState().blob,Nt,function(Qt){return M.updateTempState(Qt)},Lt)}function v(xt){var Nt=M.getBlobState().url;return M.destroyTempState(),i(xt),Nt}var b,C,S,O,D,R,L,I,F,z,U,M=H(e.currentState),j=function(xt){ut.getApplyButton(xt).each(function(Nt){he.enable(Nt)}),we(xt,x.formActionEvent,{name:x.enable(),value:{}})},K=function(xt,Nt){return c(xt),J.updateSrc(xt,Nt)},J=(O=e.currentState.url,R=_n({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),L=ge(1),D=r0(),I=q(q({},D),{run:function(xt){return D.get().each(xt)}}),F=ge({x:0,y:0,w:1,h:1}),z=ge({x:0,y:0,w:1,h:1}),{memContainer:U=_n(Dr.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[R.asSpec(),{dom:{tag:"img",attributes:{src:O}}},{dom:{tag:"div"},behaviours:Kt([Me("image-panel-crop-events",[$o(function(xt){U.getOpt(xt).each(function(Nt){var Lt=Nt.element.dom,Qt=P({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},Lt,Xt);Qt.toggleVisibility(!1),Qt.on("updateRect",function(pe){var Fe=pe.rect,ln=L.get(),Sn={x:Math.round(Fe.x/ln),y:Math.round(Fe.y/ln),w:Math.round(Fe.w/ln),h:Math.round(Fe.h/ln)};F.set(Sn)}),I.set(Qt)})}),os(function(){I.clear()})])])}],containerBehaviours:Kt([Le.config({}),Me("image-panel-events",[$o(function(xt){Tt(xt,O)})])])})),updateSrc:Tt,zoom:function(xt,Nt){var Lt=L.get(),Qt=0<Nt?Math.min(2,Lt+.1):Math.max(.1,Lt-.1);L.set(Qt),U.getOpt(xt).each(function(pe){var Fe=pe.components()[1].element;yt(pe,Fe)})},showCrop:function(){I.run(function(xt){xt.toggleVisibility(!0)})},hideCrop:function(){I.run(function(xt){xt.toggleVisibility(!1)})},getRect:function(){return F.get()},getMeasurements:function(){var xt=z.get();return{width:xt.w,height:xt.h}}}),pt=(C=_n(A("Undo","undo",!0,function(xt){we(xt,d.undo(),{direction:1})},b=o)),S=_n(A("Redo","redo",!0,function(xt){we(xt,d.redo(),{direction:1})},b)),{container:Dr.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[C.asSpec(),S.asSpec(),A("Zoom in","zoom-in",!1,function(xt){we(xt,d.zoom(),{direction:1})},b),A("Zoom out","zoom-out",!1,function(xt){we(xt,d.zoom(),{direction:-1})},b)]}),updateButtonUndoStates:function(xt,Nt,Lt){C.getOpt(xt).each(function(Qt){B(Qt,Nt)}),S.getOpt(xt).each(function(Qt){B(Qt,Lt)})}}),ut=RE(J,o);function yt(xt,Nt){U.getOpt(xt).each(function(Lt){var Qt=L.get(),pe=Ct(Lt.element),Fe=ur(Lt.element),ln=Nt.dom.naturalWidth*Qt,Sn=Nt.dom.naturalHeight*Qt,Vn=Math.max(0,pe/2-ln/2),un=Math.max(0,Fe/2-Sn/2),kn={left:Vn.toString()+"px",top:un.toString()+"px",width:ln.toString()+"px",height:Sn.toString()+"px",position:"absolute"};Fo(Nt,kn),R.getOpt(Lt).each(function(Rn){Fo(Rn.element,kn)}),I.run(function(Rn){var Wn=F.get();Rn.setRect({x:Wn.x*Qt+Vn,y:Wn.y*Qt+un,w:Wn.w*Qt,h:Wn.h*Qt}),Rn.setClampRect({x:Vn,y:un,w:ln,h:Sn}),Rn.setViewPortRect({x:0,y:0,w:pe,h:Fe})})})}function Tt(xt,Nt){var Lt,Qt=kt.fromTag("img");return qe(Qt,"src",Nt),Lt=Qt.dom,new Yl(function(pe){var Fe=function(){Lt.removeEventListener("load",Fe),pe(Lt)};Lt.complete?pe(Lt):Lt.addEventListener("load",Fe)}).then(function(){xt.getSystem().isConnected()&&U.getOpt(xt).map(function(pe){var Fe=Ra({element:Qt});Le.replaceAt(pe,1,w.some(Fe));var ln=z.get(),Sn={x:0,y:0,w:Qt.dom.naturalWidth,h:Qt.dom.naturalHeight};z.set(Sn);var Vn,un=y.inflate(Sn,-20,-20);F.set(un),ln.w===Sn.w&&ln.h===Sn.h||(Vn=Qt,U.getOpt(pe).each(function(kn){var Rn=Ct(kn.element),Wn=ur(kn.element),gn=Vn.dom.naturalWidth,io=Vn.dom.naturalHeight,Br=Math.min(Rn/gn,Wn/io);1<=Br?L.set(1):L.set(Br)})),yt(pe,Qt)})})}return{dom:{tag:"div",attributes:{role:"presentation"}},components:[ut.memContainer.asSpec(),J.memContainer.asSpec(),pt.container],behaviours:Kt([Zt.config({store:{mode:"manual",getValue:function(){return M.getBlobState()}}}),Me("image-tools-events",[Rt(d.undo(),function(xt,Nt){var Lt=M.undo();K(xt,Lt).then(function(Qt){j(xt),i(xt)})}),Rt(d.redo(),function(xt,Nt){var Lt=M.redo();K(xt,Lt).then(function(Qt){j(xt),i(xt)})}),Rt(d.zoom(),function(xt,Nt){var Lt=Nt.event.direction;J.zoom(xt,Lt)}),Rt(d.back(),function(xt,Nt){var Lt,Qt=v(Lt=xt);K(Lt,Qt).then(function(pe){j(Lt)}),(0,Nt.event.swap)(),J.hideCrop()}),Rt(d.apply(),function(xt,Nt){M.applyTempState(function(){v(xt),(0,Nt.event.swap)()})}),Rt(d.transform(),function(xt,Nt){return g(xt,Nt.event.transform,Xt)}),Rt(d.tempTransform(),function(xt,Nt){var Lt=Nt.event.transform;f(xt,M.getTempState().blob,Lt,function(Qt){return M.addTempState(Qt)},Xt)}),Rt(d.transformApply(),function(xt,Nt){var Lt=xt,Qt=Nt.event.transform,pe=Nt.event.swap,Fe=M.getBlobState().blob;f(Lt,Fe,Qt,function(ln){var Sn=M.addBlobState(ln);return v(Lt),Sn},pe)}),Rt(d.swap(),function(xt,Nt){pt.updateButtonUndoStates(xt,!1,!1);var Lt=Nt.event.transform,Qt=Nt.event.swap;Lt.fold(function(){Qt()},function(pe){g(xt,pe,Qt)})})]),kc()])}}function Z(e){return!ht(e,"items")}function V(e,o){function i(u){return{dom:{tag:"td",innerHtml:o.translate(u)}}}return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:Vt(e.header,function(u){return{dom:{tag:"th",innerHtml:o.translate(u)}}})}]},{dom:{tag:"tbody"},components:Vt(e.cells,function(u){return{dom:{tag:"tr"},components:Vt(u,i)}})}],behaviours:Kt([Bo.config({}),De.config({})])}}function $(e,o){var i=e.label.map(function(b){return il(b,o)}),u=[he.config({disabled:function(){return e.disabled||o.isDisabled()}}),ir(),ve.config({mode:"execution",useEnter:e.multiline!==!0,useControlEnter:e.multiline===!0,execute:function(b){return fn(b,$p),w.some(!0)}}),Me("textfield-change",[Rt(_u(),function(b,C){we(b,Fa,{name:e.name})}),Rt(Ly(),function(b,C){we(b,Fa,{name:e.name})})]),Bo.config({})],c=e.validation.map(function(b){return _c.config({getRoot:function(C){return Xe(C.element)},invalidClass:"tox-invalid",validator:{validate:function(C){var S=Zt.getValue(C),O=b.validator(S);return Cc(O===!0?Ee.value(S):Ee.error(O))},validateOnLoad:b.validateOnLoad}})}).toArray(),f=e.placeholder.fold(ot({}),function(b){return{placeholder:o.translate(b)}}),g=e.inputMode.fold(ot({}),function(b){return{inputmode:b}}),v=q(q({},f),g);return Up(i,tn.parts.field({tag:e.multiline===!0?"textarea":"input",inputAttributes:v,inputClasses:[e.classname],inputBehaviours:Kt(Jn([u,c])),selectOnFocus:!1,factory:Gp}),(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),[he.config({disabled:function(){return e.disabled||o.isDisabled()},onDisabled:function(b){tn.getField(b).each(he.disable)},onEnabled:function(b){tn.getField(b).each(he.enable)}}),ir()])}function X(e){var o=ge(null);return ca({readState:function(){return{timer:o.get()!==null?"set":"unset"}},setTimer:function(i){o.set(i)},cancel:function(){var i=o.get();i!==null&&i.cancel()}})}function it(e,o,i){var u=Zt.getValue(i);Zt.setValue(o,u),hT(o)}function dt(e,o){var i=e.element,u=jc(i),c=i.dom;so(i,"type")!=="number"&&o(c,u)}function wt(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:Xt}}function bt(e,o){return{type:"menuitem",value:o,text:e,meta:{attach:void 0},onAction:Xt}}function tt(e,o){return i=e,Vt(Ne(o,function(u){return u.type===i}),wt);var i}function et(e,o){var i=e.toLowerCase();return Ne(o,function(u){return Yo((u.meta!==void 0&&u.meta.text!==void 0?u.meta:u).text.toLowerCase(),i)||Yo(u.value.toLowerCase(),i)})}function at(e,o,i){function u(z){var U=Zt.getValue(z);i.addToHistory(U.value,e.filetype)}var c,f,g,v,b=o.shared.providers,C=tn.parts.field({factory:TD,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":vT,type:"url"},minChars:0,responseTime:0,fetch:function(z){var U,M,j,K,J=tg((U=e.filetype,M=i,j=Zt.getValue(z),K=j.meta.text!==void 0?j.meta.text:j.value,M.getLinkInformation().fold(function(){return[]},function(pt){var ut=et(K,Vt(M.getHistory(U),function(yt){return bt(yt,yt)}));return U==="file"?tr([ut,et(K,tt("header",pt.targets)),et(K,Jn([w.from(pt.anchorTop).map(function(yt){return bt("<top>",yt)}).toArray(),tt("anchor",pt.targets),w.from(pt.anchorBottom).map(function(yt){return bt("<bottom>",yt)}).toArray()]))],function(yt,Tt){return yt.length===0||Tt.length===0?yt.concat(Tt):yt.concat(DD,Tt)},[]):ut})),$i.BUBBLE_TO_SANDBOX,o,!1);return Cc(J)},getHotspot:function(z){return I.getOpt(z)},onSetValue:function(z,U){z.hasConfigured(_c)&&_c.run(z).get(Xt)},typeaheadBehaviours:Kt(Jn([i.getValidationHandler().map(function(z){return _c.config({getRoot:function(U){return Xe(U.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(U,M){O.getOpt(U).each(function(j){qe(j.element,"title",b.translate(M))})}},validator:{validate:function(U){var M=Zt.getValue(U);return AD(function(j){z({type:e.filetype,url:M.value},function(K){var J,pt;K.status==="invalid"?(J=Ee.error(K.message),j(J)):(pt=Ee.value(K.message),j(pt))})})},validateOnLoad:!1}})}).toArray(),[he.config({disabled:function(){return e.disabled||b.isDisabled()}}),Bo.config({}),Me("urlinput-events",Jn([e.filetype==="file"?[Rt(_u(),function(z){we(z,Fa,{name:e.name})})]:[],[Rt(zi(),function(z){we(z,Fa,{name:e.name}),u(z)}),Rt(Ly(),function(z){we(z,Fa,{name:e.name}),u(z)})]]))]])),eventOrder:((c={})[_u()]=["streaming","urlinput-events","invalidating"],c),model:{getDisplayText:function(z){return z.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:o.shared.getSink,parts:{menu:lb(0,0,"normal")},onExecute:function(z,U,M){we(U,$p,{})},onItemExecute:function(z,U,M,j){u(z),we(z,Fa,{name:e.name})}}),S=e.label.map(function(z){return il(z,b)}),O=_n((f="invalid",g=w.some(vT),Bu("warning",{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+f],attributes:q({title:b.translate(v=v===void 0?f:v),"aria-live":"polite"},g.fold(function(){return{}},function(z){return{id:z}}))},b.icons))),D=_n({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[O.asSpec()]}),R=i.getUrlPicker(e.filetype),L=fe("browser.url.event"),I=_n({dom:{tag:"div",classes:["tox-control-wrap"]},components:[C,D.asSpec()],behaviours:Kt([he.config({disabled:function(){return e.disabled||b.isDisabled()}})])}),F=_n(ey({name:e.name,icon:w.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:!1,borderless:!0},function(z){return fn(z,L)},b,[],["tox-browse-url"]));return tn.sketch({dom:Wp([]),components:S.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Jn([[I.asSpec()],R.map(function(){return F.asSpec()}).toArray()])}]),fieldBehaviours:Kt([he.config({disabled:function(){return e.disabled||b.isDisabled()},onDisabled:function(z){tn.getField(z).each(he.disable),F.getOpt(z).each(he.disable)},onEnabled:function(z){tn.getField(z).each(he.enable),F.getOpt(z).each(he.enable)}}),ir(),Me("url-input-events",[Rt(L,function(z){an.getCurrent(z).each(function(U){var M=Zt.getValue(U),j=q({fieldname:e.name},M);R.each(function(K){K(j).get(function(J){Zt.setValue(U,J),we(z,Fa,{name:e.name})})})})})])])})}function ft(e){return function(o,i,u){return be(i,"name").fold(function(){return e(i,u)},function(c){return o.field(c,e(i,u))})}}function It(e,o,i){var u=ee(i,{shared:{interpreter:function(c){return QE(e,c,u)}}});return QE(e,o,u)}function Wt(e,o,i){function u(){return kt.fromDom(e.getContentAreaContainer())}function c(){return I||!i()}var f,g,v,b,C,S,O,D,R,L,I=Np(e);return{inlineDialog:(O=u,D=o,R=c,L={maxHeightFunction:Gc()},function(){return R()?{type:"node",root:To(O()),node:w.from(O()),bubble:zf(12,12,bT),layouts:{onRtl:function(){return[nd]},onLtr:function(){return[Sm]}},overrides:L}:{type:"hotspot",hotspot:D(),bubble:zf(-12,12,bT),layouts:{onRtl:function(){return[hr]},onLtr:function(){return[Tr]}},overrides:L}}),banner:(b=u,C=o,S=c,function(){return S()?{type:"node",root:To(b()),node:w.from(b()),layouts:{onRtl:function(){return[ds]},onLtr:function(){return[ds]}}}:{type:"hotspot",hotspot:C(),layouts:{onRtl:function(){return[gi]},onLtr:function(){return[gi]}}}}),cursor:(g=e,function(){return{type:"selection",root:v(),getSelection:function(){var F=g.selection.getRng();return w.some(fm.range(kt.fromDom(F.startContainer),F.startOffset,kt.fromDom(F.endContainer),F.endOffset))}}}),node:(f=v=function(){return kt.fromDom(e.getBody())},function(F){return{type:"node",root:f(),node:F}})}}function Pt(e){return w.from(e.getParam("style_formats")).filter(An).map(function(o){var i,u,c=(i=e,u=xT(o),i.formatter?f(u.customFormats):i.on("init",function(){f(u.customFormats)}),u.formats);function f(g){Q(g,function(v){i.formatter.has(v.name)||i.formatter.register(v.name,v.format)})}return e.getParam("style_formats_merge",!1,"boolean")?yT.concat(c):c}).getOr(yT)}function jt(e,o,i){var u={type:"formatter",isSelected:o(e.format),getStylePreview:i(e.format)};return ee(e,u)}function Ht(e,o,i,u){var c=function(f){return Vt(f,function(g){var v,b,C,S,O,D=_t(g);if(Fr(g,"items")){var R=c(g.items);return ee(ee(g,{type:"submenu"}),{getStyleItems:ot(R)})}return Fr(g,"format")?jt(g,i,u):D.length===1&&Zn(D,"title")?ee(g,{type:"separator"}):(S={type:"formatter",format:C="custom-"+(b=Tn((v=g).name)?v.name:fe(v.title)),isSelected:i(C),getStylePreview:u(C)},O=ee(v,S),e.formatter.register(b,O),O)})};return c(o)}function Ut(e){return function(o){if(qr(i=o)&&i.nodeType===1&&(o.contentEditable===e||o.getAttribute("data-mce-contenteditable")===e))return!0;var i;return!1}}function zt(e,o,i,u,c){return{type:e,title:o,url:i,level:u,attach:c}}function te(e){return e.innerText||e.textContent}function At(e){return e&&e.nodeName==="A"&&(e.id||e.name)!==void 0&&lT(e)}function Yt(e){return e&&/^(H[1-6])$/.test(e.nodeName)}function Ft(e){return Yt(e)&&lT(e)}function ie(e){var o,i=e.id||fe("h");return zt("header",te(e),"#"+i,Yt(o=e)?parseInt(o.nodeName.substr(1),10):0,function(){e.id=i})}function re(e){var o=e.id||e.name;return zt("anchor",te(e)||"#"+o,"#"+o,0,Xt)}function Ye(e){return 0<RD(e.title).length}function Y(e){return Tn(e)&&/^https?/.test(e)}function nt(e){return Jt(e)&&Nc(e,function(o){return!(An(i=o)&&i.length<=5&&Ko(i,Y));var i}).isNone()}function St(){var e,o=Tb.getItem(ak);if(o===null)return{};try{e=JSON.parse(o)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+ak+" was not valid JSON",i),{};throw i}return nt(e)?e:(console.log("Local storage "+ak+" was not valid format",e),{})}function Mt(e){return be(St(),e).getOr([])}function Dt(e,o){var i,u;Y(e)&&(u=Ne(be(i=St(),o).getOr([]),function(c){return c!==e}),i[o]=[e].concat(u).slice(0,5),(function(c){if(!nt(c))throw new Error(`Bad format for history:
`+JSON.stringify(c));Tb.setItem(ak,JSON.stringify(c))})(i))}function qt(e){return!!e}function xe(e){return ko(fl.makeMap(e,/[, ]/),qt)}function Oe(e){return w.from(e.getParam("file_picker_callback")).filter(Dn)}function Kn(e){return w.from(e).filter(Tn).getOrUndefined()}function Ve(e){return{getHistory:Mt,addToHistory:Dt,getLinkInformation:function(){return(o=e).getParam("typeahead_urls")===!1?w.none():w.some({targets:ID(o.getBody()),anchorTop:Kn(o.getParam("anchor_top","#top")),anchorBottom:Kn(o.getParam("anchor_bottom","#bottom"))});var o},getValidationHandler:function(){return w.from((i=(o=e).getParam("file_picker_validator_handler",void 0,"function"))===void 0?o.getParam("filepicker_validator_handler",void 0,"function"):i);var o,i},getUrlPicker:function(o){return i=C=e,u=S=o,f=w.some((c=i).getParam("file_picker_types")).filter(qt),g=w.some(c.getParam("file_browser_callback_types")).filter(qt),v=f.or(g).map(xe),b=Oe(c).fold(Je,function(O){return v.fold(nn,function(D){return 0<_t(D).length&&D})}),(yi(b)?b?Oe(i):w.none():b[u]?Oe(i):w.none()).map(function(O){return function(D){return Zl(function(R){var L=q({filetype:S,fieldname:D.fieldname},w.from(D.meta).getOr({}));O.call(C,function(I,F){if(!Tn(I))throw new Error("Expected value to be string");if(F!==void 0&&!Jt(F))throw new Error("Expected meta to be a object");R({value:I,meta:F})},D.value,L)})}});var i,u,c,f,g,v,b,C,S}}}function Se(e,o,i){var u,c,f,g,v,b,C,S,O,D,R,L,I,F=ge(!1),z={isPositionedAtTop:function(){return u.get()==="top"},getDockingMode:(u=ge(L1(o)?"bottom":"top")).get,setDockingMode:u.set},U={shared:{providers:{icons:function(){return o.ui.registry.getAll().icons},menuItems:function(){return o.ui.registry.getAll().menuItems},translate:ou.translate,isDisabled:function(){return o.mode.isReadOnly()||o.ui.isDisabled()},getSetting:o.getParam.bind(o)},interpreter:function(K){return QE(BD,K,U)},anchors:Wt(o,i,z.isPositionedAtTop),header:z,getSink:function(){return Ee.value(e)}},urlinput:Ve(o),styleselect:(O=ge([]),D=ge([]),R=ge([]),L=ge([]),I=ge(!(S=function(K){var J=K.items;return J!==void 0&&0<J.length?on(J,S):[K.format]})),(C=o).on("PreInit",function(K){var J=Pt(C),pt=Ht(C,J,M,j);O.set(pt),D.set(on(pt,S))}),C.on("addStyleModifications",function(K){var J=Ht(C,K.items,M,j);R.set(J),I.set(K.replace),L.set(on(J,S))}),{getData:function(){var K=I.get()?[]:O.get(),J=R.get();return K.concat(J)},getFlattenedKeys:function(){var K=I.get()?[]:D.get(),J=L.get();return K.concat(J)}}),colorinput:{colorPicker:function(K,J){Cw(b)(K,J)},hasCustomColors:function(){return yw(v)},getColors:function(){return ps(g)},getColorCols:(f=g=v=b=o,function(){return Fp(f)})},dialog:{isDraggableModal:(c=o,function(){return c.getParam("draggable_modal",!1,"boolean")})},isContextMenuOpen:function(){return F.get()},setContextMenuState:function(K){return F.set(K)}};function M(K){return function(){return C.formatter.match(K)}}function j(K){return function(){var J=C.formatter.get(K);return J!==void 0?w.some({tag:0<J.length&&(J[0].inline||J[0].block)||"div",styles:C.dom.parseStyle(C.formatter.getCssText(K))}):w.none()}}return U}function xn(e){return(no(Hn(e,"position"),"fixed")?w.none():Eo(e)).orThunk(function(){var o=kt.fromTag("span");return Xe(e).bind(function(i){Ao(i,o);var u=Eo(o);return nr(o),u})})}function Ro(e){return xn(e).map(li).getOrThunk(function(){return xo(0,0)})}function ai(e,o){var i=e.element;zr(i,o.transitionClass),sr(i,o.fadeOutClass),zr(i,o.fadeInClass),o.onShow(e)}function hi(e,o){var i=e.element;zr(i,o.transitionClass),sr(i,o.fadeInClass),zr(i,o.fadeOutClass),o.onHide(e)}function lr(e,o,i){return Ko(e,function(u){switch(u){case"bottom":return o.bottom<=i.bottom;case"top":return o.y>=i.y}})}function ui(e,o){return o.getInitialPos().map(function(i){return mo(i.bounds.x,i.bounds.y,Ct(e),ur(e))})}function Ec(e,o,i){return i.getInitialPos().bind(function(u){switch(i.clearInitialPos(),u.position){case"static":return w.some(ZE.static());case"absolute":var c=xn(e).map(di).getOrThunk(function(){return di(Yr())});return w.some(ZE.absolute(as("absolute",be(u.style,"left").map(function(f){return o.x-c.x}),be(u.style,"top").map(function(f){return o.y-c.y}),be(u.style,"right").map(function(f){return c.right-o.right}),be(u.style,"bottom").map(function(f){return c.bottom-o.bottom}))));default:return w.none()}})}function Oc(e,o,i){var u,c,f,g=e.element;return no(Hn(g,"position"),"fixed")?(c=o,ui(u=g,f=i).filter(function(v){return lr(f.getModes(),v,c)}).bind(function(v){return Ec(u,v,f)})):(function(v,b,C){var S,O,D=di(v);if(lr(C.getModes(),D,b))return w.none();S=v,O=D,C.setInitialPos({style:(function(){var U={},M=S.dom;if(Gr(M))for(var j=0;j<M.style.length;j++){var K=M.style.item(j);U[K]=M.style[K]}return U})(),position:Xr(S,"position")||"static",bounds:O});var R=na(),L=D.x-R.x,I=b.y-R.y,F=R.bottom-b.bottom,z=D.y<=b.y;return w.some(ZE.fixed(as("fixed",w.some(L),z?w.some(I):w.none(),w.none(),z?w.none():w.some(F))))})(g,o,i)}function Od(e,o,i){i.setDocked(!1),Q(["left","right","top","bottom","position"],function(u){return vn(e.element,u)}),o.onUndocked(e)}function uu(e,o,i,u){var c=u.position==="fixed";i.setDocked(c),Ml(e.element,u),(c?o.onDocked:o.onUndocked)(e)}function cf(e,o,i,u,c){c===void 0&&(c=!1),o.contextual.each(function(f){f.lazyContext(e).each(function(g){var v=g.y<u.bottom&&g.bottom>u.y;v!==i.isVisible()&&(i.setVisible(v),c&&!v?(Cu(e.element,[f.fadeOutClass]),f.onHide(e)):(v?ai:hi)(e,f))})})}function Td(e,o,i){var u,c,f,g,v,b;i.isDocked()&&(c=o,f=i,b=(u=e).element,f.setDocked(!1),ui(v=u.element,g=f).bind(function(C){return Ec(v,C,g)}).each(function(C){C.fold(function(){return Od(u,c,f)},function(S){return uu(u,c,f,S)},Xt)}),f.setVisible(!0),c.contextual.each(function(C){ac(b,[C.fadeInClass,C.fadeOutClass,C.transitionClass]),C.onShow(u)}),tO(u,c,f))}function xC(e,o){return Zn(ya.getModes(e),o)}function wC(e){var o=e.element;Xe(o).each(function(i){var u,c,f="padding-"+ya.getModes(e)[0];ya.isDocked(e)?(u=Ct(i),Ie(o,"width",u+"px"),Ie(i,f,Te(c=o)+(parseInt(Xr(c,"margin-top"),10)||0)+(parseInt(Xr(c,"margin-bottom"),10)||0)+"px")):(vn(o,"width"),vn(i,f))})}function CC(e,o){o?(sr(e,lf.fadeOutClass),Cu(e,[lf.transitionClass,lf.fadeInClass])):(sr(e,lf.fadeInClass),Cu(e,[lf.fadeOutClass,lf.transitionClass]))}function _C(e,o){var i=kt.fromDom(e.getContainer());o?(zr(i,_T),sr(i,ST)):(zr(i,ST),sr(i,_T))}function ZS(e,o){function i(b){g().each(function(C){return b(C.element)})}function u(b){e.inline||wC(b),_C(e,ya.isDocked(b)),b.getSystem().broadcastOn([Jf()],{}),g().each(function(C){return C.getSystem().broadcastOn([Jf()],{})})}var c,f=qo(),g=o.getSink,v=e.inline?[]:[tu.config({channels:((c={})[eO()]={onReceive:wC},c)})];return Ge([De.config({}),ya.config({contextual:q({lazyContext:function(b){var C=Te(b.element),S=e.inline?e.getContentAreaContainer():e.getContainer(),O=di(kt.fromDom(S)),D=O.height-C,R=O.y+(xC(b,"top")?0:C);return w.some(mo(O.x,R,O.width,D))},onShow:function(){i(function(b){return CC(b,!0)})},onShown:function(b){i(function(C){return ac(C,[lf.transitionClass,lf.fadeInClass])}),f.get().each(function(C){var S,O=b.element,D=ze(S=C);Qa(D).filter(function(R){return!Be(S,R)}).filter(function(R){return Be(R,kt.fromDom(D.dom.body))||ke(O,R)}).each(function(){return dc(S)}),f.clear()})},onHide:function(b){var C=b.element,S=g;is(C).orThunk(function(){return S().toOptional().bind(function(O){return is(O.element)})}).fold(f.clear,f.set),i(function(O){return CC(O,!1)})},onHidden:function(){i(function(b){return ac(b,[lf.transitionClass])})}},lf),lazyViewport:function(b){var C=na(),S=e.getParam("toolbar_sticky_offset",0,"number"),O=C.y+(xC(b,"top")?S:0),D=C.height-(xC(b,"bottom")?S:0);return mo(C.x,O,C.width,D)},modes:[o.header.getDockingMode()],onDocked:u,onUndocked:u})],v,!0)}function tk(e){return go("menubutton",qD,e)}function SC(e,o){return o.getAnimationRoot.fold(function(){return e.element},function(i){return i(e)})}function og(e){return e.dimension.property}function yy(e,o){return e.dimension.getDimension(o)}function WE(e,o){ac(SC(e,o),[o.shrinkingClass,o.growingClass])}function $E(e,o){sr(e.element,o.openClass),zr(e.element,o.closedClass),Ie(e.element,og(o),"0px"),Kr(e.element)}function zO(e,o){sr(e.element,o.closedClass),zr(e.element,o.openClass),vn(e.element,og(o))}function VO(e,o,i,u){i.setCollapsed(),Ie(e.element,og(o),yy(o,e.element)),Kr(e.element),WE(e,o),$E(e,o),o.onStartShrink(e),o.onShrunk(e)}function jO(e,o,i){var u=yy(o,e.element);(u==="0px"?VO:function(c,f,g,v){var b=v.getOrThunk(function(){return yy(f,c.element)});g.setCollapsed(),Ie(c.element,og(f),b),Kr(c.element);var C=SC(c,f);sr(C,f.growingClass),zr(C,f.shrinkingClass),$E(c,f),f.onStartShrink(c)})(e,o,i,w.some(u))}function UO(e,o,i){var u=SC(e,o),c=wu(u,o.shrinkingClass),f=yy(o,e.element);zO(e,o);var g=yy(o,e.element);(c?function(){Ie(e.element,og(o),f),Kr(e.element)}:function(){$E(e,o)})(),sr(u,o.shrinkingClass),zr(u,o.growingClass),zO(e,o),Ie(e.element,og(o),g),i.setExpanded(),o.onStartGrow(e)}function WO(e,o,i){return wu(SC(e,o),o.growingClass)===!0}function $O(e,o,i){return wu(SC(e,o),o.shrinkingClass)===!0}function qO(e){return"<alloy.field."+e+">"}function bD(e){return{element:function(){return e.element.dom}}}function yD(e,o){an.getCurrent(e).each(function(i){return Le.set(i,[(u=o,ff.sketch(function(c){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:(f=c,v=Vt(_t(g=u),function(b){var C=g[b],S=Ju(go("sidebar",QD,C));return{name:b,getApi:bD,onSetup:S.onSetup,onShow:S.onShow,onHide:S.onHide}}),Vt(v,function(b){var C=ge(Xt);return f.slot(b.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:ru([Vm(b,C),jm(b,C),Rt(Hy(),function(S,O){var D=O.event;uo(v,function(R){return R.name===D.name}).each(function(R){(D.visible?R.onShow:R.onHide)(R.getApi(S))})})])})})),slotBehaviours:ru([$o(function(b){return ff.hideAllSlots(b)})])};var f,g,v}))]);var u})}function xD(e){return an.getCurrent(e).bind(function(o){return gl.isGrowing(o)||gl.hasGrown(o)?an.getCurrent(o).bind(function(i){return uo(ff.getSlotNames(i),function(u){return ff.isShowing(i,u)})}):w.none()})}function GO(e){return an.getCurrent(e).each(function(o){return dc(o.element)})}function wD(e,o,i){function u(v){var b;!c.get()||(b=v).type==="focusin"&&(b.composed?si(b.composedPath()):w.from(b.target)).map(kt.fromDom).filter(Fi).exists(function(C){return wu(C,"mce-pastebin")})||(v.preventDefault(),GO(o()),e.editorManager.setActive(e))}var c=ge(!1),f=qo();function g(v){var b,C,S,O,D,R,L,I,F,z;v!==c.get()&&(c.set(v),b=e,C=o(),S=v,O=i.providers,I=C.element,F=S,z="data-mce-"+(D="tabindex"),w.from(b.iframeElement).map(kt.fromDom).each(function(U){F?(fo(U,D).each(function(M){return qe(U,z,M)}),qe(U,D,-1)):(Lo(U,D),fo(U,z).each(function(M){qe(U,D,M),Lo(U,z)}))}),S?(Ad.block(C,(L=O,function(U,M){return{dom:{tag:"div",attributes:{"aria-label":L.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:bc('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}})),vn(I,"display"),Lo(I,"aria-hidden"),b.hasFocus()&&GO(C)):(R=an.getCurrent(C).exists(function(U){return Yy(U.element)}),Ad.unblock(C),Ie(I,"display","none"),qe(I,"aria-hidden","true"),R&&b.focus()),e.fire("AfterProgressState",{state:v}))}e.inline||e.on("PreInit",function(){e.dom.bind(e.getWin(),"focusin",u),e.on("BeforeExecCommand",function(v){v.command.toLowerCase()==="mcefocus"&&v.value!==!0&&u(v)})}),e.on("ProgressState",function(v){var b;f.on(Ia.clearTimeout),vo(v.time)?(b=Ia.setEditorTimeout(e,function(){return g(v.state)},v.time),f.set(b)):(g(v.state),f.clear())})}function qE(e,o,i){return{within:e,extra:o,withinWidth:i}}function XO(e,o,i){var u,c=(u=function(v,b){var C=i(v);return w.some({element:v,start:b,finish:b+C,width:C})},tr(e,function(v,b){return u(b,v.len).fold(ot(v),function(C){return{len:C.finish,list:v.list.concat([C])}})},{len:0,list:[]}).list),f=Ne(c,function(v){return v.finish<=o}),g=gt(f,function(v,b){return v+b.width},0);return{within:f,extra:c.slice(f.length),withinWidth:g}}function ek(e){return Vt(e,function(o){return o.element})}function KO(e,o){var i=Vt(o,function(u){return Ja(u)});ml.setGroups(e,i)}function YO(e,o,i){var u,c,f,g,v,b,C,S,O,D,R,L,I,F,z,U,M,j,K,J,pt=o.builtGroups.get();pt.length!==0&&(u=vr(e,o,"primary"),c=Xo.getCoupled(e,"overflowGroup"),Ie(u.element,"visibility","hidden"),g=eo(f=pt.concat([c]),function(ut){return is(ut.element).bind(function(yt){return ut.getSystem().getByDom(yt).toOptional()})}),i([]),KO(u,f),v=Ct(u.element),C=v,S=o.builtGroups.get(),D=c,M=((R=XO(S,C,O=function(ut){return Ct(ut.element)})).extra.length===0?w.some(R):w.none()).getOrThunk(function(){return XO(S,C-O(D),O)}),j=M.within,K=M.extra,J=M.withinWidth,(b=K.length===1&&K[0].width<=O(D)?(U=J,qE(ek(j.concat(K)),[],U)):1<=K.length?(I=K,F=D,z=J,qE(ek(j).concat([F]),ek(I),z)):(L=J,qE(ek(j),[],L))).extra.length===0?(Le.remove(u,c),i([])):(KO(u,b.within),i(b.extra)),vn(u.element,"visibility"),Kr(u.element),g.each(De.focus))}function JO(e,o){var i=Xo.getCoupled(e,"toolbarSandbox");Ze.isOpen(i)?Ze.close(i):Ze.open(i,o.toolbar())}function GE(e,o,i,u){var c=i.getBounds.map(function(g){return g()}),f=i.lazySink(e).getOrDie();Ri.positionWithinBounds(f,o,{anchor:{type:"hotspot",hotspot:e,layouts:u,overrides:{maxWidthFunction:iO()}}},c)}function QO(e,o,i,u,c){ml.setGroups(o,c),GE(e,o,i,u),mn.on(e)}function ZO(e){return Vt(e,function(o){return Ja(o)})}function tT(e,o,i){YO(e,i,function(u){i.overflowGroups.set(u),o.getOpt(e).each(function(c){Ch.setGroups(c,ZO(u))})})}function eT(e,o){wn(e,o,"overflow-button").bind(function(){return wn(e,o,"overflow")}).each(function(i){YE(e,o),gl.toggleGrow(i)})}function nT(e){var o=e.title.fold(function(){return{}},function(i){return{attributes:{title:i}}});return{dom:q({tag:"div",classes:["tox-toolbar__group"]},o),components:[uk.parts.items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Kt([Bo.config({}),De.config({})])}}function nk(e){return uk.sketch(nT(e))}function oT(e,o){var i=$o(function(u){var c=Vt(e.initGroups,nk);ml.setGroups(u,c)});return Kt([Wm(e.providers.isDisabled),ir(),ve.config({mode:o,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Me("toolbar-events",[i])])}function rT(e){var o=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":nT({title:w.none(),items:[]}),"overflow-button":aC({name:"more",icon:w.some("more-drawer"),disabled:!1,tooltip:w.some("More..."),primary:!1,borderless:!1},w.none(),e.providers)},splitToolbarBehaviours:oT(e,o)}}function XE(e){var o=e.cyclicKeying?"cyclic":"acyclic";return ml.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===Wi.scrolling?["tox-toolbar--scrolling"]:[])},components:[ml.parts.groups({})],toolbarBehaviours:oT(e,o)})}function KE(e){return typeof e=="string"?e.split(" "):e}function iT(e,o){var i=q(q({},TT),o.menus),u=0<_t(o.menus).length,c=Ne(o.menubar===void 0||o.menubar===!0?KE("file edit view insert format tools table help"):KE(o.menubar===!1?"":o.menubar),function(f){var g=ht(TT,f);return u?g||be(o.menus,f).exists(function(v){return ht(v,"items")}):g});return Ne(Vt(c,function(f){var g=i[f],v={title:g.title,items:KE(g.items)},b=o,C=e.getParam("removed_menuitems","").split(/[ ,]/);return{text:v.title,getItems:function(){return on(v.items,function(S){var O=S.toLowerCase();return O.trim().length===0||mr(C,function(D){return D===O})?[]:O==="separator"||O==="|"?[{type:"separator"}]:b.menuItems[O]?[b.menuItems[O]]:[]})}}}),function(f){return 0<f.getItems().length&&mr(f.getItems(),function(g){return g.type!=="separator"})})}function aT(e){function o(){e._skinLoaded=!0,e.fire("SkinLoaded")}return function(){e.initialized?o():e.on("init",o)}}function uT(e,o,i){return new Yl(function(u,c){i.load(o,u,c),e.on("remove",function(){return i.unload(o)})})}function sT(e,o){var i,u,c,f,g,v,b,C,S,O=(c=(i=o).getParam("skin"),f=i.getParam("skin_url"),c!==!1&&(u=c||"oxide",f=f?i.documentBaseURI.toAbsolute(f):yE.baseURL+"/skins/ui/"+u),f);O&&o.contentCSS.push(O+(e?"/content.inline":"/content")+".min.css"),o.getParam("skin")===!1==0&&Tn(O)?Yl.all([uT(o,O+"/skin.min.css",o.ui.styleSheetLoader),(b=o,C=O,S=kt.fromDom(b.getElement()),bu(S).isSome()?uT(b,C+"/skin.shadowdom.min.css",sd.DOM.styleSheetLoader):Yl.resolve())]).then(aT(o),(g=o,v="Skin could not be loaded",function(){return g.fire("SkinLoadError",{message:v})})):aT(o)()}function ok(e,o){return function(i){function u(){i.setActive(e.formatter.match(o));var f=e.formatter.formatChanged(o,i.setActive);c.set(f)}var c=Hf();return e.initialized?u():e.once("init",u),function(){e.off("init",u),c.clear()}}}function rk(e,o,i){return function(u){function c(){return i(u)}function f(){i(u),e.on(o,c)}return e.initialized?f():e.once("init",f),function(){e.off("init",f),e.off(o,c)}}}function cT(e){return function(o){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("mceToggleFormat",!1,o.format)})}}}function Ys(e,o){return function(){return e.execCommand(o)}}function xy(e,o,i){var u,c,f,g=i.dataset,v=g.type==="basic"?function(){return Vt(g.data,function(S){return jt(S,i.isSelectedFor,i.getPreviewFor)})}:g.getData;return{items:(u=o,c=i,f=function(S,O,D){var R=S.type==="formatter"&&c.isInvalid(S);return O===0?R?[]:b(S,O,!1,D).toArray():b(S,O,R,D).toArray()},{validateItems:C,getFetch:function(S,O){return function(D,R){R(tg(C(O()),$i.CLOSE_ON_EXECUTE,S,!1))}}}),getStyleItems:v};function b(S,O,D,R){var L=u.shared.providers.translate(S.title);if(S.type==="separator")return w.some({type:"separator",text:L});if(S.type!=="submenu")return w.some(q({type:"togglemenuitem",text:L,icon:S.icon,active:S.isSelected(R),disabled:D,onAction:c.onAction(S)},S.getStylePreview().fold(function(){return{}},function(F){return{meta:{style:F}}})));var I=on(S.getStyleItems(),function(F){return f(F,O,R)});return O===0&&I.length<=0?w.none():w.some({type:"nestedmenuitem",text:L,disabled:I.length<=0,getSubmenuItems:function(){return on(S.getStyleItems(),function(F){return f(F,O,R)})}})}function C(S){var O=c.getCurrentValue(),D=c.shouldHide?0:1;return on(S,function(R){return f(R,D,O)})}}function kC(e,o,i){var u=xy(0,o,i),c=u.items,f=u.getStyleItems,g=rk(e,"NodeChange",function(v){var b=v.getComponent();i.updateText(b)});return Qb({text:i.icon.isSome()?w.none():i.text,icon:i.icon,tooltip:w.from(i.tooltip),role:w.none(),fetch:c.getFetch(o,f),onSetup:g,getApi:function(v){return{getComponent:ot(v)}},columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",o.shared)}function lT(e){return(function(o){for(;o=o.parentNode;){var i=o.contentEditable;if(i&&i!=="inherit")return MD(o)}return!1})(e)&&!PD(e)}function CD(e,o){function i(S){return k0(e)}function u(S,O){return function(D,R){return wn(D,e,R).map(function(L){return S(L,R)}).getOr(O)}}function c(S,O){return so(S.element,"aria-hidden")!=="true"}var f,g=u(c,!1),v=u(function(S,O){var D;c(S)&&(Ie(D=S.element,"display","none"),qe(D,"aria-hidden","true"),we(S,Hy(),{name:O,visible:!1}))}),b=(f=v,function(S,O){Q(O,function(D){return f(S,D)})}),C=u(function(S,O){var D;c(S)||(vn(D=S.element,"display"),Lo(D,"aria-hidden"),we(S,Hy(),{name:O,visible:!0}))});return{uid:e.uid,dom:e.dom,components:o,behaviours:Ug(e.slotBehaviours),apis:{getSlotNames:i,getSlot:function(S,O){return wn(S,e,O)},isShowing:g,hideSlot:v,hideAllSlots:function(S){return b(S,i())},showSlot:C}}}function YE(e,o){wn(e,o,"overflow").each(function(i){YO(e,o,function(u){var c=Vt(u,function(f){return Ja(f)});ml.setGroups(i,c)}),wn(e,o,"overflow-button").each(function(u){gl.hasGrown(i)&&mn.on(u)}),gl.refresh(i)})}var fT,wy,ik,dT="data-value",mT=function(e,o,i,u){return Vt(i,function(c){return Z(c)?{type:"togglemenuitem",text:c.text,value:c.value,active:c.value===u,onAction:function(){Zt.setValue(e,c.value),we(e,Fa,{name:o}),De.focus(e)}}:{type:"nestedmenuitem",text:c.text,getSubmenuItems:function(){return mT(e,o,c.items,u)}}})},gT=function(e,o){return eo(e,function(i){return Z(i)?ci(i.value===o,i):gT(i.items,o)})},_D=nu({name:"HtmlSelect",configFields:[Bt("options"),Go("selectBehaviours",[De,Zt]),rt("selectClasses",[]),rt("selectAttributes",{}),bn("data")],factory:function(e,o){var i=Vt(e.options,function(c){return{dom:{tag:"option",value:c.value,innerHtml:c.text}}}),u=e.data.map(function(c){return oc("initialValue",c)}).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:i,behaviours:cr(e.selectBehaviours,[De.config({}),Zt.config({store:q({mode:"manual",getValue:function(c){return jc(c.element)},setValue:function(c,f){uo(e.options,function(g){return g.value===f}).isSome()&&Ns(c.element,f)}},u)})])}}}),SD=Object.freeze({__proto__:null,events:function(e,o){var i=e.stream.streams.setup(e,o);return oo([Rt(e.event,i),os(function(){return o.cancel()})].concat(e.cancelEvent.map(function(u){return[Rt(u,function(){return o.cancel()})]}).getOr([])))}}),kD=Object.freeze({__proto__:null,throttle:X,init:function(e){return e.stream.streams.state(e)}}),pT=Or({fields:[mi("stream",Jr("mode",{throttle:[Bt("delay"),rt("stopEvent",!0),Re("streams",{setup:function(e,o){var i=e.stream,u=qs(e.onStream,i.delay);return o.setTimer(u),function(c,f){u.throttle(c,f),i.stopEvent&&f.stop()}},state:X})]})),rt("event","input"),bn("cancelEvent"),$c("onStream")],name:"streaming",active:SD,state:kD}),hT=function(e){dt(e,function(o,i){return o.setSelectionRange(i.length,i.length)})},JE=ot("alloy.typeahead.itemexecute"),ED=ot([bn("lazySink"),Bt("fetch"),rt("minChars",5),rt("responseTime",1e3),yn("onOpen"),rt("getHotspot",w.some),rt("getAnchorOverrides",ot({})),rt("layouts",w.none()),rt("eventOrder",{}),xu("model",{},[rt("getDisplayText",function(e){return e.meta!==void 0&&e.meta.text!==void 0?e.meta.text:e.value}),rt("selectsOver",!0),rt("populateFromBrowse",!0)]),yn("onSetValue"),Ma("onExecute"),yn("onItemExecute"),rt("inputClasses",[]),rt("inputAttributes",{}),rt("inputStyles",{}),rt("matchWidth",!0),rt("useMinWidth",!1),rt("dismissOnBlur",!0),rs(["openClass"]),bn("initialData"),Go("typeaheadBehaviours",[De,Zt,pT,ve,mn,Xo]),Ti("previewing",function(){return ge(!0)})].concat(lS()).concat(zb())),OD=ot([Au({schema:[Cg()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(o,i){e.previewing.get()?o.getSystem().getByUid(e.uid).each(function(u){(function(c,f,g){if(c.selectsOver){var v=Zt.getValue(f),b=c.getDisplayText(v),C=Zt.getValue(g);return c.getDisplayText(C).indexOf(b)===0?w.some(function(){var S;it(0,f,g),S=b.length,dt(f,function(O,D){return O.setSelectionRange(S,D.length)})}):w.none()}return w.none()})(e.model,u,i).fold(function(){return Pn.dehighlight(o,i)},function(c){return c()})}):o.getSystem().getByUid(e.uid).each(function(u){e.model.populateFromBrowse&&it(e.model,u,i)}),e.previewing.set(!1)},onExecute:function(o,i){return o.getSystem().getByUid(e.uid).toOptional().map(function(u){return we(u,JE(),{item:i}),!0})},onHover:function(o,i){e.previewing.set(!1),o.getSystem().getByUid(e.uid).each(function(u){e.model.populateFromBrowse&&it(e.model,u,i)})}}}})]),TD=ni({name:"Typeahead",configFields:ED(),partFields:OD(),factory:function(e,o,i,u){function c(b,C,S){e.previewing.set(!1);var O=Xo.getCoupled(b,"sandbox");Ze.isOpen(O)?an.getCurrent(O).each(function(D){Pn.getHighlighted(D).fold(function(){S(D)},function(){Dh(O,D.element,"keydown",C)})}):tf(e,f(b),b,O,u,function(D){an.getCurrent(D).each(S)},hs.HighlightFirst).get(Xt)}function f(b){return function(C){return C.map(function(S){var O=on(Wu(S.menus),function(D){return Ne(D.items,function(R){return R.type==="item"})});return Zt.getState(b).update(Vt(O,function(D){return D.data})),S})}}var g=Ow(e),v=[De.config({}),Zt.config({onSetValue:e.onSetValue,store:q({mode:"dataset",getDataKey:function(b){return jc(b.element)},getFallbackEntry:function(b){return{value:b,meta:{}}},setValue:function(b,C){Ns(b.element,e.model.getDisplayText(C))}},e.initialData.map(function(b){return oc("initialValue",b)}).getOr({}))}),pT.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(b,C){var S,O=Xo.getCoupled(b,"sandbox");De.isFocused(b)&&jc(b.element).length>=e.minChars&&(S=an.getCurrent(O).bind(function(D){return Pn.getHighlighted(D).map(Zt.getValue)}),e.previewing.set(!0),tf(e,f(b),b,O,u,function(D){an.getCurrent(O).each(function(R){S.fold(function(){e.model.selectsOver&&Pn.highlightFirst(R)},function(L){Pn.highlightBy(R,function(I){return Zt.getValue(I).value===L.value}),Pn.getHighlighted(R).orThunk(function(){return Pn.highlightFirst(R),w.none()})})})},hs.HighlightFirst).get(Xt))},cancelEvent:lc()}),ve.config({mode:"special",onDown:function(b,C){return c(b,C,Pn.highlightFirst),w.some(!0)},onEscape:function(b){var C=Xo.getCoupled(b,"sandbox");return Ze.isOpen(C)?(Ze.close(C),w.some(!0)):w.none()},onUp:function(b,C){return c(b,C,Pn.highlightLast),w.some(!0)},onEnter:function(b){var C=Xo.getCoupled(b,"sandbox"),S=Ze.isOpen(C);if(S&&!e.previewing.get())return an.getCurrent(C).bind(function(D){return Pn.getHighlighted(D)}).map(function(D){return we(b,JE(),{item:D}),!0});var O=Zt.getValue(b);return fn(b,lc()),e.onExecute(C,b,O),S&&Ze.close(C),w.some(!0)}}),mn.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),Xo.config({others:{sandbox:function(b){return Hb(e,b,{onOpen:function(){return mn.on(b)},onClose:function(){return mn.off(b)}})}}}),Me("typeaheadevents",[Ms(function(b){hd(e,f(b),b,u,Xt,hs.HighlightFirst).get(Xt)}),Rt(JE(),function(b,C){var S=Xo.getCoupled(b,"sandbox");it(e.model,b,C.event.item),fn(b,lc()),e.onItemExecute(b,S,C.event.item,Zt.getValue(b)),Ze.close(S),hT(b)})].concat(e.dismissOnBlur?[Rt(ns(),function(b){var C=Xo.getCoupled(b,"sandbox");is(C.element).isNone()&&Ze.close(C)})]:[]))];return{uid:e.uid,dom:Mb(ee(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:q(q({},g),cr(e.typeaheadBehaviours,v)),eventOrder:e.eventOrder}}}),xh=function(e){return q(q({},e),{toCached:function(){return xh(e.toCached())},bindFuture:function(o){return xh(e.bind(function(i){return i.fold(function(u){return Cc(Ee.error(u))},function(u){return o(u)})}))},bindResult:function(o){return xh(e.map(function(i){return i.bind(o)}))},mapResult:function(o){return xh(e.map(function(i){return i.map(o)}))},mapError:function(o){return xh(e.map(function(i){return i.mapError(o)}))},foldResult:function(o,i){return e.map(function(u){return u.fold(o,i)})},withTimeout:function(o,i){return xh(Zl(function(u){var c=!1,f=setTimeout(function(){c=!0,u(Ee.error(i()))},o);e.get(function(g){c||(clearTimeout(f),u(g))})}))}})},AD=function(e){return xh(Zl(e))},DD={type:"separator"},vT=fe("aria-invalid"),ND={bar:ft(function(e,o){return i=o.shared,{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:Vt(e.items,i.interpreter)};var i}),collection:ft(function(e,o){return c=e,f=o.shared.providers,b=c.label.map(function(O){return il(O,f)}),C=i(function(O,D,R,L){D.stop(),f.isDisabled()||we(O,Xs,{name:c.name,value:L})}),S=[Rt(sc(),i(function(O,D,R){dc(R)})),Rt(Ol(),C),Rt(Rf(),C),Rt(Wc(),i(function(O,D,R){pr(O.element,"."+Pm).each(function(L){sr(L,Pm)}),zr(R,Pm)})),Rt(Ih(),i(function(O){pr(O.element,"."+Pm).each(function(D){sr(D,Pm)})})),Ms(i(function(O,D,R,L){we(O,Xs,{name:c.name,value:L})}))],Up(b,tn.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(c.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:ne},behaviours:Kt([he.config({disabled:f.isDisabled,onDisabled:function(O){u(O,function(D){zr(D,"tox-collection__item--state-disabled"),qe(D,"aria-disabled",!0)})},onEnabled:function(O){u(O,function(D){sr(D,"tox-collection__item--state-disabled"),Lo(D,"aria-disabled")})}}),ir(),Le.config({}),Zt.config({store:{mode:"memory",initialValue:[]},onSetValue:function(O,D){var R=O,L=Vt(D,function(F){var z=ou.translate(F.text),U=c.columns===1?'<div class="tox-collection__item-label">'+z+"</div>":"",M='<div class="tox-collection__item-icon">'+F.icon+"</div>",j={_:" "," - ":" ","-":" "},K=z.replace(/\_| \- |\-/g,function(J){return j[J]});return'<div class="tox-collection__item'+(f.isDisabled()?" tox-collection__item--state-disabled":"")+'" tabindex="-1" data-collection-item-value="'+sS.encodeAllRaw(F.value)+'" title="'+K+'" aria-label="'+K+'">'+M+U+"</div>"}),I=Vt(c.columns!=="auto"&&1<c.columns?ju(L,c.columns):[L],function(F){return'<div class="tox-collection__group">'+F.join("")+"</div>"});pg(R.element,I.join("")),c.columns==="auto"&&Jx(O,5,"tox-collection__item").each(function(F){var z=F.numRows,U=F.numColumns;ve.setGridSize(O,z,U)}),fn(O,qp)}}),Bo.config({}),ve.config((v=c.columns)===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:v==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:".tox-collection__group",cell:"."+hb}}),Me("collection-events",S)]),eventOrder:((g={})[Na()]=["disabling","alloy.base.behaviour","collection-events"],g)}),["tox-form__group--collection"],[]);function i(O){return function(D,R){la(R.event.target,"[data-collection-item-value]").each(function(L){O(D,R,L,so(L,"data-collection-item-value"))})}}function u(O,D){return Vt(ji(O.element,".tox-collection__item"),D)}var c,f,g,v,b,C,S}),alertbanner:ft(function(e,o){return u=o.shared.providers,Dr.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+(i=e).level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[pi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:h1(i.icon,u.icons),attributes:{title:u.translate(i.iconTooltip)}},action:function(c){we(c,Xs,{name:"alert-banner",value:i.url})},buttonBehaviours:Kt([wp()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:u.translate(i.text)}}]});var i,u}),input:ft(function(e,o){return u=o.shared.providers,$({name:(i=e).name,multiline:!1,label:i.label,inputMode:i.inputMode,placeholder:i.placeholder,flex:!1,disabled:i.disabled,classname:"tox-textfield",validation:w.none(),maximized:i.maximized},u);var i,u}),textarea:ft(function(e,o){return u=o.shared.providers,$({name:(i=e).name,multiline:!0,label:i.label,inputMode:w.none(),placeholder:i.placeholder,flex:!0,disabled:i.disabled,classname:"tox-textarea",validation:w.none(),maximized:i.maximized},u);var i,u}),label:ft(function(e,o){return c={dom:{tag:"label",innerHtml:(u=o.shared).providers.translate((i=e).label),classes:["tox-label"]}},f=Vt(i.items,u.interpreter),{dom:{tag:"div",classes:["tox-form__group"]},components:[c].concat(f),behaviours:Kt([kc(),Le.config({}),PE(w.none()),ve.config({mode:"acyclic"})])};var i,u,c,f}),iframe:(fT=function(e,o){return i=e,u=o.shared.providers,g=my&&i.sandboxed,v=q(q({},i.label.map(function(C){return{title:C}}).getOr({})),g?{sandbox:"allow-scripts allow-same-origin"}:{}),c=g,f=ge(""),b={getValue:function(C){return f.get()},setValue:function(C,S){var O;c?qe(C.element,"srcdoc",S):(qe(C.element,"src","javascript:''"),(O=C.element.dom.contentWindow.document).open(),O.write(S),O.close()),f.set(S)}},Up(i.label.map(function(C){return il(C,u)}),tn.parts.field({factory:{sketch:function(C){return Ha({uid:C.uid,dom:{tag:"iframe",attributes:v},behaviours:Kt([Bo.config({}),De.config({}),ng(w.none(),b.getValue,b.setValue)])})}}}),["tox-form__group--stretched"],[]);var i,u,c,f,g,v,b},function(e,o,i){var u=ee(o,{source:"dynamic"});return ft(fT)(e,u,i)}),button:ft(function(e,o){return i=e,u=o.shared.providers,c=uC(i.name,"custom"),Up(w.none(),tn.parts.field(q({factory:pi},BS(i,w.some(c),u,[_d(""),kc()]))),[],[]);var i,u,c}),checkbox:ft(function(e,o){return c=e,f=o.shared.providers,g=Zt.config({store:{mode:"manual",getValue:function(S){return S.element.dom.checked},setValue:function(S,O){S.element.dom.checked=O}}}),v=tn.parts.field({factory:{sketch:ne},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Kt([kc(),he.config({disabled:function(){return c.disabled||f.isDisabled()}}),Bo.config({}),De.config({}),g,ve.config({mode:"special",onEnter:i,onSpace:i,stopSpaceKeyup:!0}),Me("checkbox-events",[Rt(zi(),function(S,O){we(S,Fa,{name:c.name})})])])}),b=tn.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:f.translate(c.label)},behaviours:Kt([eg.config({})])}),C=_n({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[u("checked"),u("unchecked")]}),tn.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[v,C.asSpec(),b],fieldBehaviours:Kt([he.config({disabled:function(){return c.disabled||f.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(S){tn.getField(S).each(he.disable)},onEnabled:function(S){tn.getField(S).each(he.enable)}}),ir()])});function i(S){return S.element.dom.click(),w.some(!0)}function u(S){return Bu(S==="checked"?"selected":"unselected",{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+S]},f.icons)}var c,f,g,v,b,C}),colorinput:ft(function(e,o){return u=e,c=o.shared,f=o.colorinput,b=tn.parts.field({factory:Gp,inputClasses:["tox-textfield"],onSetValue:function(O){return _c.run(O).get(Xt)},inputBehaviours:Kt([he.config({disabled:c.providers.isDisabled}),ir(),Bo.config({}),_c.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(O){return Xe(O.element)},notify:{onValid:function(O){var D=Zt.getValue(O);we(O,af,{color:D})}},validator:{validateOnLoad:!1,validate:function(O){var D=Zt.getValue(O);if(D.length===0)return Cc(Ee.value(!0));var R=kt.fromTag("span");Ie(R,"background-color",D);var L=Hn(R,"background-color").fold(function(){return Ee.error("blah")},function(I){return Ee.value(D)});return Cc(L)}}})]),selectOnFocus:!1}),C=u.label.map(function(O){return il(O,c.providers)}),S=_n((g={dom:{tag:"span",attributes:{"aria-label":c.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Tr,hr,gi]},onLtr:function(){return[hr,Tr,gi]}},components:[],fetch:J1(f.getColors(),f.hasCustomColors()),columns:f.getColorCols(),presets:"color",onItemAction:function(O,D){S.getOpt(O).each(function(R){D==="custom"?f.colorPicker(function(L){L.fold(function(){return fn(R,ay)},function(I){i(R,I),xw(I)})},"#ffffff"):i(R,D==="remove"?"":D)})}},Mi.sketch({dom:g.dom,components:g.components,toggleClass:"mce-active",dropdownBehaviours:Kt([rl((v=c).providers.isDisabled),ir(),eg.config({}),Bo.config({})]),layouts:g.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:v.getSink,fetch:function(O){return Zl(function(D){return g.fetch(D)}).map(function(D){return w.from(kw(ee(xc(fe("menu-value"),D,function(R){g.onItemAction(O,R)},g.columns,g.presets,$i.CLOSE_ON_EXECUTE,Je,v.providers),{movement:zp(g.columns,g.presets)})))})},parts:{menu:lb(0,0,g.presets)}}))),tn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:C.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[b,S.asSpec()]}]),fieldBehaviours:Kt([Me("form-field-events",[Rt(af,function(O,D){S.getOpt(O).each(function(R){Ie(R.element,"background-color",D.event.color)}),we(O,Fa,{name:u.name})}),Rt(PS,function(O,D){tn.getField(O).each(function(R){Zt.setValue(R,D.event.value),an.getCurrent(O).each(De.focus)})}),Rt(ay,function(O,D){tn.getField(O).each(function(R){an.getCurrent(O).each(De.focus)})})])])});function i(O,D){we(O,PS,{value:D})}var u,c,f,g,v,b,C,S}),colorpicker:ft(function(e){var o=_n(EE(OE,function(i){return"tox-"+i}).sketch({dom:{tag:"div",classes:["tox-color-picker-container"],attributes:{role:"presentation"}},onValidHex:function(i){we(i,Xs,{name:"hex-valid",value:!0})},onInvalidHex:function(i){we(i,Xs,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[o.asSpec()],behaviours:Kt([Zt.config({store:{mode:"manual",getValue:function(i){var u=o.get(i);return an.getCurrent(u).bind(function(c){return Zt.getValue(c).hex}).map(function(c){return"#"+c}).getOr("")},setValue:function(i,u){var c=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(u),f=o.get(i);an.getCurrent(f).fold(function(){console.log("Can not find form")},function(g){Zt.setValue(g,{hex:w.from(c[1]).getOr("")}),Lu.getField(g,"hex").each(function(v){fn(v,_u())})})}}}),kc()])}}),dropzone:ft(function(e,o){return TE(e,o.shared.providers)}),grid:ft(function(e,o){return i=o.shared,{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+e.columns+"col"]},components:Vt(e.items,i.interpreter)};var i}),listbox:ft(function(e,o){return i=e,c=(u=o).shared.providers,f=si(i.items).filter(Z),g=i.label.map(function(b){return il(b,c)}),v={dom:{tag:"div",classes:["tox-listboxfield"]},components:[tn.parts.field({dom:{},factory:{sketch:function(b){return Qb({uid:b.uid,text:f.map(function(C){return C.text}),icon:w.none(),tooltip:i.label,role:w.none(),fetch:function(C,S){S(tg(mT(C,i.name,i.items,Zt.getValue(C)),$i.CLOSE_ON_EXECUTE,u,!1))},onSetup:ot(Xt),getApi:ot({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Bo.config({}),Zt.config({store:{mode:"manual",initialValue:f.map(function(C){return C.value}).getOr(""),getValue:function(C){return so(C.element,dT)},setValue:function(C,S){gT(i.items,S).each(function(O){qe(C.element,dT,O.value),we(C,Ed,{text:O.text})})}}})]},"tox-listbox",u.shared)}}})]},tn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Jn([g.toArray(),[v]]),fieldBehaviours:Kt([he.config({disabled:ot(i.disabled),onDisabled:function(b){tn.getField(b).each(he.disable)},onEnabled:function(b){tn.getField(b).each(he.enable)}})])});var i,u,c,f,g,v}),selectbox:ft(function(e,o){return i=e,u=o.shared.providers,c=Vt(i.items,function(v){return{text:u.translate(v.text),value:v.value}}),f=i.label.map(function(v){return il(v,u)}),g={dom:{tag:"div",classes:["tox-selectfield"]},components:Jn([[tn.parts.field({dom:{},selectAttributes:{size:i.size},options:c,factory:_D,selectBehaviours:Kt([he.config({disabled:function(){return i.disabled||u.isDisabled()}}),Bo.config({}),Me("selectbox-change",[Rt(zi(),function(v,b){we(v,Fa,{name:i.name})})])])})],(1<i.size?w.none():w.some(Bu("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},u.icons))).toArray()])},tn.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Jn([f.toArray(),[g]]),fieldBehaviours:Kt([he.config({disabled:function(){return i.disabled||u.isDisabled()},onDisabled:function(v){tn.getField(v).each(he.disable)},onEnabled:function(v){tn.getField(v).each(he.enable)}}),ir()])});var i,u,c,f,g}),sizeinput:ft(function(e,o){return rf(e,o.shared.providers)}),urlinput:ft(function(e,o){return at(e,o,o.urlinput)}),customeditor:ft(function(e){var o=qo(),i=_n({dom:{tag:e.tag}}),u=qo();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Kt([Me("custom-editor-events",[$o(function(c){i.getOpt(c).each(function(f){(ht(e,"init")?e.init(f.element.dom):vh.load(e.scriptId,e.scriptUrl).then(function(g){return g(f.element.dom,e.settings)})).then(function(g){u.on(function(v){g.setValue(v)}),u.clear(),o.set(g)})})})]),Zt.config({store:{mode:"manual",getValue:function(){return o.get().fold(function(){return u.get().getOr("")},function(c){return c.getValue()})},setValue:function(c,f){o.get().fold(function(){u.set(f)},function(g){return g.setValue(f)})}}}),kc()]),components:[i.asSpec()]}}),htmlpanel:ft(function(e){return e.presets==="presentation"?Dr.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):Dr.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Kt([Bo.config({}),De.config({})])})}),imagetools:ft(function(e,o){return G(e,o.shared.providers)}),table:ft(function(e,o){return V(e,o.shared.providers)}),panel:ft(function(e,o){return{dom:{tag:"div",classes:e.classes},components:Vt(e.items,o.shared.interpreter)}})},BD={field:function(e,o){return o}},QE=function(e,o,i){return be(ND,o.type).fold(function(){return console.error('Unknown factory type "'+o.type+'", defaulting to container: ',o),o},function(u){return u(e,o,i)})},bT={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},yT=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],xT=function(e){return tr(e,function(o,i){if(ht(i,"items")){var u=xT(i.items);return{customFormats:o.customFormats.concat(u.customFormats),formats:o.formats.concat([{title:i.title,items:u.formats}])}}if(ht(i,"inline")||ht(i,"block")||ht(i,"selector")){var c="custom-"+(Tn(i.name)?i.name:i.title.toLowerCase());return{customFormats:o.customFormats.concat([{name:c,format:i}]),formats:o.formats.concat([{title:i.title,format:c,icon:i.icon}])}}return q(q({},o),{formats:o.formats.concat(i)})},{customFormats:[],formats:[]})},RD=fl.trim,MD=Ut("true"),PD=Ut("false"),ID=function(e){var o=Vt(ji(kt.fromDom(e),"h1,h2,h3,h4,h5,h6,a:not([href])"),function(i){return i.dom});return Ne(Vt(Ne(o,Ft),ie).concat(Vt(Ne(o,At),re)),Ye)},ak="tinymce-url-history",su=__,wh=Pk,LD=ot([rt("shell",!1),Bt("makeItem"),rt("setupItem",Xt),jl("listBehaviours",[Le])]),FD=ot([js({name:"items",overrides:function(){return{behaviours:Kt([Le.config({})])}}})]),wT=ni({name:ot("CustomList")(),configFields:LD(),partFields:FD(),factory:function(e,o,i,u){var c=e.shell?{behaviours:[Le.config({})],components:[]}:{behaviours:[],components:o};return{uid:e.uid,dom:e.dom,components:c.components,behaviours:cr(e.listBehaviours,c.behaviours),apis:{setItems:function(f,g){var v;v=f,(e.shell?w.some(v):wn(v,e,"items")).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(b){var C=Le.contents(b),S=g.length,O=S-C.length,D=0<O?Dc(O,function(){return e.makeItem()}):[],R=C.slice(S);Q(R,function(I){return Le.remove(b,I)}),Q(D,function(I){return Le.append(b,I)});var L=Le.contents(b);Q(L,function(I,F){e.setupItem(f,I,g[F],F)})})}}}},apis:{setItems:function(e,o,i){e.setItems(o,i)}}}),Cy=ot([Bt("dom"),rt("shell",!0),Go("toolbarBehaviours",[Le])]),HD=ot([js({name:"groups",overrides:function(){return{behaviours:Kt([Le.config({})])}}})]),ml=ni({name:"Toolbar",configFields:Cy(),partFields:HD(),factory:function(e,o,i,u){var c=e.shell?{behaviours:[Le.config({})],components:[]}:{behaviours:[],components:o};return{uid:e.uid,dom:e.dom,components:c.components,behaviours:cr(e.toolbarBehaviours,c.behaviours),apis:{setGroups:function(f,g){var v;v=f,(e.shell?w.some(v):wn(v,e,"groups")).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(b){Le.set(b,g)})}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,o,i){e.setGroups(o,i)}}}),CT=ot([]),zD=Object.freeze({__proto__:null,setup:Xt,isDocked:Je,getBehaviours:CT}),ZE=jo([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),tO=function(e,o,i){var u,c,f,g;e.getSystem().isConnected()&&(f=i,g=(c=o).lazyViewport(u=e),f.isDocked()&&cf(u,c,f,g),Oc(u,g,f).each(function(v){v.fold(function(){return Od(u,c,f)},function(b){return uu(u,c,f,b)},function(b){cf(u,c,f,g,!0),uu(u,c,f,b)})}))},VD=Object.freeze({__proto__:null,refresh:tO,reset:Td,isDocked:function(e,o,i){return i.isDocked()},getModes:function(e,o,i){return i.getModes()},setModes:function(e,o,i,u){return i.setModes(u)}}),jD=Object.freeze({__proto__:null,events:function(e,o){return oo([Tf(es(),function(i,u){e.contextual.each(function(c){wu(i.element,c.transitionClass)&&(ac(i.element,[c.transitionClass,c.fadeInClass]),(o.isVisible()?c.onShown:c.onHidden)(i)),u.stop()})}),Rt(zh(),function(i,u){tO(i,e,o)}),Rt(fc(),function(i,u){Td(i,e,o)})])}}),ya=Or({fields:[ia("contextual",[_e("fadeInClass"),_e("fadeOutClass"),_e("transitionClass"),zo("lazyContext"),yn("onShow"),yn("onShown"),yn("onHide"),yn("onHidden")]),co("lazyViewport",na),Zu("modes",["top","bottom"],sn),yn("onDocked"),yn("onUndocked")],name:"docking",active:jD,apis:VD,state:Object.freeze({__proto__:null,init:function(e){var o=ge(!1),i=ge(!0),u=qo(),c=ge(e.modes);return ca({isDocked:o.get,setDocked:o.set,getInitialPos:u.get,setInitialPos:u.set,clearInitialPos:u.clear,isVisible:i.get,setVisible:i.set,getModes:c.get,setModes:c.set,readState:function(){return"docked:  "+o.get()+", visible: "+i.get()+", modes: "+c.get().join(",")}})}})}),eO=ot(fe("toolbar-height-change")),lf={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},_T="tox-tinymce--toolbar-sticky-on",ST="tox-tinymce--toolbar-sticky-off",UD=Object.freeze({__proto__:null,setup:function(e,o,i){e.inline||(o.header.isPositionedAtTop()||e.on("ResizeEditor",function(){i().each(ya.reset)}),e.on("ResizeWindow ResizeEditor",function(){i().each(wC)}),e.on("SkinLoaded",function(){i().each(function(u){ya.isDocked(u)?ya.reset(u):ya.refresh(u)})}),e.on("FullscreenStateChanged",function(){i().each(ya.reset)})),e.on("AfterScrollIntoView",function(u){i().each(function(c){ya.refresh(c);var f,g,v,b,C,S,O,D,R,L,I,F,z,U,M,j,K=c.element;A_(K)&&(f=u,b=(v=ze(g=K)).dom.defaultView.innerHeight,C=gr(v),O=Ss(S=kt.fromDom(f.elm)),D=ur(S),L=(R=O.y)+D,I=li(g),F=ur(g),U=(z=I.top)+F,M=Math.abs(z-C.top)<2,j=Math.abs(U-(C.top+b))<2,M&&R<U?Ic(C.left,R-F,v):j&&z<L&&Ic(C.left,R-b+D+F,v))})}),e.on("PostRender",function(){_C(e,!1)})},isDocked:function(e){return e().map(ya.isDocked).getOr(!1)},getBehaviours:ZS}),WD=ce([_e("type"),mi("items",Yu([ua([_e("name"),Ei("items",sn)]),sn]))].concat(Bm)),$D=[Xn("text"),Xn("tooltip"),Xn("icon"),zo("fetch"),co("onSetup",function(){return Xt})],qD=ce(Ge([_e("type")],$D,!0)),GD=ce([_e("type"),Xn("tooltip"),Xn("icon"),Xn("text"),Ea("select"),zo("fetch"),co("onSetup",function(){return Xt}),aa("presets","normal",["normal","color","listpreview"]),rt("columns",1),zo("onAction"),zo("onItemAction")]),nO=nu({factory:function(e,o){var i={focus:ve.focusIn,setMenus:function(u,c){var f=Vt(c,function(g){return iC(tk({type:"menubutton",text:g.text,fetch:function(v){v(g.getItems())}}).mapError(function(v){return sa(v)}).getOrDie(),"tox-mbtn",o.backstage,w.some("menuitem"))});Le.set(u,f)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:Kt([Le.config({}),Me("menubar-events",[$o(function(u){e.onSetup(u)}),Rt(sc(),function(u,c){pr(u.element,".tox-mbtn--active").each(function(f){la(c.event.target,".tox-mbtn").each(function(g){Be(f,g)||u.getSystem().getByDom(f).each(function(v){u.getSystem().getByDom(g).each(function(b){Mi.expand(b),Mi.close(v),De.focus(b)})})})})}),Rt(vg(),function(u,c){c.event.prevFocus.bind(function(f){return u.getSystem().getByDom(f).toOptional()}).each(function(f){c.event.newFocus.bind(function(g){return u.getSystem().getByDom(g).toOptional()}).each(function(g){Mi.isOpen(f)&&(Mi.expand(g),Mi.close(f))})})})]),ve.config({mode:"flow",selector:".tox-mbtn",onEscape:function(u){return e.onEscape(u),w.some(!0)}}),Bo.config({})]),apis:i,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Bt("dom"),Bt("uid"),Bt("onEscape"),Bt("backstage"),rt("onSetup",Xt)],apis:{focus:function(e,o){e.focus(o)},setMenus:function(e,o,i){e.setMenus(o,i)}}}),XD=Object.freeze({__proto__:null,refresh:function(e,o,i){var u;i.isExpanded()&&(vn(e.element,og(o)),u=yy(o,e.element),Ie(e.element,og(o),u))},grow:function(e,o,i){i.isExpanded()||UO(e,o,i)},shrink:function(e,o,i){i.isExpanded()&&jO(e,o,i)},immediateShrink:function(e,o,i){i.isExpanded()&&VO(e,o,i)},hasGrown:function(e,o,i){return i.isExpanded()},hasShrunk:function(e,o,i){return i.isCollapsed()},isGrowing:WO,isShrinking:$O,isTransitioning:function(e,o,i){return WO(e,o)||$O(e,o)},toggleGrow:function(e,o,i){(i.isExpanded()?jO:UO)(e,o,i)},disableTransitions:WE}),KD=Object.freeze({__proto__:null,exhibit:function(e,o,i){return Ds(o.expanded?{classes:[o.openClass],styles:{}}:{classes:[o.closedClass],styles:oc(o.dimension.property,"0px")})},events:function(e,o){return oo([Tf(es(),function(i,u){u.event.raw.propertyName===e.dimension.property&&(WE(i,e),o.isExpanded()&&vn(i.element,e.dimension.property),(o.isExpanded()?e.onGrown:e.onShrunk)(i))})])}}),gl=Or({fields:[Bt("closedClass"),Bt("openClass"),Bt("shrinkingClass"),Bt("growingClass"),bn("getAnimationRoot"),yn("onShrunk"),yn("onStartShrink"),yn("onGrown"),yn("onStartGrow"),rt("expanded",!1),mi("dimension",Jr("property",{width:[Re("property","width"),Re("getDimension",function(e){return Ct(e)+"px"})],height:[Re("property","height"),Re("getDimension",function(e){return ur(e)+"px"})]}))],name:"sliding",active:KD,apis:XD,state:Object.freeze({__proto__:null,init:function(e){var o=ge(e.expanded);return ca({isExpanded:function(){return o.get()===!0},isCollapsed:function(){return o.get()===!1},setCollapsed:Nn(o.set,!1),setExpanded:Nn(o.set,!0),readState:function(){return"expanded: "+o.get()}})}})}),kT="container",YD=[Go("slotBehaviours",[])],JD=ko({getSlotNames:function(e,o){return e.getSlotNames(o)},getSlot:function(e,o,i){return e.getSlot(o,i)},isShowing:function(e,o,i){return e.isShowing(o,i)},hideSlot:function(e,o,i){return e.hideSlot(o,i)},hideAllSlots:function(e,o){return e.hideAllSlots(o)},showSlot:function(e,o,i){return e.showSlot(o,i)}},Mh),ff=q(q({},JD),{sketch:function(e){var o,i={slot:function(f,g){return o.push(f),$g(kT,qO(f),g)},record:ot(o=[])},u=e(i),c=Vt(i.record(),function(f){return oi({name:f,pname:qO(f)})});return pv(kT,YD,c,CD,u)}}),QD=ce([Xn("icon"),Xn("tooltip"),co("onShow",Xt),co("onHide",Xt),co("onSetup",function(){return Xt})]),oO=fe("FixSizeEvent"),rO=fe("AutoSizeEvent"),ZD=Object.freeze({__proto__:null,block:function(e,o,i,u){qe(e.element,"aria-busy",!0);var c=o.getRoot(e).getOr(e),f=Kt([ve.config({mode:"special",onTab:function(){return w.some(!0)},onShiftTab:function(){return w.some(!0)}}),De.config({})]),g=u(c,f),v=c.getSystem().build(g);Le.append(c,Ja(v)),v.hasConfigured(ve)&&o.focus&&ve.focusIn(v),i.isBlocked()||o.onBlock(e),i.blockWith(function(){return Le.remove(c,v)})},unblock:function(e,o,i){Lo(e.element,"aria-busy"),i.isBlocked()&&o.onUnblock(e),i.clear()}}),Ad=Or({fields:[co("getRoot",w.none),po("focus",!0),yn("onBlock"),yn("onUnblock")],name:"blocking",apis:ZD,state:Object.freeze({__proto__:null,init:function(){var e=r0();return ca({readState:e.isSet,blockWith:function(o){e.set({destroy:o})},clear:e.clear,isBlocked:e.isSet})}})}),ET=ot([Go("splitToolbarBehaviours",[Xo]),Ti("builtGroups",function(){return ge([])})]),tN=ot([rs(["overflowToggledClass"]),Ea("getOverflowBounds"),Bt("lazySink"),Ti("overflowGroups",function(){return ge([])})].concat(ET())),eN=ot([oi({factory:ml,schema:Cy(),name:"primary"}),Au({schema:Cy(),name:"overflow"}),Au({name:"overflow-button"}),Au({name:"overflow-group"})]),iO=ot(function(e,o){var i=e,u=Math.floor(o);Ie(i,"max-width",wf.max(i,u,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"])+"px")}),nN=ot([rs(["toggledClass"]),Bt("lazySink"),zo("fetch"),Ea("getBounds"),ia("fireDismissalEventInstead",[rt("event",Mf())]),Xc()]),oN=ot([Au({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Kt([mn.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),Au({factory:ml,schema:Cy(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:Kt([ve.config({mode:"cyclic",onEscape:function(o){return wn(o,e,"button").each(De.focus),w.none()}})])}}})]),Ch=ni({name:"FloatingToolbarButton",factory:function(e,o,i,u){return q(q({},pi.sketch(q(q({},u.button()),{action:function(c){JO(c,u)},buttonBehaviours:Qf({dump:u.button().buttonBehaviours},[Xo.config({others:{toolbarSandbox:function(c){return f=c,g=i,v=e,{dom:{tag:"div",attributes:{id:(b=jC()).id}},behaviours:Kt([ve.config({mode:"special",onEscape:function(C){return Ze.close(C),w.some(!0)}}),Ze.config({onOpen:function(C,S){v.fetch().get(function(O){QO(f,S,v,g.layouts,O),b.link(f.element),ve.focusIn(S)})},onClose:function(){mn.off(f),De.focus(f),b.unlink(f.element)},isPartOf:function(C,S,O){return If(S,O)||If(f,O)},getAttachPoint:function(){return v.lazySink(f).getOrDie()}}),tu.config({channels:q(q({},av(q({isExtraPart:Je},v.fireDismissalEventInstead.map(function(C){return{fireEventInstead:{event:C.event}}}).getOr({})))),uv({doReposition:function(){Ze.getState(Xo.getCoupled(f,"toolbarSandbox")).each(function(C){GE(f,C,v,g.layouts)})}}))})])};var f,g,v,b}}})])}))),{apis:{setGroups:function(c,f){Ze.getState(Xo.getCoupled(c,"toolbarSandbox")).each(function(g){QO(c,g,e,i.layouts,f)})},reposition:function(c){Ze.getState(Xo.getCoupled(c,"toolbarSandbox")).each(function(f){GE(c,f,e,i.layouts)})},toggle:function(c){JO(c,u)},getToolbar:function(c){return Ze.getState(Xo.getCoupled(c,"toolbarSandbox"))},isOpen:function(c){return Ze.isOpen(Xo.getCoupled(c,"toolbarSandbox"))}}})},configFields:nN(),partFields:oN(),apis:{setGroups:function(e,o,i){e.setGroups(o,i)},reposition:function(e,o){e.reposition(o)},toggle:function(e,o){e.toggle(o)},getToolbar:function(e,o){return e.getToolbar(o)},isOpen:function(e,o){return e.isOpen(o)}}}),rN=ot([Bt("items"),rs(["itemSelector"]),Go("tgroupBehaviours",[ve])]),iN=ot([Sv({name:"items",unit:"item"})]),uk=ni({name:"ToolbarGroup",configFields:rN(),partFields:iN(),factory:function(e,o,i,u){return{uid:e.uid,dom:e.dom,components:o,behaviours:cr(e.tgroupBehaviours,[ve.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),OT=ni({name:"SplitFloatingToolbar",configFields:tN(),partFields:eN(),factory:function(e,o,i,u){var c=_n(Ch.sketch({fetch:function(){return Zl(function(f){f(ZO(e.overflowGroups.get()))})},layouts:{onLtr:function(){return[Tr,hr]},onRtl:function(){return[hr,Tr]},onBottomLtr:function(){return[ma,da]},onBottomRtl:function(){return[da,ma]}},getBounds:i.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:u["overflow-button"](),toolbar:u.overflow()}}));return{uid:e.uid,dom:e.dom,components:o,behaviours:cr(e.splitToolbarBehaviours,[Xo.config({others:{overflowGroup:function(){return uk.sketch(q(q({},u["overflow-group"]()),{items:[c.asSpec()]}))}}})]),apis:{setGroups:function(f,g){e.builtGroups.set(Vt(g,f.getSystem().build)),tT(f,c,e)},refresh:function(f){return tT(f,c,e)},toggle:function(f){c.getOpt(f).each(function(g){Ch.toggle(g)})},isOpen:function(f){return c.getOpt(f).map(Ch.isOpen).getOr(!1)},reposition:function(f){c.getOpt(f).each(function(g){Ch.reposition(g)})},getOverflow:function(f){return c.getOpt(f).bind(Ch.getToolbar)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,o,i){e.setGroups(o,i)},refresh:function(e,o){e.refresh(o)},reposition:function(e,o){e.reposition(o)},toggle:function(e,o){e.toggle(o)},isOpen:function(e,o){return e.isOpen(o)},getOverflow:function(e,o){return e.getOverflow(o)}}}),aN=ot([rs(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),yn("onOpened"),yn("onClosed")].concat(ET())),uN=ot([oi({factory:ml,schema:Cy(),name:"primary"}),oi({factory:ml,schema:Cy(),name:"overflow",overrides:function(e){return{toolbarBehaviours:Kt([gl.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(o){wn(o,e,"overflow-button").each(function(i){mn.off(i),De.focus(i)}),e.onClosed(o)},onGrown:function(o){ve.focusIn(o),e.onOpened(o)},onStartGrow:function(o){wn(o,e,"overflow-button").each(mn.on)}}),ve.config({mode:"acyclic",onEscape:function(o){return wn(o,e,"overflow-button").each(De.focus),w.some(!0)}})])}}}),Au({name:"overflow-button",overrides:function(e){return{buttonBehaviours:Kt([mn.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),Au({name:"overflow-group"})]),aO=ni({name:"SplitSlidingToolbar",configFields:aN(),partFields:uN(),factory:function(e,o,i,u){var c="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:o,behaviours:cr(e.splitToolbarBehaviours,[Xo.config({others:{overflowGroup:function(f){return uk.sketch(q(q({},u["overflow-group"]()),{items:[pi.sketch(q(q({},u["overflow-button"]()),{action:function(g){fn(f,c)}}))]}))}}}),Me("toolbar-toggle-events",[Rt(c,function(f){eT(f,e)})])]),apis:{setGroups:function(f,g){var v=Vt(g,f.getSystem().build);e.builtGroups.set(v),YE(f,e)},refresh:function(f){return YE(f,e)},toggle:function(f){return eT(f,e)},isOpen:function(f){return wn(f,e,"overflow").map(gl.hasGrown).getOr(!1)}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,o,i){e.setGroups(o,i)},refresh:function(e,o){e.refresh(o)},toggle:function(e,o){e.toggle(o)},isOpen:function(e,o){return e.isOpen(o)}}}),sN=wh.optional({factory:nO,name:"menubar",schema:[Bt("backstage")]}),cN=wh.optional({factory:{sketch:function(e){return wT.sketch({uid:e.uid,dom:e.dom,listBehaviours:Kt([ve.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return XE({type:e.type,uid:fe("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:function(){return e.onEscape(),w.some(!0)}})},setupItem:function(o,i,u,c){ml.setGroups(i,u)},shell:!0})}},name:"multiple-toolbar",schema:[Bt("dom"),Bt("onEscape")]}),lN=wh.optional({factory:{sketch:function(e){return(e.type===Wi.sliding?function(o){var i=aO.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),u=aO.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),c=rT(o);return aO.sketch(q(q({},c),{components:[i,u],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(f){f.getSystem().broadcastOn([eO()],{type:"opened"})},onClosed:function(f){f.getSystem().broadcastOn([eO()],{type:"closed"})}}))}:e.type===Wi.floating?function(o){var i=rT(o),u=OT.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return OT.sketch(q(q({},i),{lazySink:o.getSink,getOverflowBounds:function(){var c=o.moreDrawerData.lazyHeader().element,f=Ss(c),g=qn(c),v=Ss(g),b=Math.max(g.dom.scrollHeight,v.height);return mo(f.x+4,v.y,f.width-8,b)},parts:q(q({},i.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:o.attributes}}}),components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))}:XE)({type:e.type,uid:e.uid,onEscape:function(){return e.onEscape(),w.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[Bt("dom"),Bt("onEscape"),Bt("getSink")]}),fN=wh.optional({factory:{sketch:function(e){var o=e.editor,i=e.sticky?ZS:CT;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Kt(i(o,e.sharedBackstage))}}},name:"header",schema:[Bt("dom")]}),dN=wh.optional({name:"socket",schema:[Bt("dom")]}),mN=wh.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Kt([Bo.config({}),De.config({}),gl.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(o){an.getCurrent(o).each(ff.hideAllSlots),fn(o,rO)},onGrown:function(o){fn(o,rO)},onStartGrow:function(o){we(o,oO,{width:Hn(o.element,"width").getOr("")})},onStartShrink:function(o){we(o,oO,{width:Ct(o.element)+"px"})}}),Le.config({}),an.config({find:function(o){return si(Le.contents(o))}})])}],behaviours:Kt([sf(0),Me("sidebar-sliding-events",[Rt(oO,function(o,i){Ie(o.element,"width",i.event.width)}),Rt(rO,function(o,i){vn(o.element,"width")})])])}}},name:"sidebar",schema:[Bt("dom")]}),gN=wh.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Kt([Le.config({}),Ad.config({focus:!1}),an.config({find:function(o){return si(o.components())}})]),components:[]}}},name:"throbber",schema:[Bt("dom")]}),Zo=ni({name:"OuterContainer",factory:function(e,o,i){return{uid:e.uid,dom:e.dom,components:o,apis:{getSocket:function(u){return su.getPart(u,e,"socket")},setSidebar:function(u,c){su.getPart(u,e,"sidebar").each(function(f){return yD(f,c)})},toggleSidebar:function(u,c){su.getPart(u,e,"sidebar").each(function(f){var g=c;an.getCurrent(f).each(function(v){an.getCurrent(v).each(function(b){gl.hasGrown(v)?ff.isShowing(b,g)?gl.shrink(v):(ff.hideAllSlots(b),ff.showSlot(b,g)):(ff.hideAllSlots(b),ff.showSlot(b,g),gl.grow(v))})})})},whichSidebar:function(u){return su.getPart(u,e,"sidebar").bind(xD).getOrNull()},getHeader:function(u){return su.getPart(u,e,"header")},getToolbar:function(u){return su.getPart(u,e,"toolbar")},setToolbar:function(u,c){su.getPart(u,e,"toolbar").each(function(f){f.getApis().setGroups(f,c)})},setToolbars:function(u,c){su.getPart(u,e,"multiple-toolbar").each(function(f){wT.setItems(f,c)})},refreshToolbar:function(u){su.getPart(u,e,"toolbar").each(function(c){return c.getApis().refresh(c)})},toggleToolbarDrawer:function(u){su.getPart(u,e,"toolbar").each(function(c){var f=c.getApis().toggle;f!=null?w.some((function(g){return g(c)})(f)):w.none()})},isToolbarDrawerToggled:function(u){return su.getPart(u,e,"toolbar").bind(function(c){return w.from(c.getApis().isOpen).map(function(f){return f(c)})}).getOr(!1)},getThrobber:function(u){return su.getPart(u,e,"throbber")},focusToolbar:function(u){su.getPart(u,e,"toolbar").orThunk(function(){return su.getPart(u,e,"multiple-toolbar")}).each(function(c){ve.focusIn(c)})},setMenubar:function(u,c){su.getPart(u,e,"menubar").each(function(f){nO.setMenus(f,c)})},focusMenubar:function(u){su.getPart(u,e,"menubar").each(function(c){nO.focus(c)})}},behaviours:e.behaviours}},configFields:[Bt("dom"),Bt("behaviours")],partFields:[fN,sN,lN,cN,dN,mN,gN],apis:{getSocket:function(e,o){return e.getSocket(o)},setSidebar:function(e,o,i){e.setSidebar(o,i)},toggleSidebar:function(e,o,i){e.toggleSidebar(o,i)},whichSidebar:function(e,o){return e.whichSidebar(o)},getHeader:function(e,o){return e.getHeader(o)},getToolbar:function(e,o){return e.getToolbar(o)},setToolbar:function(e,o,i){var u=Vt(i,nk);e.setToolbar(o,u)},setToolbars:function(e,o,i){var u=Vt(i,function(c){return Vt(c,nk)});e.setToolbars(o,u)},refreshToolbar:function(e,o){return e.refreshToolbar(o)},toggleToolbarDrawer:function(e,o){e.toggleToolbarDrawer(o)},isToolbarDrawerToggled:function(e,o){return e.isToolbarDrawerToggled(o)},getThrobber:function(e,o){return e.getThrobber(o)},setMenubar:function(e,o,i){e.setMenubar(o,i)},focusMenubar:function(e,o){e.focusMenubar(o)},focusToolbar:function(e,o){e.focusToolbar(o)}}}),TT={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},pN=Nn(sT,!1),hN=Nn(sT,!0);function uO(e,o,i,u){var c;return{type:"basic",data:(c=e.getParam(o,i,"string"),Vt(u===wy.SemiColon?c.replace(/;$/,"").split(";"):c.split(" "),function(f){var g=f,v=f,b=f.split("=");return 1<b.length&&(g=b[0],v=b[1]),{title:g,format:v}}))}}function AT(e){var o={type:"basic",data:gO};return{tooltip:"Align",text:w.none(),icon:w.some("align-left"),isSelectedFor:function(i){return function(){return e.formatter.match(i)}},getCurrentValue:w.none,getPreviewFor:function(i){return w.none},onAction:function(i){return function(){return uo(gO,function(u){return u.format===i.format}).each(function(u){return e.execCommand(u.command)})}},updateText:function(i){var u=uo(gO,function(c){return e.formatter.match(c.format)}).fold(ot("left"),function(c){return c.title.toLowerCase()});we(i,t,{icon:"align-"+u})},dataset:o,shouldHide:!1,isInvalid:function(i){return!e.formatter.canApply(i.format)}}}function DT(e){return Vt(e.split(/\s*,\s*/),function(o){return o.replace(/^['"]+|['"]+$/g,"")})}function NT(e){function o(){function c(b){return b?DT(b)[0]:""}var f=e.queryCommandValue("FontName"),g=u.data,v=f?f.toLowerCase():"";return{matchOpt:uo(g,function(b){var C=b.format;return C.toLowerCase()===v||c(C).toLowerCase()===c(v).toLowerCase()}).orThunk(function(){return ci((b=v).indexOf("-apple-system")===0&&(C=DT(b.toLowerCase()),Ko(SN,function(S){return-1<C.indexOf(S.toLowerCase())})),{title:i,format:v});var b,C}),font:f}}var i="System Font",u=uO(e,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",wy.SemiColon);return{tooltip:"Fonts",text:w.some(i),icon:w.none(),isSelectedFor:function(c){return function(f){return f.exists(function(g){return g.format===c})}},getCurrentValue:function(){return o().matchOpt},getPreviewFor:function(c){return function(){return w.some({tag:"div",styles:c.indexOf("dings")===-1?{"font-family":c}:{}})}},onAction:function(c){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("FontName",!1,c.format)})}},updateText:function(c){var f=o(),g=f.matchOpt,v=f.font,b=g.fold(ot(v),function(C){return C.title});we(c,Ed,{text:b})},dataset:u,shouldHide:!1,isInvalid:Je}}function BT(e){function o(){var c=w.none(),f=u.data,g=e.queryCommandValue("FontSize");if(g)for(var v=function(C){var S,O,D,R,L=(O=C,/[0-9.]+px$/.test(S=g)?(D=72*parseInt(S,10)/96,R=Math.pow(10,O||0),Math.round(D*R)/R+"pt"):be(EN,S).getOr(S)),I=be(kN,L).getOr("");c=uo(f,function(F){return F.format===g||F.format===L||F.format===I})},b=3;c.isNone()&&0<=b;b--)v(b);return{matchOpt:c,size:g}}var i=ot(w.none),u=uO(e,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",wy.Space);return{tooltip:"Font sizes",text:w.some("12pt"),icon:w.none(),isSelectedFor:function(c){return function(f){return f.exists(function(g){return g.format===c})}},getPreviewFor:i,getCurrentValue:function(){return o().matchOpt},onAction:function(c){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("FontSize",!1,c.format)})}},updateText:function(c){var f=o(),g=f.matchOpt,v=f.size,b=g.fold(ot(v),function(C){return C.title});we(c,Ed,{text:b})},dataset:u,shouldHide:!1,isInvalid:Je}}function RT(e,o){var i=o(),u=Vt(i,function(c){return c.format});return w.from(e.formatter.closest(u)).bind(function(c){return uo(i,function(f){return f.format===c})}).orThunk(function(){return ci(e.formatter.match("p"),{title:"Paragraph",format:"p"})})}function MT(e){var o=uO(e,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",wy.SemiColon);return{tooltip:"Blocks",text:w.some("Paragraph"),icon:w.none(),isSelectedFor:function(i){return function(){return e.formatter.match(i)}},getCurrentValue:w.none,getPreviewFor:function(i){return function(){var u=e.formatter.get(i);return w.some({tag:0<u.length&&(u[0].inline||u[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(i))})}},onAction:cT(e),updateText:function(i){var u=RT(e,function(){return o.data}).fold(ot("Paragraph"),function(c){return c.title});we(i,Ed,{text:u})},dataset:o,shouldHide:!1,isInvalid:function(i){return!e.formatter.canApply(i.format)}}}function PT(e,o){return{tooltip:"Formats",text:w.some("Paragraph"),icon:w.none(),isSelectedFor:function(i){return function(){return e.formatter.match(i)}},getCurrentValue:w.none,getPreviewFor:function(i){return function(){var u=e.formatter.get(i);return u!==void 0?w.some({tag:0<u.length&&(u[0].inline||u[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(i))}):w.none()}},onAction:cT(e),updateText:function(i){var u=function(g){var v=g.items;return v!==void 0&&0<v.length?on(v,u):[{title:g.title,format:g.format}]},c=on(Pt(e),u),f=RT(e,ot(c)).fold(ot("Paragraph"),function(g){return g.title});we(i,Ed,{text:f})},shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(i){return!e.formatter.canApply(i.format)},dataset:o}}function vN(e){return{isDisabled:function(){return he.isDisabled(e)},setDisabled:function(o){return he.set(e,o)}}}function bN(e){return{setActive:function(o){mn.set(e,o)},isActive:function(){return mn.isOn(e)},isDisabled:function(){return he.isDisabled(e)},setDisabled:function(o){return he.set(e,o)}}}function IT(e,o){return e.map(function(i){return{"aria-label":o.translate(i),title:o.translate(i)}}).getOr({})}function sO(e,o,i,u,c,f){var g;return{dom:{tag:"button",classes:["tox-tbtn"].concat(o.isSome()?["tox-tbtn--select"]:[]),attributes:IT(i,f)},components:ld([e.map(function(v){return mh(v,f.icons)}),o.map(function(v){return Jb(v,"tox-tbtn",f)})]),eventOrder:((g={})[Bn()]=["focusing","alloy.base.behaviour","common-button-display-events"],g),buttonBehaviours:Kt([Wm(f.isDisabled),ir(),Me("common-button-display-events",[Rt(Bn(),function(v,b){b.event.prevent(),fn(v,qT)})])].concat(u.map(function(v){return Fu.config({channel:v,initialData:{icon:e,text:o},renderComponents:function(b,C){return ld([b.icon.map(function(S){return mh(S,f.icons)}),b.text.map(function(S){return Jb(S,"tox-tbtn",f)})])}})}).toArray()).concat(c.getOr([])))}}function LT(e,o,i){var u,c=ge(Xt),f=sO(e.icon,e.text,e.tooltip,w.none(),w.none(),i);return pi.sketch({dom:f.dom,components:f.components,eventOrder:yC,buttonBehaviours:Kt([Me("toolbar-button-events",[(u={onAction:e.onAction,getApi:o.getApi},Ms(function(g,v){Bp(u,g)(function(b){we(g,QS,{buttonApi:b}),u.onAction(b)})})),Vm(o,c),jm(o,c)]),Wm(function(){return e.disabled||i.isDisabled()}),ir()].concat(o.toolbarButtonBehaviours))})}function EC(e,o){return function(i,u,c){var f=e(i).mapError(function(g){return sa(g)}).getOrDie();return o(f,u,c)}}function FT(e,o,i,u){var c,f=o.outerContainer,g=i.toolbar,v=i.buttons;zu(g,Tn)?(c=g.map(function(b){var C={toolbar:b,buttons:v,allowToolbarGroups:i.allowToolbarGroups};return fk(e,C,{backstage:u},w.none())}),Zo.setToolbars(f,c)):Zo.setToolbar(f,fk(e,i,{backstage:u},w.none()))}function cO(e){return/^[0-9\.]+(|px)$/i.test(""+e)?w.some(parseInt(""+e,10)):w.none()}function lO(e){return vo(e)?e+"px":e}function sk(e,o,i){var u=o.filter(function(f){return e<f}),c=i.filter(function(f){return f<e});return u.or(c).getOr(e)}function HT(e){var o=db(e),i=O1(e),u=mb(e);return cO(o).map(function(c){return sk(c,i,u)})}function yN(e,o,i,u,c){function f(){return j.get()&&!e.removed}function g(K){return M?K.fold(ot(0),function(J){return 1<J.components().length?ur(J.components()[1].element):0}):0}function v(){S.broadcastOn([Jf()],{})}function b(K){var J,pt,ut,yt,Tt;K===void 0&&(K=!1),f()&&(R||(J=I.getOrThunk(function(){var xt=cO(Xr(Yr(),"margin-left")).getOr(0);return Ct(Yr())-li(o).left+xt}),Ie(c.get().element,"max-width",J+"px")),M&&Zo.refreshToolbar(O),R||(pt=g(Zo.getToolbar(O)),ut=di(o),yt=z()?Math.max(ut.y-ur(c.get().element)+pt,0):ut.bottom,Fo(O.element,{position:"absolute",top:Math.round(yt)+"px",left:Math.round(ut.x)+"px"})),L&&(Tt=c.get(),K?ya.reset(Tt):ya.refresh(Tt)),v())}function C(K){var J,pt;K===void 0&&(K=!0),!R&&L&&f()&&(J=F.getDockingMode(),(pt=(function(ut){switch(I1(e)){case ud.auto:var yt=g(Zo.getToolbar(O)),Tt=ur(ut.element)-yt,xt=di(o);if(xt.y>Tt)return"top";var Nt=qn(o),Lt=Math.max(Nt.dom.scrollHeight,ur(Nt));return xt.bottom<Lt-Tt||na().bottom<xt.bottom-Tt?"bottom":"top";case ud.bottom:return"bottom";default:return ud.top,"top"}})(c.get()))!==J&&((function(ut){var yt=c.get();ya.setModes(yt,[ut]),F.setDockingMode(ut);var Tt=z()?Fs.TopToBottom:Fs.BottomToTop;qe(yt.element,Ig,Tt)})(pt),K&&b(!0)))}var S=i.uiMothership,O=i.outerContainer,D=sd.DOM,R=Np(e),L=xb(e),I=mb(e).or(HT(e)),F=u.shared.header,z=F.isPositionedAtTop,U=Hm(e),M=U===Wi.sliding||U===Wi.floating,j=ge(!1);return{isVisible:f,isPositionedAtTop:z,show:function(){j.set(!0),Ie(O.element,"display","flex"),D.addClass(e.getBody(),"mce-edit-focus"),vn(S.element,"display"),C(!1),b()},hide:function(){j.set(!1),i.outerContainer&&(Ie(O.element,"display","none"),D.removeClass(e.getBody(),"mce-edit-focus")),Ie(S.element,"display","none")},update:b,updateMode:C,repositionPopups:v}}function zT(e,o){var i=di(e);return{pos:o?i.y:i.bottom,bounds:i}}function VT(e,o){return Rt(QS,function(i,u){var c,f=e.get(i),g=(c=f,{hide:function(){return fn(c,Fh())},getValue:function(){return Zt.getValue(c)}});o.onAction(g,u.event.buttonApi)})}function jT(e,o,i){return o.bottom-e.y>=(i=i===void 0?.01:i)&&e.bottom-o.y>=i}function fO(e){var o=(function(c){var f=c.getBoundingClientRect();if(f.height<=0&&f.width<=0){var g=wa(kt.fromDom(c.startContainer),c.startOffset).element;return(Qs(g)?Xe(g):w.some(g)).filter(Fi).map(function(v){return v.dom.getBoundingClientRect()}).getOr(f)}return f})(e.selection.getRng());if(e.inline){var i=gr();return mo(i.left+o.left,i.top+o.top,o.width,o.height)}var u=Ss(kt.fromDom(e.getBody()));return mo(u.x+o.left,u.y+o.top,o.width,o.height)}function UT(e,o,i,u){u===void 0&&(u=0);var c,f,g,v,b=Si(window),C=di(kt.fromDom(e.getContentAreaContainer())),S=Rm(e)||Qx(e)||Dp(e),O=(c=C,f=b,g=u,{x:v=Math.max(c.x+g,f.x),width:Math.min(c.right-g,f.right)-v}),D=O.x,R=O.width;if(e.inline&&!S)return mo(D,b.y,R,b.height);var L=(function(z,U,M,j,K,J){var pt=kt.fromDom(z.getContainer()),ut=pr(pt,".tox-editor-header").getOr(pt),yt=di(ut),Tt=yt.y>=U.bottom,xt=j&&!Tt;if(z.inline&&xt)return{y:Math.max(yt.bottom+J,M.y),bottom:M.bottom};if(z.inline&&!xt)return{y:M.y,bottom:Math.min(yt.y-J,M.bottom)};var Nt=K==="line"?di(pt):U;return xt?{y:Math.max(yt.bottom+J,M.y),bottom:Math.min(Nt.bottom-J,M.bottom)}:{y:Math.max(Nt.y+J,M.y),bottom:Math.min(yt.y-J,M.bottom)}})(e,C,b,o.header.isPositionedAtTop(),i,u),I=L.y,F=L.bottom;return mo(D,I,R,F-I)}function WT(e){return e==="node"}function xN(e,o,i,u,c){var f=fO(e),g=u.lastElement().exists(function(S){return Be(i,S)}),v=i,b=e.selection.getRng(),C=wa(kt.fromDom(b.startContainer),b.startOffset);return b.startContainer===b.endContainer&&b.startOffset===b.endOffset-1&&Be(C.element,v)?g?lx:ds:g?(function(S,O){var D=Hn(S,"position");Ie(S,"position",O);var R=jT(f,di(o))&&!u.isReposition()?jk:lx;return D.each(function(L){return Ie(S,"position",L)}),R})(o,u.getMode()):(u.getMode()==="fixed"?c.y+gr().top:c.y)+(ur(o)+12)<=f.y?ds:Nu}function dO(e,o){var i=Cr(Ne(o,function(u){return u.predicate(e.dom)}),function(u){return u.type==="contexttoolbar"});return{contextToolbars:i.pass,contextForms:i.fail}}function wN(e,o){function i(g){return Be(g,c)}var u,c=kt.fromDom(o.getBody()),f=kt.fromDom(o.selection.getNode());return i(u=f)||ke(c,u)?(function(g,v,b){var C=dO(g,v);if(0<C.contextForms.length)return w.some({elem:g,toolbars:[C.contextForms[0]]});var S=dO(g,b);if(0<S.contextForms.length)return w.some({elem:g,toolbars:[S.contextForms[0]]});if(0<C.contextToolbars.length||0<S.contextToolbars.length){var O=(function(D){if(D.length<=1)return D;function R(M){return mr(D,function(j){return j.position===M})}function L(M){return Ne(D,function(j){return j.position===M})}var I=R("selection"),F=R("node");if(I||F){if(F&&I){var z=L("node"),U=Vt(L("selection"),function(M){return q(q({},M),{position:"node"})});return z.concat(U)}return L(I?"selection":"node")}return L("line")})(C.contextToolbars.concat(S.contextToolbars));return w.some({elem:g,toolbars:O})}return w.none()})(f,e.inNodeScope,e.inEditorScope).orThunk(function(){return b=e,(g=i)(v=f)?w.none():Ef(v,function(C){if(Fi(C)){var S=dO(C,b.inNodeScope),O=S.contextToolbars,D=S.contextForms,R=0<D.length?D:(I=O).length<=1?I:L("selection").orThunk(function(){return L("node")}).orThunk(function(){return L("line")}).map(function(F){return F.position}).fold(function(){return[]},function(F){return Ne(I,function(z){return z.position===F})});return 0<R.length?w.some({elem:C,toolbars:R}):w.none()}function L(F){return uo(I,function(z){return z.position===F})}var I;return w.none()},g);var g,v,b}):w.none()}function CN(e,o){var i={},u=[],c=[],f={},g={},v=_t(e);return Q(v,function(b){var C,S,O,D,R,L=e[b];L.type==="contextform"?(O=b,R=Ju(go("ContextForm",Sp,D=L)),(i[O]=R).launch.map(function(I){f["form:"+O]=q(q({},D.launch),{type:I.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){o(R)}})}),(R.scope==="editor"?c:u).push(R),g[O]=R):L.type==="contexttoolbar"&&(C=b,go("ContextToolbar",lE,S=L).each(function(I){(S.scope==="editor"?c:u).push(I),g[C]=I}))}),{forms:i,inNodeScope:u,inEditorScope:c,lookupTable:g,formNavigators:f}}function _N(e,o,i,u){function c(){var ut=M.get().getOr("node"),yt=WT(ut)?1:0;return UT(e,I,ut,yt)}function f(){return!(e.removed||F()&&L.isContextMenuOpen())}function g(){if(f()){var ut=c(),yt=no(M.get(),"node")?(Tt=e,z.get().filter(ki).map(Ss).getOrThunk(function(){return fO(Tt)})):fO(e);return ut.height<=0||!jT(yt,ut)}return 1;var Tt}function v(){z.clear(),U.clear(),M.clear(),ro.hide(j)}function b(){var ut;ro.isOpen(j)&&(vn(ut=j.element,"display"),g()?Ie(ut,"display","none"):(U.set(0),ro.reposition(j)))}function C(ut){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[ut],behaviours:Kt([ve.config({mode:"acyclic"}),Me("pop-dialog-wrap-events",[$o(function(yt){e.shortcuts.add("ctrl+F9","focus statusbar",function(){return ve.focusIn(yt)})}),os(function(yt){e.shortcuts.remove("ctrl+F9")})])])}}function S(ut,yt){var Tt,xt,Nt,Lt,Qt,pe,Fe,ln=ut==="node"?I.anchors.node(yt):I.anchors.cursor(),Sn=(Tt=e,xt=ut,Nt=F(),Lt={lastElement:z.get,isReposition:function(){return no(U.get(),0)},getMode:function(){return Ri.getMode(i)}},xt==="line"?{bubble:zf(12,0,QT),layouts:{onLtr:function(){return[ku]},onRtl:function(){return[fa]}},overrides:ZT}:{bubble:zf(0,12,QT,1/12),layouts:(Qt=Tt,pe=Lt,Fe=xt,Nt?{onLtr:function(un){return[gi,hr,Tr,da,ma,ti].concat(Vn(un))},onRtl:function(un){return[gi,Tr,hr,ma,da,ti].concat(Vn(un))}}:{onLtr:function(un){return[ti,gi,da,hr,ma,Tr].concat(Vn(un))},onRtl:function(un){return[ti,gi,ma,Tr,da,hr].concat(Vn(un))}}),overrides:ZT});function Vn(un){return WT(Fe)?[(kn=un,function(Rn,Wn,gn,io,Br){var Pi=xN(Qt,io,kn,pe,Br),Xi=q(q({},Rn),{y:Br.y,height:Br.height});return q(q({},Pi(Xi,Wn,gn,io,Br)),{alwaysFit:!0})})]:[];var kn}return ee(ln,Sn)}function O(ut,yt){var Tt,xt,Nt,Lt;pt.cancel(),f()&&(Tt=J(ut),Nt=S(xt=ut[0].position,yt),M.set(xt),U.set(1),vn(Lt=j.element,"display"),no(ue(yt,z.get(),Be),!0)||(sr(Lt,vO),Ri.reset(i,j)),ro.showWithinBounds(j,C(Tt),{anchor:Nt,transition:{classes:[vO],mode:"placement"}},function(){return w.some(c())}),yt.fold(z.clear,z.set),g()&&Ie(Lt,"display","none"))}var D,R,L=u.backstage,I=L.shared,F=Ca().deviceType.isTouch,z=qo(),U=qo(),M=qo(),j=or((D={sink:i,onEscape:function(){return e.focus(),w.some(!0)}},R=ge([]),ro.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(ut){R.set([]),ro.getContent(ut).each(function(yt){vn(yt.element,"visibility")}),sr(ut.element,hO),vn(ut.element,"width")},inlineBehaviours:Kt([Me("context-toolbar-events",[Tf(es(),function(ut,yt){yt.event.raw.propertyName==="width"&&(sr(ut.element,hO),vn(ut.element,"width"))}),Rt(pO,function(ut,yt){var Tt=ut.element;vn(Tt,"width");var xt=Ct(Tt);ro.setContent(ut,yt.event.contents),zr(Tt,hO);var Nt=Ct(Tt);Ie(Tt,"width",xt+"px"),ro.getContent(ut).each(function(Lt){yt.event.focus.bind(function(Qt){return dc(Qt),is(Tt)}).orThunk(function(){return ve.focusIn(Lt),Qa(_a(Tt))})}),Ia.setTimeout(function(){Ie(ut.element,"width",Nt+"px")},0)}),Rt(tA,function(ut,yt){ro.getContent(ut).each(function(Tt){R.set(R.get().concat([{bar:Tt,focus:Qa(_a(ut.element))}]))}),we(ut,pO,{contents:yt.event.forwardContents,focus:w.none()})}),Rt(eA,function(ut,yt){Uu(R.get()).each(function(Tt){R.set(R.get().slice(0,R.get().length-1)),we(ut,pO,{contents:Ja(Tt.bar),focus:Tt.focus})})})]),ve.config({mode:"special",onEscape:function(ut){return Uu(R.get()).fold(function(){return D.onEscape()},function(yt){return fn(ut,eA),w.some(!0)})}})]),lazySink:function(){return Ee.value(D.sink)}}))),K=$e(function(){return CN(o,function(ut){var yt=J([ut]);we(j,tA,{forwardContents:C(yt)})})}),J=function(ut){var yt=e.ui.registry.getAll().buttons,Tt=K(),xt=q(q({},yt),Tt.formNavigators),Nt=Hm(e)===Wi.scrolling?Wi.scrolling:Wi.default,Lt=Jn(Vt(ut,function(Qt){return Qt.type==="contexttoolbar"?fk(e,{buttons:xt,toolbar:Qt.items,allowToolbarGroups:!1},u,w.some(["form:"])):(pe=I.providers,PN(Qt,pe));var pe}));return XE({type:Nt,uid:fe("context-toolbar"),initGroups:Lt,onEscape:w.none,cyclicKeying:!0,providers:I.providers})},pt=qs(function(){e.hasFocus()&&!e.removed&&(wu(j.element,vO)?pt.throttle():wN(K(),e).fold(v,function(ut){O(ut.toolbars,w.some(ut.elem))}))},17);e.on("init",function(){e.on("remove",v),e.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",b),e.on("click keyup focus SetContent",pt.throttle),e.on(JT,v),e.on("contexttoolbar-show",function(ut){be(K().lookupTable,ut.toolbarKey).each(function(yt){O([yt],ci(ut.target!==e,ut.target)),ro.getContent(j).each(ve.focusIn)})}),e.on("focusout",function(ut){Ia.setEditorTimeout(e,function(){is(i.element).isNone()&&is(j.element).isNone()&&v()},0)}),e.on("SwitchMode",function(){e.mode.isReadOnly()&&v()}),e.on("AfterProgressState",function(ut){ut.state?v():e.hasFocus()&&pt.throttle()}),e.on("NodeChange",function(ut){is(j.element).fold(pt.throttle,Xt)})})}(ik=wy=wy||{})[ik.SemiColon=0]="SemiColon",ik[ik.Space=1]="Space";var ck,mO,$T,gO=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],SN=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],kN={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},EN={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},ON=Object.freeze({__proto__:null,events:function(e,o){function i(u,c){e.updateState.each(function(f){var g=f(u,c);o.set(g)}),e.renderComponents.each(function(f){var g=Vt(f(c,o.get()),u.getSystem().build);y0(u,g)})}return oo([Rt(Tl(),function(u,c){var f,g=c;g.universal||(f=e.channel,Zn(g.channels,f)&&i(u,g.data))}),$o(function(u,c){e.initialData.each(function(f){i(u,f)})})])}}),TN=Object.freeze({__proto__:null,getState:function(e,o,i){return i}}),Fu=Or({fields:[Bt("channel"),bn("renderComponents"),bn("updateState"),bn("initialData")],name:"reflecting",active:ON,apis:TN,state:Object.freeze({__proto__:null,init:function(){var e=ge(w.none());return{readState:function(){return e.get().getOr("none")},get:e.get,set:e.set,clear:function(){return e.set(w.none())}}}})}),AN=ot([Bt("toggleClass"),Bt("fetch"),$c("onExecute"),rt("getHotspot",w.some),rt("getAnchorOverrides",ot({})),Xc(),$c("onItemExecute"),bn("lazySink"),Bt("dom"),yn("onOpen"),Go("splitDropdownBehaviours",[Xo,ve,De]),rt("matchWidth",!1),rt("useMinWidth",!1),rt("eventOrder",{}),bn("role")].concat(zb())),DN=ot([oi({factory:pi,schema:[Bt("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Kt([De.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(o){o.getSystem().getByUid(e.uid).each(rc)},buttonBehaviours:Kt([mn.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),oi({factory:pi,schema:[Bt("dom")],name:"button",defaults:function(){return{buttonBehaviours:Kt([De.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(o){o.getSystem().getByUid(e.uid).each(function(i){e.onExecute(i,o)})}}}}),js({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[Bt("text")],name:"aria-descriptor"}),Au({schema:[Cg()],name:"menu",defaults:function(e){return{onExecute:function(o,i){o.getSystem().getByUid(e.uid).each(function(u){e.onItemExecute(u,o,i)})}}}}),Pw()]),lk=ni({name:"SplitDropdown",configFields:AN(),partFields:DN(),factory:function(e,o,i,u){function c(S){an.getCurrent(S).each(function(O){Pn.highlightFirst(O),ve.focusIn(O)})}function f(S){hd(e,ne,S,u,c,hs.HighlightFirst).get(Xt)}function g(S){return rc(vr(S,e,"button")),w.some(!0)}var v,b=q(q({},oo([$o(function(S,O){wn(S,e,"aria-descriptor").each(function(D){var R=fe("aria");qe(D.element,"id",R),qe(S.element,"aria-describedby",R)})})])),lp(w.some(f))),C={repositionMenus:function(S){mn.isOn(S)&&Lw(S)}};return{uid:e.uid,dom:e.dom,components:o,apis:C,eventOrder:q(q({},e.eventOrder),((v={})[Na()]=["disabling","toggling","alloy.base.behaviour"],v)),events:b,behaviours:cr(e.splitDropdownBehaviours,[Xo.config({others:{sandbox:function(S){var O=vr(S,e,"arrow");return Hb(e,S,{onOpen:function(){mn.on(O),mn.on(S)},onClose:function(){mn.off(O),mn.off(S)}})}}}),ve.config({mode:"special",onSpace:g,onEnter:g,onDown:function(S){return f(S),w.some(!0)}}),De.config({}),mn.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:function(e,o){return e.repositionMenus(o)}}}),qT=fe("focus-button"),GT=function(e,o,i){return LT(e,{toolbarButtonBehaviours:[].concat(0<i.length?[Me("toolbarButtonWith",i)]:[]),getApi:vN,onSetup:e.onSetup},o)},XT=function(e,o,i){return ee(LT(e,{toolbarButtonBehaviours:[Le.config({}),mn.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(0<i.length?[Me("toolbarToggleButtonWith",i)]:[]),getApi:bN,onSetup:e.onSetup},o))},NN=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],_y={button:EC(ab,function(e,o){return i=o.backstage.shared.providers,GT(e,i,[]);var i}),togglebutton:EC(ub,function(e,o){return i=o.backstage.shared.providers,XT(e,i,[]);var i}),menubutton:EC(tk,function(e,o){return iC(e,"tox-tbtn",o.backstage,w.none())}),splitbutton:EC(function(e){return go("SplitButton",GD,e)},function(e,o){return u=e,c=o.backstage.shared,C=fe("channel-update-split-dropdown-display"),S=ge(Xt),O={getApi:i,onSetup:u.onSetup},lk.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:q({"aria-pressed":!1},IT(u.tooltip,c.providers))},onExecute:function(D){u.onAction(i(D))},onItemExecute:function(D,R,L){},splitDropdownBehaviours:Kt([mw(c.providers.isDisabled),ir(),Me("split-dropdown-events",[Rt(qT,De.focus),Vm(O,S),jm(O,S)]),eg.config({})]),eventOrder:((f={})[_o()]=["alloy.base.behaviour","split-dropdown-events"],f),toggleClass:"tox-tbtn--enabled",lazySink:c.getSink,fetch:(g=i,v=u,b=c.providers,function(D){return Zl(function(R){return v.fetch(R)}).map(function(R){return w.from(kw(ee(xc(fe("menu-value"),R,function(L){v.onItemAction(g(D),L)},v.columns,v.presets,$i.CLOSE_ON_EXECUTE,v.select.getOr(Je),b),{movement:zp(v.columns,v.presets),menuBehaviours:ru(v.columns!=="auto"?[]:[$o(function(L,I){Jx(L,4,S1(v.presets)).each(function(F){var z=F.numRows,U=F.numColumns;ve.setGridSize(L,z,U)})})])})))})}),parts:{menu:lb(0,u.columns,u.presets)},components:[lk.parts.button(sO(u.icon,u.text,w.none(),w.some(C),w.some([mn.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),c.providers)),lk.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:h1("chevron-down",c.providers.icons)},buttonBehaviours:Kt([mw(c.providers.isDisabled),ir(),wp()])}),lk.parts["aria-descriptor"]({text:c.providers.translate("To open the popup, press Shift+Enter")})]});function i(D){return{isDisabled:function(){return he.isDisabled(D)},setDisabled:function(R){return he.set(D,R)},setIconFill:function(R,L){pr(D.element,'svg path[id="'+R+'"], rect[id="'+R+'"]').each(function(I){qe(I,"fill",L)})},setIconStroke:function(R,L){pr(D.element,'svg path[id="'+R+'"], rect[id="'+R+'"]').each(function(I){qe(I,"stroke",L)})},setActive:function(R){qe(D.element,"aria-pressed",R),pr(D.element,"span").each(function(L){D.getSystem().getByDom(L).each(function(I){return mn.set(I,R)})})},isActive:function(){return pr(D.element,"span").exists(function(R){return D.getSystem().getByDom(R).exists(mn.isOn)})}}}var u,c,f,g,v,b,C,S,O}),grouptoolbarbutton:EC(function(e){return go("GroupToolbarButton",WD,e)},function(e,o,i){var u,c,f,g,v,b,C=i.ui.registry.getAll().buttons,S=((u={})[Ig]=o.backstage.shared.header.isPositionedAtTop()?Fs.TopToBottom:Fs.BottomToTop,u);if(Hm(i)!==Wi.floating)throw new Error("Toolbar groups are only supported when using floating toolbar mode");return f=o.backstage,g=function(O){return fk(i,{buttons:C,toolbar:O,allowToolbarGroups:!1},o,w.none())},v=S,b=f.shared,Ch.sketch({lazySink:b.getSink,fetch:function(){return Zl(function(O){O(Vt(g(c.items),nk))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:sO((c=e).icon,c.text,c.tooltip,w.none(),w.none(),b.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:v}}}})}),styleSelectButton:function(e,o){return kC(e,i=o.backstage,PT(e,q({type:"advanced"},i.styleselect)));var i},fontsizeSelectButton:function(e,o){return kC(e,o.backstage,BT(e))},fontSelectButton:function(e,o){return kC(e,o.backstage,NT(e))},formatButton:function(e,o){return kC(e,o.backstage,MT(e))},alignMenuButton:function(e,o){return kC(e,o.backstage,AT(e))}},KT={styleselect:_y.styleSelectButton,fontsizeselect:_y.fontsizeSelectButton,fontselect:_y.fontSelectButton,formatselect:_y.formatButton,align:_y.alignMenuButton},fk=function(e,o,i,u){var c,f,g,v,b=(g=o.toolbar,v=o.buttons,g===!1?[]:g===void 0||g===!0?(c=v,f=Vt(NN,function(C){var S=Ne(C.items,function(O){return ht(c,O)||ht(KT,O)});return{name:C.name,items:S}}),Ne(f,function(C){return 0<C.items.length})):Tn(g)?Vt(g.split("|"),function(C){return{items:C.trim().split(" ")}}):zu(g,function(C){return ht(C,"name")&&ht(C,"items")})?g:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[]));return Ne(Vt(b,function(C){var S=on(C.items,function(O){return O.trim().length===0?[]:(D=e,R=o.buttons,L=O,I=o.allowToolbarGroups,F=i,z=u,be(R,L.toLowerCase()).orThunk(function(){return z.bind(function(U){return eo(U,function(M){return be(R,M+L.toLowerCase())})})}).fold(function(){return be(KT,L.toLowerCase()).map(function(U){return U(D,F)}).orThunk(function(){return w.none()})},function(U){return U.type!=="grouptoolbarbutton"||I?(j=F,K=D,be(_y,(M=U).type).fold(function(){return console.error("skipping button defined by",M),w.none()},function(J){return w.some(J(M,j,K))})):(console.warn("Ignoring the '"+L+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),w.none());var M,j,K}).toArray());var D,R,L,I,F,z});return{title:w.from(e.translate(C.name)),items:S}}),function(C){return 0<C.items.length})},YT=Ca(),BN=YT.os.isiOS()&&YT.os.version.major<=12,RN=Object.freeze({__proto__:null,render:function(e,o,i,u,c){var f=ge(0),g=o.outerContainer;pN(e);var v=kt.fromDom(c.targetNode),b=To(_a(v)),C=o.mothership;L0(v,C,hf),iv(b,o.uiMothership),e.on("PostRender",function(){FT(e,o,i,u),f.set(e.getWin().innerWidth),Zo.setMenubar(g,iT(e,i)),Zo.setSidebar(g,i.sidebar),(function(z,U){function M(){var Lt=yt.get();Lt.left===pt.innerWidth&&Lt.top===pt.innerHeight||(yt.set(xo(pt.innerWidth,pt.innerHeight)),dw(z))}function j(){var Lt=z.getDoc().documentElement,Qt=Tt.get();Qt.left===Lt.offsetWidth&&Qt.top===Lt.offsetHeight||(Tt.set(xo(Lt.offsetWidth,Lt.offsetHeight)),dw(z))}function K(Lt){return z.fire("ScrollContent",Lt)}var J=z.dom,pt=z.getWin(),ut=z.getDoc().documentElement,yt=ge(xo(pt.innerWidth,pt.innerHeight)),Tt=ge(xo(ut.offsetWidth,ut.offsetHeight));J.bind(pt,"resize",M),J.bind(pt,"scroll",K);var xt=Tg(kt.fromDom(z.getBody()),"load",j),Nt=U.uiMothership.element;z.on("hide",function(){Ie(Nt,"display","none")}),z.on("show",function(){vn(Nt,"display")}),z.on("NodeChange",j),z.on("remove",function(){xt.unbind(),J.unbind(pt,"resize",M),J.unbind(pt,"scroll",K),pt=null})})(e,o)});var S,O,D,R,L=Zo.getSocket(g).getOrDie("Could not find expected socket element");BN&&(Fo(L.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"}),O=function(){e.fire("ScrollContent")},D=null,R=function(){for(var z=[],U=0;U<arguments.length;U++)z[U]=arguments[U];za(D)&&(D=setTimeout(function(){D=null,O.apply(null,z)},20))},S=rr(L.element,"scroll",R),e.on("remove",S.unbind)),aw(e,o),e.addCommand("ToggleSidebar",function(z,U){Zo.toggleSidebar(g,U),e.fire("ToggleSidebar")}),e.addQueryValueHandler("ToggleSidebar",function(){return Zo.whichSidebar(g)});var I=Hm(e);I!==Wi.sliding&&I!==Wi.floating||e.on("ResizeWindow ResizeEditor ResizeContent",function(){var z=e.getWin().innerWidth;z!==f.get()&&(Zo.refreshToolbar(o.outerContainer),f.set(z))});var F={enable:function(){zm(o,!1)},disable:function(){zm(o,!0)},isDisabled:function(){return he.isDisabled(g)}};return{iframeContainer:L.element.dom,editorContainer:g.element.dom,api:F}}}),MN=Object.freeze({__proto__:null,render:function(e,o,i,u,c){var f=o.mothership,g=o.uiMothership,v=o.outerContainer,b=ge(null),C=kt.fromDom(c.targetNode),S=yN(e,C,o,u,b),O=e.getParam("toolbar_persist",!1,"boolean");function D(){var L;b.get()?S.show():(b.set(Zo.getHeader(v).getOrDie()),iv(L=F1(e),f),iv(L,g),FT(e,o,i,u),Zo.setMenubar(v,iT(e,i)),S.show(),(function(I,F,z,U){function M(J){var pt=zT(F,z.isPositionedAtTop()),ut=pt.pos,yt=pt.bounds,Tt=j.get(),xt=Tt.pos,Nt=Tt.bounds,Lt=yt.height!==Nt.height||yt.width!==Nt.width;j.set({pos:ut,bounds:yt}),Lt&&dw(I,J),z.isVisible()&&(xt!==ut?z.update(!0):Lt&&(z.updateMode(),z.repositionPopups()))}var j=ge(zT(F,z.isPositionedAtTop()));U||(I.on("activate",z.show),I.on("deactivate",z.hide)),I.on("SkinLoaded ResizeWindow",function(){return z.update(!0)}),I.on("NodeChange keydown",function(J){Ia.requestAnimationFrame(function(){return M(J)})}),I.on("ScrollWindow",function(){return z.updateMode()});var K=Hf();K.set(Tg(kt.fromDom(I.getBody()),"load",M)),I.on("remove",function(){K.clear()})})(e,C,S,O),e.nodeChanged())}hN(e),e.on("show",D),e.on("hide",S.hide),O||(e.on("focus",D),e.on("blur",S.hide)),e.on("init",function(){(e.hasFocus()||O)&&D()}),aw(e,o);var R={show:function(){S.show()},hide:function(){S.hide()},enable:function(){zm(o,!1)},disable:function(){zm(o,!0)},isDisabled:function(){return he.isDisabled(v)}};return{editorContainer:v.element.dom,api:R}}}),JT="contexttoolbar-hide",PN=function(e,o){var i,u,c,f,g=e.label.fold(function(){return{}},function(C){return{"aria-label":C}}),v=_n(Gp.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:g,selectOnFocus:!0,inputBehaviours:Kt([ve.config({mode:"special",onEnter:function(C){return b.findPrimary(C).map(function(S){return rc(S),!0})},onLeft:function(C,S){return S.cut(),w.none()},onRight:function(C,S){return S.cut(),w.none()}})])})),b=(i=v,u=e.commands,c=o,f=Vt(u,function(C){return _n((C.type==="contextformtogglebutton"?function(S,O,D){var R=O.original;R.primary;var L=dr(R,["primary"]),I=Ju(ub(q(q({},L),{type:"togglebutton",onAction:Xt})));return XT(I,D.backstage.shared.providers,[VT(S,O)])}:function(S,O,D){var R=O.original;R.primary;var L=dr(R,["primary"]),I=Ju(ab(q(q({},L),{type:"button",onAction:Xt})));return GT(I,D.backstage.shared.providers,[VT(S,O)])})(i,C,{backstage:{shared:{providers:c}}}))}),{asSpecs:function(){return Vt(f,function(C){return C.asSpec()})},findPrimary:function(C){return eo(u,function(S,O){return S.primary?w.from(f[O]).bind(function(D){return D.getOpt(C)}).filter(Io(he.isDisabled)):w.none()})}});return[{title:w.none(),items:[v.asSpec()]},{title:w.none(),items:b.asSpecs()}]},QT={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},ZT={maxHeightFunction:Gc(),maxWidthFunction:iO()},tA=fe("forward-slide"),eA=fe("backward-slide"),pO=fe("change-slide-event"),hO="tox-pop--resizing",vO="tox-pop--transition",IN={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},LN=($T=["Infinity",(ck="[0-9]+")+"\\."+dk(ck)+dk(mO="[eE][+-]?[0-9]+"),"\\."+ck+dk(mO),ck+dk(mO)].join("|"),new RegExp("^([+-]?(?:"+$T+"))(.*)$"));function dk(e){return"(?:"+e+")?"}function nA(e,o){function i(){var u=o.getOptions(e),c=o.getCurrent(e).map(o.hash),f=qo();return Vt(u,function(g){return{type:"togglemenuitem",text:o.display(g),onSetup:function(v){function b(S){S&&(f.on(function(O){return O.setActive(!1)}),f.set(v)),v.setActive(S)}b(no(c,o.hash(g)));var C=o.watcher(e,g,b);return function(){f.clear(),C()}},onAction:function(){return o.setCurrent(e,g)}}})}e.ui.registry.addMenuButton(o.name,{tooltip:o.text,icon:o.icon,fetch:function(u){return u(i())},onSetup:o.onToolbarSetup}),e.ui.registry.addNestedMenuItem(o.name,{type:"nestedmenuitem",text:o.text,getSubmenuItems:i,onSetup:o.onMenuSetup})}function bO(e,o){return function(){e.execCommand("mceToggleFormat",!1,o)}}function FN(e){var o,i;(function(u){fl.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(g,v){u.ui.registry.addToggleButton(g.name,{tooltip:g.text,icon:g.icon,onSetup:ok(u,g.name),onAction:bO(u,g.name)})});for(var c=1;c<=6;c++){var f="h"+c;u.ui.registry.addToggleButton(f,{text:f.toUpperCase(),tooltip:"Heading "+c,onSetup:ok(u,f),onAction:bO(u,f)})}})(e),o=e,fl.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(u){o.ui.registry.addButton(u.name,{tooltip:u.text,icon:u.icon,onAction:Ys(o,u.action)})}),i=e,fl.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(u){i.ui.registry.addToggleButton(u.name,{tooltip:u.text,icon:u.icon,onAction:Ys(i,u.action),onSetup:ok(i,u.name)})})}function mk(e,o){return rk(e,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(i){i.setDisabled(e.mode.isReadOnly()||!e.undoManager[o]())})}function HN(e){var o;e.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:Ys(e,"mceToggleVisualAid")}),e.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:rk(o=e,"VisualAid",function(i){i.setActive(o.hasVisual)}),onAction:Ys(e,"mceToggleVisualAid")})}function zN(e,o){var i,u,c,f,g,v,b,C,S,O,D,R,L,I,F,z,U,M,j,K,J,pt,ut,yt,Tt,xt=e;Q([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],function(Nt){xt.ui.registry.addToggleButton(Nt.name,{tooltip:Nt.text,icon:Nt.icon,onAction:Ys(xt,Nt.cmd),onSetup:ok(xt,Nt.name)})}),xt.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:Ys(xt,"JustifyNone")}),FN(yt=e),Tt=yt,fl.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(Nt){Tt.ui.registry.addMenuItem(Nt.name,{text:Nt.text,icon:Nt.icon,shortcut:Nt.shortcut,onAction:Ys(Tt,Nt.action)})}),Tt.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:bO(Tt,"code")}),ut=xy(0,D=S=o,AT(O=C=e)),O.ui.registry.addNestedMenuItem("align",{text:D.shared.providers.translate("Align"),getSubmenuItems:function(){return ut.items.validateItems(ut.getStyleItems())}}),I=xy(0,L=S,NT(R=C)),R.ui.registry.addNestedMenuItem("fontformats",{text:L.shared.providers.translate("Fonts"),getSubmenuItems:function(){return I.items.validateItems(I.getStyleItems())}}),F=C,U=q({type:"advanced"},(z=S).styleselect),M=xy(0,z,PT(F,U)),F.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return M.items.validateItems(M.getStyleItems())}}),K=xy(0,S,MT(j=C)),j.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return K.items.validateItems(K.getStyleItems())}}),pt=xy(0,S,BT(J=C)),J.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return pt.items.validateItems(pt.getStyleItems())}}),(v=g=e).ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:mk(v,"hasUndo"),onAction:Ys(v,"undo")}),v.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:mk(v,"hasRedo"),onAction:Ys(v,"redo")}),(b=g).ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:mk(b,"hasUndo"),onAction:Ys(b,"undo")}),b.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:mk(b,"hasRedo"),onAction:Ys(b,"redo")}),(function(Nt){var Lt;(Lt=Nt).addCommand("mceApplyTextcolor",function(Fe,ln){var Sn,Vn=Fe,un=ln;(Sn=Lt).undoManager.transact(function(){Sn.focus(),Sn.formatter.apply(Vn,{value:un}),Sn.nodeChanged()})}),Lt.addCommand("mceRemoveTextcolor",function(Fe){var ln,Sn=Fe;(ln=Lt).undoManager.transact(function(){ln.focus(),ln.formatter.remove(Sn,{value:null},null,!0),ln.nodeChanged()})});var Qt=ge(Nb),pe=ge(Nb);Hp(Nt,"forecolor","forecolor","Text color",Qt),Hp(Nt,"backcolor","hilitecolor","Background color",pe),yc(Nt,"forecolor","forecolor","Text color"),yc(Nt,"backcolor","hilitecolor","Background color")})(e),HN(e),(c=e).ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:rk(f=c,"NodeChange",function(Nt){Nt.setDisabled(!f.queryCommandState("outdent"))}),onAction:Ys(c,"outdent")}),c.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:Ys(c,"indent")}),nA(i=e,GN),u=i,w.from(u.getParam("content_langs",void 0,"array")).map(function(Nt){return{name:"language",text:"Language",icon:"language",getOptions:ot(Nt),hash:function(Lt){return Ir(Lt.customCode)?Lt.code:Lt.code+"/"+Lt.customCode},display:function(Lt){return Lt.title},watcher:function(Lt,Qt,pe){return Lt.formatter.formatChanged("lang",pe,!1,{value:Qt.code,customValue:Qt.customCode}).unbind},getCurrent:function(Lt){return Ny(kt.fromDom(Lt.selection.getNode()),function(Qt){return w.some(Qt).filter(Fi).bind(function(pe){return fo(pe,"lang").map(function(Fe){return{code:Fe,customCode:fo(pe,"data-mce-lang").getOrUndefined(),title:""}})})})},setCurrent:function(Lt,Qt){return Lt.execCommand("Lang",!1,Qt)},onToolbarSetup:function(Lt){var Qt=Hf();return Lt.setActive(u.formatter.match("lang",{},void 0,!0)),Qt.set(u.formatter.formatChanged("lang",Lt.setActive,!0)),Qt.clear}}}).each(function(Nt){return nA(i,Nt)})}function OC(e,o){return{type:"makeshift",x:e,y:o}}function oA(e){return e.type==="longpress"||e.type.indexOf("touch")===0}function VN(e,o){return o.type==="contextmenu"||o.type==="longpress"?e.inline?(function(v){if(oA(v)){var b=v.touches[0];return OC(b.pageX,b.pageY)}return OC(v.pageX,v.pageY)})(o):(i=e.getContentAreaContainer(),u=(function(v){if(oA(v)){var b=v.touches[0];return OC(b.clientX,b.clientY)}return OC(v.clientX,v.clientY)})(o),c=sd.DOM.getPos(i),f=c.x,g=c.y,OC(u.x+f,u.y+g)):SA(e);var i,u,c,f,g}function rA(e,o,i){switch(i){case"node":return{type:"node",node:w.some(kt.fromDom((u=e).selection.getNode())),root:kt.fromDom(u.getBody())};case"point":return VN(e,o);case"selection":return SA(e)}var u}function jN(e,o,i,u,c,f){function g(){var R,L,I,F,z,U,M,j,K,J,pt=i();I=pt,F=u,z=c,M=!(O||C||S&&D),K=rA(R=e,L=o,j=U=f),J=q({bubble:zf(0,j==="point"?12:0,KN),layouts:XN,overrides:{maxWidthFunction:iO(),maxHeightFunction:Gc()}},K),tg(I,$i.CLOSE_ON_EXECUTE,F,!0).map(function(ut){L.preventDefault(),ro.showMenuWithinBounds(z,{anchor:J},{menu:{markers:ad("normal"),highlightImmediately:M},data:ut,type:"horizontal"},function(){return w.some(UT(R,F.shared,U==="node"?"node":"selection"))}),R.fire(JT)})}var v,b=Ca(),C=b.os.isiOS(),S=b.os.isOSX(),O=b.os.isAndroid(),D=b.deviceType.isTouch();(S||C)&&f!=="node"?(v=function(){(function(R){function L(){Ia.setEditorTimeout(R,function(){R.selection.setRng(I)},10),U()}var I=R.selection.getRng();function F(M){M.preventDefault(),M.stopImmediatePropagation()}function z(){return U()}R.once("touchend",L),R.on("mousedown",F,!0),R.once("longpresscancel",z);var U=function(){R.off("touchend",L),R.off("longpresscancel",z),R.off("mousedown",F)}})(e),g()},(function(R,L){var I=R.selection;if(!(I.isCollapsed()||L.touches.length<1)){var F=L.touches[0],z=I.getRng();return Fl(R.getWin(),fm.domRange(z)).exists(function(U){return U.left<=F.clientX&&U.right>=F.clientX&&U.top<=F.clientY&&U.bottom>=F.clientY})}})(e,o)?v():(e.once("selectionchange",v),e.once("touchend",function(){return e.off("selectionchange",v)}))):g()}function iA(e){return typeof e=="string"?e.split(/[ ,]/):e}function aA(e){return e.getParam("contextmenu_never_use_native",!1,"boolean")}function uA(e){return Tn(e)?e==="|":e.type==="separator"}function sA(e,o){if(o.length===0)return e;var i=Uu(e).filter(function(u){return!uA(u)}).fold(function(){return[]},function(u){return[CO]});return e.concat(i).concat(o).concat([CO])}function cA(e,o){return o.type!=="longpress"&&(o.button!==2||o.target===e.getBody()&&o.pointerType==="")}function lA(e,o){return cA(e,o)?e.selection.getStart(!0):o.target}function UN(e,o,i){function u(v){return ro.hide(g)}function c(v){var b;aA(e)&&v.preventDefault(),v.ctrlKey&&!aA(e)||e.getParam("contextmenu")===!1||(b=(function(C,S){var O=C.getParam("contextmenu_avoid_overlap","","string"),D=cA(C,S)?"selection":"point";if(Bc(O)){var R=lA(C,S);return dd(kt.fromDom(R),O)?"node":D}return D})(e,v),(f()?jN:function(C,S,O,D,R,L){var I=O(),F=rA(C,S,L);tg(I,$i.CLOSE_ON_EXECUTE,D,!1).map(function(z){S.preventDefault(),ro.showMenuAt(R,{anchor:F},{menu:{markers:ad("normal")},data:z})})})(e,v,function(){var C,S,O,D=lA(e,v),R=e.ui.registry.getAll(),L=(O=(S=e).ui.registry.getAll().contextMenus,w.from(S.getParam("contextmenu")).map(iA).getOrThunk(function(){return Ne(iA("link linkchecker image imagetools table spellchecker configurepermanentpen"),function(z){return ht(O,z)})})),I=R.contextMenus,F=D;return 0<(C=tr(L,function(z,U){return be(I,U.toLowerCase()).map(function(M){var j=M.update(F);if(Tn(j))return sA(z,j.split(" "));if(0<j.length){var K=Vt(j,kA);return sA(z,K)}return z}).getOrThunk(function(){return z.concat([U])})},[])).length&&uA(C[C.length-1])&&C.pop(),C},i,g,b))}var f=Ca().deviceType.isTouch,g=or(ro.sketch({dom:{tag:"div"},lazySink:o,onEscape:function(){return e.focus()},onShow:function(){return i.setContextMenuState(!0)},onHide:function(){return i.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Kt([Me("dismissContextMenu",[Rt(Mf(),function(v,b){Ze.close(v),e.focus()})])])}));e.on("init",function(){var v="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(f()?"":" ResizeWindow");e.on(v,u),e.on("longpress contextmenu",c)})}function gk(e){return function(o){return o.translate(-e.left,-e.top)}}function pk(e){return function(o){return o.translate(e.left,e.top)}}function Dd(e){return function(o,i){return tr(e,function(u,c){return c(u)},xo(o,i))}}function hk(e,o,i){return e.fold(Dd([pk(i),gk(o)]),Dd([gk(o)]),Dd([]))}function Sy(e,o,i){return e.fold(Dd([pk(i)]),Dd([]),Dd([pk(o)]))}function fA(e,o,i){return e.fold(Dd([]),Dd([gk(i)]),Dd([pk(o),gk(i)]))}function dA(e,o,i){var u=e.fold(function(c,f){return{position:w.some("absolute"),left:w.some(c+"px"),top:w.some(f+"px")}},function(c,f){return{position:w.some("absolute"),left:w.some(c-i.left+"px"),top:w.some(f-i.top+"px")}},function(c,f){return{position:w.some("fixed"),left:w.some(c+"px"),top:w.some(f+"px")}});return q({right:w.none(),bottom:w.none()},u)}function yO(e,o,i,u){function c(f,g){return function(v,b){var C=f(o,i,u);return g(v.getOr(C.left),b.getOr(C.top))}}return e.fold(c(fA,vk),c(Sy,rg),c(hk,Sh))}function mA(e,o){var i=so(e,o);return Ir(i)?NaN:parseInt(i,10)}function WN(e,o,i,u,c,f){var g,v,b,C,S,O,D=(g=i,v=u,S=mA(C=e.element,(b=o).leftAttr),O=mA(C,b.topAttr),(isNaN(S)||isNaN(O)?w.none():w.some(xo(S,O))).fold(function(){return g},function(U){return Sh(U.left+v.left,U.top+v.top)})),R=(o.mustSnap?YN:JN)(e,o,D,c,f),L=hk(D,c,f),I=o,F=L,z=e.element;return qe(z,I.leftAttr,F.left+"px"),qe(z,I.topAttr,F.top+"px"),R.fold(function(){return{coord:Sh(L.left,L.top),extra:w.none()}},function(U){return{coord:U.output,extra:U.extra}})}function gA(e,o,i,u){return eo(e,function(c){var f,g,v=c.sensor,b=c.range.left,C=c.range.top,S=Sy(o,f=i,g=u),O=Sy(v,f,g);return Math.abs(S.left-O.left)<=b&&Math.abs(S.top-O.top)<=C?w.some({output:yO(c.output,o,i,u),extra:c.extra}):w.none()})}function pA(e,o){var i;e.getSystem().addToGui(o),Xe((i=o).element).filter(Fi).each(function(u){Hn(u,"z-index").each(function(c){qe(u,SO,c)}),Ie(u,"z-index",Xr(i.element,"z-index"))})}function $N(e){Xe(e.element).filter(Fi).each(function(o){fo(o,SO).fold(function(){return vn(o,"z-index")},function(i){return Ie(o,"z-index",i)}),Lo(o,SO)}),e.getSystem().removeFromGui(e)}function hA(e,o,i){return e.getSystem().build(Dr.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[o]},events:i}))}function vA(e,o){return{bounds:e.getBounds(),height:Te(o.element),width:lt(o.element)}}function xO(e,o,i,u,c){var f=i.update(u,c),g=i.getStartData().getOrThunk(function(){return vA(o,e)});f.each(function(v){var b,C,S,O,D,R,L,I,F,z,U,M,j,K,J,pt,ut,yt,Tt,xt,Nt,Lt,Qt,pe,Fe,ln=e,Sn=g,Vn=v,un=(b=o).getTarget(ln.element);b.repositionTarget&&(C=gr(ze(ln.element)),S=Ro(un),Lt=Hn(Nt=un,"left"),Qt=Hn(Nt,"top"),pe=Hn(Nt,"position"),Fe=function(kn,Rn,Wn){return(Wn==="fixed"?Sh:vk)(parseInt(kn,10),parseInt(Rn,10))},O=(Lt.isSome()&&Qt.isSome()&&pe.isSome()?w.some(Fe(Lt.getOrDie(),Qt.getOrDie(),pe.getOrDie())):w.none()).getOrThunk(function(){var kn=li(Nt);return rg(kn.left,kn.top)}),D=ln,R=b.snaps,L=O,I=C,F=S,z=Vn,U=Sn,j=R.fold(function(){var kn,Rn,Wn=hk((kn=z.left,Rn=z.top,L.fold(function(gn,io){return vk(gn+kn,io+Rn)},function(gn,io){return rg(gn+kn,io+Rn)},function(gn,io){return Sh(gn+kn,io+Rn)})),I,F);return Sh(Wn.left,Wn.top)},function(kn){var Rn=WN(D,kn,L,z,I,F);return Rn.extra.each(function(Wn){kn.onSensor(D,Wn)}),Rn.coord}),K=I,J=F,pt=(M=U).bounds,ut=Sy(j,K,J),yt=Za(ut.left,pt.x,pt.x+pt.width-M.width),Tt=Za(ut.top,pt.y,pt.y+pt.height-M.height),xt=rg(yt,Tt),Rc(un,dA(j.fold(function(){var kn=fA(xt,K,J);return vk(kn.left,kn.top)},ot(xt),function(){var kn=hk(xt,K,J);return Sh(kn.left,kn.top)}),0,S))),b.onDrag(ln,un,Vn)})}function bA(e,o,i,u){o.each($N),i.snaps.each(function(f){var g,v;g=f,Lo(v=e.element,g.leftAttr),Lo(v,g.topAttr)});var c=i.getTarget(e.element);u.reset(),i.onDrop(e,c)}function wO(e){return function(o,i){function u(c){i.setStartData(vA(o,c))}return oo(Ge([Rt(zh(),function(c){i.getStartData().each(function(){return u(c)})})],e(o,i,u),!0))}}function yA(e,o,i){return[Rt(Bn(),function(u,c){var f,g,v,b,C;c.event.raw.button===0&&(c.stop(),v={drop:f=function(){return bA(u,w.some(b),e,o)},delayDrop:(g=Ew(f,200)).schedule,forceDrop:f,move:function(S){g.cancel(),xO(u,e,o,tB,S)}},b=hA(u,e.blockerClass,(C=v,oo([Rt(Bn(),C.forceDrop),Rt(Bf(),C.drop),Rt(Nf(),function(S,O){C.move(O.event)}),Rt(Ph(),C.delayDrop)]))),i(u),pA(u,b))})]}function xA(e,o,i){function u(f){bA(f,c.get(),e,o),c.clear()}var c=qo();return[Rt(Ka(),function(f,g){function v(){return u(f)}g.stop();var b,C,S,O=hA(f,e.blockerClass,(C=b=v,S=function(D){xO(f,e,o,EA,D)},oo([Rt(Ka(),C),Rt(ts(),b),Rt(Vr(),b),Rt(Ya(),function(D,R){S(R.event)})])));c.set(O),i(f),pA(f,O)}),Rt(Ya(),function(f,g){g.stop(),xO(f,e,o,EA,g.event)}),Rt(ts(),function(f,g){g.stop(),u(f)}),Rt(Vr(),u)]}function wA(e,o,i,u,c,f){return e.fold(function(){return kh.snap({sensor:rg(i-20,u-20),range:xo(c,f),output:rg(w.some(i),w.some(u)),extra:{td:o}})},function(g){var v=i-20,b=u-20,C=g.element.dom.getBoundingClientRect();return kh.snap({sensor:rg(v,b),range:xo(40,40),output:rg(w.some(i-C.width/2),w.some(u-C.height/2)),extra:{td:o}})})}function CA(e,o,i){return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(u,c){var f=c.td,g=o.get(),v=f;g.exists(function(b){return Be(b,v)})||(o.set(f),i(f))},mustSnap:!0}}function _A(e){return _n(pi.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Kt([kh.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),eg.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))}function qN(e,o){function i(U){var M=Ss(U);return wA(L.getOpt(o),U,M.x,M.y,M.width,M.height)}function u(U){var M=Ss(U);return wA(I.getOpt(o),U,M.right,M.bottom,M.width,M.height)}function c(U,M,j,K){var J=j(M);kh.snapTo(U,J),(function(pt){var ut=M.dom.getBoundingClientRect();vn(pt.element,"display");var yt=Gn(kt.fromDom(e.getBody())).dom.innerHeight,Tt=ut[K]<0,xt=ut[K]>yt;(Tt||xt)&&Ie(pt.element,"display","none")})(U)}function f(U){return c(F,U,i,"top")}function g(U){return c(z,U,u,"bottom")}var v=ge([]),b=ge([]),C=ge(!1),S=qo(),O=qo(),D=CA(function(){return Vt(v.get(),i)},S,function(U){O.get().each(function(M){e.fire("TableSelectorChange",{start:U,finish:M})})}),R=CA(function(){return Vt(b.get(),u)},O,function(U){S.get().each(function(M){e.fire("TableSelectorChange",{start:M,finish:U})})}),L=_A(D),I=_A(R),F=or(L.asSpec()),z=or(I.asSpec());Ca().deviceType.isTouch()&&(e.on("TableSelectionChange",function(U){C.get()||(Hl(o,F),Hl(o,z),C.set(!0)),S.set(U.start),O.set(U.finish),U.otherCells.each(function(M){v.set(M.upOrLeftCells),b.set(M.downOrRightCells),f(U.start),g(U.finish)})}),e.on("ResizeEditor ResizeWindow ScrollContent",function(){S.get().each(f),O.get().each(g)}),e.on("TableSelectionClear",function(){C.get()&&(zl(F),zl(z),C.set(!1)),S.clear(),O.clear()}))}var _h,ky,GN={name:"lineheight",text:"Line height",icon:"line-height",getOptions:function(e){return e.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},hash:function(e){return o=["fixed","relative","empty"],w.from(LN.exec(e)).bind(function(i){var u=Number(i[1]),c=i[2],f=c;return mr(o,function(g){return mr(IN[g],function(v){return f===v})})?w.some({value:u,unit:c}):w.none()}).map(function(i){return i.value+i.unit}).getOr(e);var o},display:ne,watcher:function(e,o,i){return e.formatter.formatChanged("lineheight",i,!1,{value:o}).unbind},getCurrent:function(e){return w.from(e.queryCommandValue("LineHeight"))},setCurrent:function(e,o){return e.execCommand("LineHeight",!1,o)}},SA=function(e){return{type:"selection",root:kt.fromDom(e.selection.getNode())}},XN={onLtr:function(){return[gi,hr,Tr,da,ma,ti,ds,Nu,nd,pp,Sm,gp]},onRtl:function(){return[gi,Tr,hr,ma,da,ti,ds,Nu,Sm,gp,nd,pp]}},KN={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},CO={type:"separator"},kA=function(e){function o(u){return{text:u.text,icon:u.icon,disabled:u.disabled,shortcut:u.shortcut}}var i;if(Tn(e))return e;switch(e.type){case"separator":return CO;case"submenu":return q(q({type:"nestedmenuitem"},o(e)),{getSubmenuItems:function(){var u=e.getSubmenuItems();return Tn(u)?u:Vt(u,kA)}});default:return q(q({type:"menuitem"},o(e)),{onAction:(i=e.onAction,function(){return i()})})}},_O=jo([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),vk=_O.offset,rg=_O.absolute,Sh=_O.fixed,YN=function(e,o,i,u,c){var f=o.getSnapPoints(e);return gA(f,i,u,c).orThunk(function(){return tr(f,function(g,v){var b,C,S,O,D,R,L,I=(b=v.sensor,v.range.left,v.range.top,O=Sy(i,C=u,S=c),D=Sy(b,C,S),R=Math.abs(O.left-D.left),L=Math.abs(O.top-D.top),xo(R,L));return g.deltas.fold(function(){return{deltas:w.some(I),snap:w.some(v)}},function(F){return(I.left+I.top)/2<=(F.left+F.top)/2?{deltas:w.some(I),snap:w.some(v)}:g})},{deltas:w.none(),snap:w.none()}).snap.map(function(g){return{output:yO(g.output,i,u,c),extra:g.extra}})})},JN=function(e,o,i,u,c){return gA(o.getSnapPoints(e),i,u,c)},QN=Object.freeze({__proto__:null,snapTo:function(e,o,i,u){var c,f,g,v=o.getTarget(e.element);o.repositionTarget&&(c=gr(ze(e.element)),f=Ro(v),Rc(v,dA({coord:yO((g=u).output,g.output,c,f),extra:g.extra}.coord,0,f)))}}),SO="data-initial-z-index",ZN=ia("snaps",[Bt("getSnapPoints"),yn("onSensor"),Bt("leftAttr"),Bt("topAttr"),rt("lazyViewport",na),rt("mustSnap",!1)]),kO=[rt("useFixed",Je),Bt("blockerClass"),rt("getTarget",ne),rt("onDrag",Xt),rt("repositionTarget",!0),rt("onDrop",Xt),co("getBounds",na),ZN],tB=Object.freeze({__proto__:null,getData:function(e){return w.from(xo(e.x,e.y))},getDelta:function(e,o){return xo(o.left-e.left,o.top-e.top)}}),eB=Ge(Ge([],kO,!0),[Re("dragger",{handlers:wO(yA)})],!1),EA=Object.freeze({__proto__:null,getData:function(e){var o,i=e.raw.touches;return i.length===1?(o=i[0],w.some(xo(o.clientX,o.clientY))):w.none()},getDelta:function(e,o){return xo(o.left-e.left,o.top-e.top)}}),nB=Ge(Ge([],kO,!0),[Re("dragger",{handlers:wO(xA)})],!1),oB=Ge(Ge([],kO,!0),[Re("dragger",{handlers:wO(function(e,o,i){return Ge(Ge([],yA(e,o,i),!0),xA(e,o,i),!0)})})],!1),kh=$C({branchKey:"mode",branches:Object.freeze({__proto__:null,mouse:eB,touch:nB,mouseOrTouch:oB}),name:"dragging",active:{events:function(e,o){return e.dragger.handlers(e,o)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:w.from(e.extra)}}},state:Object.freeze({__proto__:null,init:function(){var e=w.none(),o=w.none(),i=ot({});return ca({readState:i,reset:function(){e=w.none(),o=w.none()},update:function(u,c){return u.getData(c).bind(function(f){return g=u,v=f,b=e.map(function(C){return g.getDelta(C,v)}),e=w.some(v),b;var g,v,b})},getStartData:function(){return o},setStartData:function(u){o=w.some(u)}})}}),apis:QN});function OA(e,o,i){var u,c,f,g,v,b,C=kt.fromDom(e.getContainer());Qn((u=e,c=o,f=i,g=ur(C),v=Ct(C),(b={}).height=sk(g+c.top,T1(u),gb(u)),f===_h.Both&&(b.width=sk(v+c.left,O1(u),mb(u))),b),function(S,O){return Ie(C,O,lO(S)),0}),e.fire("ResizeEditor")}function bk(e,o,i,u){return OA(e,xo(20*i,20*u),o),w.some(!0)}function rB(e,o){var i,u,c,f,g,v,b,C,S,O,D,R,L,I,F,z;return{dom:{tag:"div",classes:["tox-statusbar"]},components:(z=[],e.getParam("elementpath",!0,"boolean")&&z.push((L=e,F=o,(I={}).delimiter||(I.delimiter="\xBB"),{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Kt([ve.config({mode:"flow",selector:"div[role=button]"}),he.config({disabled:F.isDisabled}),ir(),Bo.config({}),Le.config({}),Me("elementPathEvents",[$o(function(M,j){L.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return ve.focusIn(M)}),L.on("NodeChange",function(K){var J,pt,ut=(function(yt){for(var Tt=[],xt=yt.length;0<xt--;){var Nt=yt[xt];if(Nt.nodeType===1&&!(function(Qt){if(Qt.nodeType===1&&(Qt.nodeName==="BR"||Qt.getAttribute("data-mce-bogus")||Qt.getAttribute("data-mce-type")==="bookmark"))return 1})(Nt)){var Lt=L.fire("ResolveName",{name:Nt.nodeName.toLowerCase(),target:Nt});if(Lt.isDefaultPrevented()||Tt.push({name:Lt.name,element:Nt}),Lt.isPropagationStopped())break}}return Tt})(K.parents);0<ut.length?Le.set(M,(J=Vt(ut||[],function(yt,Tt){return pi.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":Tt,"tab-index":-1,"aria-level":Tt+1},innerHtml:yt.name},action:function(xt){L.focus(),L.selection.select(yt.element),L.nodeChanged()},buttonBehaviours:Kt([rl(F.isDisabled),ir()])})}),pt={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+I.delimiter+" "}},tr(J.slice(1),function(yt,Tt){var xt=yt;return xt.push(pt),xt.push(Tt),xt},[J[0]]))):Le.set(M,[])})})])]),components:[]})),e.hasPlugin("wordcount")&&z.push((O=e,D=o,pi.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Kt([rl(D.isDisabled),ir(),Bo.config({}),Le.config({}),Zt.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Me("wordcount-events",[Ms(function(M){var j=Zt.getValue(M),K=j.mode==="words"?"characters":"words";Zt.setValue(M,{mode:K,count:j.count}),U(M,j.count,K)}),$o(function(M){O.on("wordCountUpdate",function(j){var K=Zt.getValue(M).mode;Zt.setValue(M,{mode:K,count:j.wordCount}),U(M,j.wordCount,K)})})])]),eventOrder:((R={})[Na()]=["disabling","alloy.base.behaviour","wordcount-events"],R)}))),e.getParam("branding",!0,"boolean")&&z.push({dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+(S=ou.translate(["Powered by {0}","Tiny"]))+'">'+S+"</a>"}}),i=0<z.length?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:z}]:[],f=o,v=!(g=c=e).hasPlugin("autoresize"),u=(C=(b=g.getParam("resize",v))===!1?_h.None:b==="both"?_h.Both:_h.Vertical)===_h.None?w.none():w.some(Bu("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:f.translate("Resize")},behaviours:[kh.config({mode:"mouse",repositionTarget:!1,onDrag:function(M,j,K){return OA(c,K,C)},blockerClass:"tox-blocker"}),ve.config({mode:"special",onLeft:function(){return bk(c,C,-1,0)},onRight:function(){return bk(c,C,1,0)},onUp:function(){return bk(c,C,0,-1)},onDown:function(){return bk(c,C,0,1)}}),Bo.config({}),De.config({})]},f.icons)),i.concat(u.toArray()))};function U(M,j,K){return Le.set(M,[Uc(D.translate(["{0} "+K,j[K]]))])}}function iB(e){function o(){return Wn.bind(Zo.getHeader)}function i(){return Ee.value(U)}function u(){return Wn.bind(function(en){return Zo.getThrobber(en)}).getOrDie("Could not find throbber element")}var c,f,g,v,b=e.inline,C=b?MN:RN,S=xb(e)?UD:zD,Wn=w.none(),O=Ca(),D=O.browser.isIE()?["tox-platform-ie"]:[],R=O.deviceType.isTouch()?["tox-platform-touch"]:[],L=L1(e),I=F1(e),F=ou.isRtl()?{attributes:{dir:"rtl"}}:{},z={attributes:((c={})[Ig]=L?Fs.BottomToTop:Fs.TopToBottom,c)},U=or((f=Be(Yr(),I)&&Xr(I,"display")==="grid",g={dom:q({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(D).concat(R)},F),behaviours:Kt([Ri.config({useFixed:function(){return S.isDocked(o)}})])},v={dom:{styles:{width:document.body.clientWidth+"px"}},events:oo([Rt(fc(),function(){Ie(He.element,"width",document.body.clientWidth+"px")})])},ee(g,f?v:{}))),M=_n({dom:{tag:"div",classes:["tox-anchorbar"]}}),j=Se(U,e,function(){return Wn.bind(function(en){return M.getOpt(en)}).getOrDie("Could not find a anchor bar element")}),K=Zo.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:j,onEscape:function(){e.focus()}}),J=Hm(e),pt=Zo.parts.toolbar(q({dom:{tag:"div",classes:["tox-toolbar"]},getSink:i,providers:j.shared.providers,onEscape:function(){e.focus()},type:J,lazyToolbar:function(){return Wn.bind(function(en){return Zo.getToolbar(en)}).getOrDie("Could not find more toolbar element")},lazyHeader:function(){return o().getOrDie("Could not find header element")}},z)),ut=Zo.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:j.shared.providers,onEscape:function(){e.focus()},type:J}),yt=Zo.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Tt=Zo.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),xt=Zo.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:j}),Nt=e.getParam("statusbar",!0,"boolean")&&!b?w.some(rB(e,j.shared.providers)):w.none(),Lt={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[yt,Tt]},Qt=Dp(e),pe=Qx(e),Fe=Rm(e),ln=Zo.parts.header({dom:q({tag:"div",classes:["tox-editor-header"]},z),components:Jn([Fe?[K]:[],Qt?[ut]:pe?[pt]:[],Np(e)?[]:[M.asSpec()]]),sticky:xb(e),editor:e,sharedBackstage:j.shared}),Sn=Jn([L?[]:[ln],b?[]:[Lt],L?[ln]:[]]),Vn=Jn([[{dom:{tag:"div",classes:["tox-editor-container"]},components:Sn}],b?[]:Nt.toArray(),[xt]]),un=iw(e),kn=q(q({role:"application"},ou.isRtl()?{dir:"rtl"}:{}),un?{"aria-hidden":"true"}:{}),Rn=or(Zo.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(b?["tox-tinymce-inline"]:[]).concat(L?["tox-tinymce--toolbar-bottom"]:[]).concat(R).concat(D),styles:q({visibility:"hidden"},un?{opacity:"0",border:"0"}:{}),attributes:kn},components:Vn,behaviours:Kt([ir(),he.config({disableClass:"tox-tinymce--disabled"}),ve.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])})),Wn=w.some(Rn);e.shortcuts.add("alt+F9","focus menubar",function(){Zo.focusMenubar(Rn)}),e.shortcuts.add("alt+F10","focus toolbar",function(){Zo.focusToolbar(Rn)}),e.addCommand("ToggleToolbarDrawer",function(){Zo.toggleToolbarDrawer(Rn)}),e.addQueryStateHandler("ToggleToolbarDrawer",function(){return Zo.isToolbarDrawerToggled(Rn)});var gn,io,Br,Pi,Xi,ao,cu,Mo,In,Gt=iS(Rn),He=iS(U);function jn(){var en,xa,Yi,Ac,df,mf,Nd=lO((Ac=fb(Yi=xa=e),df=T1(Yi),mf=gb(Yi),cO(Ac).map(function(Oh){return sk(Oh,df,mf)}).getOr(fb(xa)))),Eh=lO(HT(en=e).getOr(db(en)));return e.inline||(Ci("div","width",Eh)&&Ie(Rn.element,"width",Eh),Ci("div","height",Nd)?Ie(Rn.element,"height",Nd):Ie(Rn.element,"height","200px")),Nd}return gn=e,io=Gt,Br=He,Pi=Ky(),Xi=rr(Pi,"touchstart",Ki),ao=rr(Pi,"touchmove",function(en){return Yn(kk(),en)}),cu=rr(Pi,"touchend",function(en){return Yn(Al(),en)}),Mo=rr(Pi,"mousedown",Ki),In=rr(Pi,"mouseup",function(en){en.raw.button===0&&ho(Cv(),{target:en.target})}),gn.on("PostRender",function(){gn.on("click",fr),gn.on("tap",fr),gn.on("mouseup",xr),gn.on("mousedown",vi),gn.on("ScrollWindow",Ur),gn.on("ResizeWindow",Rr),gn.on("ResizeEditor",Mr),gn.on("AfterProgressState",wr),gn.on("DismissPopups",xs)}),gn.on("remove",function(){gn.off("click",fr),gn.off("tap",fr),gn.off("mouseup",xr),gn.off("mousedown",vi),gn.off("ScrollWindow",Ur),gn.off("ResizeWindow",Rr),gn.off("ResizeEditor",Mr),gn.off("AfterProgressState",wr),gn.off("DismissPopups",xs),Mo.unbind(),Xi.unbind(),ao.unbind(),cu.unbind(),In.unbind()}),gn.on("detach",function(){jg(io),jg(Br),io.destroy(),Br.destroy()}),{mothership:Gt,uiMothership:He,backstage:j,renderUI:function(){var en,xa;S.setup(e,j.shared,o),zN(e,j),UN(e,i,j),xa=(en=e).ui.registry.getAll().sidebars,Q(_t(xa),function(pl){function hl(){return no(w.from(en.queryCommandValue("ToggleSidebar")),pl)}var xk=xa[pl];en.ui.registry.addToggleButton(pl,{icon:xk.icon,tooltip:xk.tooltip,onAction:function(Ty){en.execCommand("ToggleSidebar",!1,pl),Ty.setActive(hl())},onSetup:function(Ty){function DC(){return Ty.setActive(hl())}return en.on("ToggleSidebar",DC),function(){en.off("ToggleSidebar",DC)}}})}),wD(e,u,j.shared),ko(e.getParam("toolbar_groups",{},"object"),function(pl,hl){e.ui.registry.addGroupToolbarButton(hl,pl)});var Yi,Ac=e.ui.registry.getAll(),df=Ac.buttons,mf=Ac.menuItems,Nd=Ac.contextToolbars,Eh=Ac.sidebars,Oh=Mm(e),AC={menuItems:mf,menus:(Yi=e.getParam("menu"))?ko(Yi,function(pl){return q(q({},pl),{items:pl.items})}):{},menubar:e.getParam("menubar"),toolbar:Oh.getOrThunk(function(){return e.getParam("toolbar",!0)}),allowToolbarGroups:J===Wi.floating,buttons:df,sidebar:Eh};_N(e,Nd,U,{backstage:j}),qN(e,U);var gf=e.getElement(),Oy=jn();return C.render(e,{mothership:Gt,uiMothership:He,outerContainer:Rn},AC,j,{targetNode:gf,height:Oy})},getUi:function(){return{channels:{broadcastAll:He.broadcast,broadcastOn:He.broadcastOn,register:Xt}}}};function Yn(en,xa){Q([io,Br],function(Yi){Yi.broadcastEvent(en,xa)})}function ho(en,xa){Q([io,Br],function(Yi){Yi.broadcastOn([en],xa)})}function Ki(en){return ho(Jc(),{target:en.target})}function fr(en){return ho(Jc(),{target:kt.fromDom(en.target)})}function xr(en){en.button===0&&ho(Cv(),{target:kt.fromDom(en.target)})}function vi(){Q(gn.editorManager.get(),function(en){gn!==en&&en.fire("DismissPopups",{relatedTarget:gn})})}function Ur(en){return Yn(zh(),c0(en))}function Rr(en){ho(Jf(),{}),Yn(fc(),c0(en))}function Mr(){return ho(Jf(),{})}function wr(en){en.state&&ho(Jc(),{target:kt.fromDom(gn.getContainer())})}function xs(en){ho(Jc(),{target:kt.fromDom(en.relatedTarget.getContainer())})}}function EO(e){return Qo("items","items",oe(),ka(Ga(function(o){return go("Checking item of "+e,MO,o).fold(function(i){return Ee.error(sa(i))},function(i){return Ee.value(i)})})))}function aB(e){return Tn(e.type)&&Tn(e.name)}function TA(e){return{internalDialog:Ju(go("dialog",hR,e)),dataValidator:(o=on(Ne(PO(e),aB),function(i){return w.from(yR[i.type]).fold(function(){return[]},function(u){return[mi(i.name,u)]})}),ce(o)),initialData:e.initialData};var o}function AA(e){var o=[],i={};return Qn(e,function(u,c){u.fold(function(){o.push(c)},function(f){i[c]=f})}),0<o.length?Ee.error(o):Ee.value(i)}function DA(e,o){Ie(e,"height",o+"px"),Ca().browser.isIE()?vn(e,"flex-basis"):Ie(e,"flex-basis",o+"px")}function yk(e,o,i){Rl(e,'[role="dialog"]').each(function(u){pr(u,'[role="tablist"]').each(function(c){i.get().map(function(f){return Ie(o,"height","0"),Ie(o,"flex-basis","0"),Math.min(f,(v=o,b=c,C=qn(g=u).dom,S=Xr(Rl(g,".tox-dialog-wrap").getOr(g),"position")==="fixed"?Math.max(C.clientHeight,window.innerHeight):Math.max(C.offsetHeight,C.scrollHeight),O=ur(v),D=v.dom.offsetLeft>=b.dom.offsetLeft+Ct(b)?Math.max(ur(b),O):O,R=parseInt(Xr(g,"margin-top"),10)||0,L=parseInt(Xr(g,"margin-bottom"),10)||0,S-(ur(g)+R+L-D)));var g,v,b,C,S,O,D,R,L}).each(function(f){DA(o,f)})})})}function OO(e){return pr(e,'[role="tabpanel"]')}function uB(e,o){function i(S){var O=AA(Zt.getValue(S)).getOr({}),D=g.get(),R=ee(D,O);g.set(R)}function u(S){var O=g.get();Zt.setValue(S,O)}var c,f,g=ge({}),v=ge(null),b=Vt(e.tabs,function(S){return{value:S.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:o.shared.providers.translate(S.title)},view:function(){return[Lu.sketch(function(O){return{dom:{tag:"div",classes:["tox-form"]},components:Vt(S.items,function(D){return It(O,D,o)}),formBehaviours:Kt([ve.config({mode:"acyclic",useTabstopAt:Io(ch)}),Me("TabView.form.events",[$o(u),os(i)]),tu.config({channels:kl([{key:rD,value:{onReceive:i}},{key:iD,value:{onReceive:u}}])})])}})]}}}),C=(c=b,f=qo(),{extraEvents:[$o(function(S){var O=S.element;OO(O).each(function(D){var R;Ie(D,"visibility","hidden"),S.getSystem().getByDom(D).toOptional().each(function(L){var I,F,z;si(Ua((F=D,z=L,Vt(I=c,function(U,M){Le.set(z,I[M].view());var j=F.dom.getBoundingClientRect();return Le.set(z,[]),j.height})),function(U,M){return M<U?-1:U<M?1:0})).fold(f.clear,f.set)}),yk(O,D,f),vn(D,"visibility"),R=S,si(c).each(function(L){return Ey.showTab(R,L.value)}),Ia.requestAnimationFrame(function(){yk(O,D,f)})})}),Rt(fc(),function(S){var O=S.element;OO(O).each(function(D){yk(O,D,f)})}),Rt(qp,function(S,O){var D=S.element;OO(D).each(function(R){var L=Qa(_a(R));Ie(R,"visibility","hidden");var I=Hn(R,"height").map(function(z){return parseInt(z,10)});vn(R,"height"),vn(R,"flex-basis");var F=R.dom.getBoundingClientRect().height;I.forall(function(z){return z<F})?(f.set(F),yk(D,R,f)):I.each(function(z){DA(R,z)}),vn(R,"visibility"),L.each(dc)})})],selectFirst:!1});return Ey.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(S,O,D){var R=Zt.getValue(O);we(S,Nw,{name:R,oldName:v.get()}),v.set(R)},tabs:b,components:[Ey.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[oD.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Kt([Bo.config({})])}),Ey.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:C.selectFirst,tabSectionBehaviours:Kt([Me("tabpanel",C.extraEvents),ve.config({mode:"acyclic"}),an.config({find:function(S){return si(Ey.getViewItems(S))}}),Zt.config({store:{mode:"manual",getValue:function(S){return S.getSystem().broadcastOn([rD],{}),g.get()},setValue:function(S,O){g.set(O),S.getSystem().broadcastOn([iD],{})}}})])})}function NA(e,o,i,u){return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:q(q({},o.map(function(c){return{id:c}}).getOr({})),u?{"aria-live":"polite"}:{})},components:[],behaviours:Kt([sf(0),Fu.config({channel:uD,updateState:function(c,f){return w.some({isTabPanel:function(){return f.body.type==="tabpanel"}})},renderComponents:function(c){return c.body.type!=="tabpanel"?[(f=c.body,g=i,{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[(v=_n(Lu.sketch(function(b){return{dom:{tag:"div",classes:["tox-form"].concat(f.classes)},components:Vt(f.items,function(C){return It(b,C,g)})}}))).asSpec()]}],behaviours:Kt([ve.config({mode:"acyclic",useTabstopAt:Io(ch)}),YS(v),JS(v,{postprocess:function(b){return AA(b).fold(function(C){return console.error(C),{}},ne)}})])})]:[uB(c.body,i)];var f,g,v},initialData:e})])}}function BA(e,o){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,o]}}function RA(e,o){return Nr.parts.close(pi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":o.translate("Close")}},action:e,buttonBehaviours:Kt([Bo.config({})])}))}function MA(){return Nr.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})}function PA(e,o){return Nr.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:bc("<p>"+p1(o.translate(e))+"</p>")}]}]})}function IA(e){return Nr.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})}function LA(e,o){return[Dr.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),Dr.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:o})]}function TO(e){var o,i="tox-dialog",u=i+"-wrap",c=u+"__backdrop",f=i+"__disable-scroll";return Nr.sketch({lazySink:e.lazySink,onEscape:function(g){return e.onEscape(g),w.some(!0)},useTabstopAt:function(g){return!ch(g)},dom:{tag:"div",classes:[i].concat(e.extraClasses),styles:q({position:"relative"},e.extraStyles)},components:Ge([e.header,e.body],e.footer.toArray(),!0),parts:{blocker:{dom:bc('<div class="'+u+'"></div>'),components:[{dom:{tag:"div",classes:ER?[c,c+"--opaque"]:[c]}}]}},dragBlockClass:u,modalBehaviours:Kt(Ge([De.config({}),Me("dialog-events",e.dialogEvents.concat([Tf(Wc(),function(g,v){ve.focusIn(g)})])),Me("scroll-lock",[$o(function(){zr(Yr(),f)}),os(function(){sr(Yr(),f)})])],e.extraBehaviours,!0)),eventOrder:q(((o={})[Na()]=["dialog-events"],o[_o()]=["scroll-lock","dialog-events","alloy.base.behaviour"],o[Rs()]=["alloy.base.behaviour","dialog-events","scroll-lock"],o),e.eventOrder)})}function FA(e){return pi.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[Bu("close",{tag:"div",classes:["tox-icon"]},e.icons)],action:function(o){fn(o,Ql)}})}function HA(e,o,i){function u(c){return[Uc(i.translate(c.title))]}return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:q({},o.map(function(c){return{id:c}}).getOr({}))},components:u(e),behaviours:Kt([Fu.config({channel:aD,renderComponents:u})])}}function zA(){return{dom:bc('<div class="tox-dialog__draghandle"></div>')}}function VA(e,o){return i={title:o.shared.providers.translate(e),draggable:o.dialog.isDraggableModal()},u=o.shared.providers,c=Nr.parts.title(HA(i,w.none(),u)),f=Nr.parts.draghandle(zA()),g=Nr.parts.close(FA(u)),v=[c].concat(i.draggable?[f]:[]).concat([g]),Dr.sketch({dom:bc('<div class="tox-dialog__header"></div>'),components:v});var i,u,c,f,g,v}function jA(e,o,i){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(e)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:o,components:[{dom:bc('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}function UA(e,o,i){return{onClose:function(){return i.closeWindow()},onBlock:function(u){Nr.setBusy(e(),function(c,f){return jA(u.message,f,o)})},onUnblock:function(){Nr.setIdle(e())}}}function WA(e,o,i,u){var c;return or(TO(q(q({},e),{lazySink:u.shared.getSink,extraBehaviours:Ge([Fu.config({channel:IO,updateState:function(f,g){return w.some(g)},initialData:o}),_d({})],e.extraBehaviours,!0),onEscape:function(f){fn(f,Ql)},dialogEvents:i,eventOrder:((c={})[Tl()]=[Fu.name(),tu.name()],c[_o()]=["scroll-lock",Fu.name(),"messages","dialog-events","alloy.base.behaviour"],c[Rs()]=["alloy.base.behaviour","dialog-events","messages",Fu.name(),"scroll-lock"],c)})))}function $A(e){return Vt(e,function(o){return o.type==="menu"?(u=Vt((i=o).items,function(c){var f=ge(!1);return q(q({},c),{storage:f})}),q(q({},i),{items:u})):o;var i,u})}function qA(e){return tr(e,function(o,i){return i.type!=="menu"?o:tr(i.items,function(u,c){return u[c.name]=c.storage,u},o)},{})}function GA(e,o){return[Kd(Wc(),AE),e(Gm,function(i,u){o.onClose(),u.onClose()}),e(Ql,function(i,u,c,f){u.onCancel(i),fn(f,Gm)}),Rt(Pb,function(i,u){return o.onUnblock()}),Rt(Xm,function(i,u){return o.onBlock(u.event)})]}function sB(e,o){function i(c,f){return Dr.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+c]},components:Vt(f,function(g){return g.memento.asSpec()})})}var u=Cr(o.map(function(c){return c.footerButtons}).getOr([]),function(c){return c.align==="start"});return[i("start",u.pass),i("end",u.fail)]}function XA(e,o){return{dom:bc('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Kt([Fu.config({channel:sD,initialData:e,updateState:function(i,u){var c=Vt(u.buttons,function(f){var g=_n(Sc(f,f.type,o));return{name:f.name,align:f.align,memento:g}});return w.some({lookupByName:function(f,g){return v=f,b=g,uo(c,function(C){return C.name===b}).bind(function(C){return C.memento.getOpt(v)});var v,b},footerButtons:c})},renderComponents:sB})])}}function KA(e,o){return Nr.parts.footer(XA(e,o))}function AO(e,o){if(e.getRoot().getSystem().isConnected()){var i=an.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return Lu.getField(i,o).fold(function(){var u=e.getFooter();return Fu.getState(u).get().bind(function(c){return c.lookupByName(i,o)})},function(u){return w.some(u)})}return w.none()}function YA(e,o,i){function u(f){var g=e.getRoot();g.getSystem().isConnected()&&f(g)}var c={getData:function(){var f=e.getRoot(),g=f.getSystem().isConnected()?e.getFormWrapper():f,v=Zt.getValue(g),b=ko(i,function(C){return C.get()});return q(q({},v),b)},setData:function(f){u(function(g){var v,b,C=c.getData(),S=q(q({},C),f),O=(v=S,b=e.getRoot(),Fu.getState(b).get().map(function(R){return Ju(go("data",R.dataValidator,v))}).getOr(v)),D=e.getFormWrapper();Zt.setValue(D,O),Qn(i,function(R,L){ht(S,L)&&R.set(S[L])})})},disable:function(f){AO(e,f).each(he.disable)},enable:function(f){AO(e,f).each(he.enable)},focus:function(f){AO(e,f).each(De.focus)},block:function(f){if(!Tn(f))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(function(g){we(g,Xm,{message:f})})},unblock:function(){u(function(f){fn(f,Pb)})},showTab:function(f){u(function(g){var v=e.getBody();Fu.getState(v).get().exists(function(b){return b.isTabPanel()})&&an.getCurrent(v).each(function(b){Ey.showTab(b,f)})})},redial:function(f){u(function(g){var v=o(f);g.getSystem().broadcastOn([IO],v),g.getSystem().broadcastOn([aD],v.internalDialog),g.getSystem().broadcastOn([uD],v.internalDialog),g.getSystem().broadcastOn([sD],v.internalDialog),c.setData(v.initialData)})},close:function(){u(function(f){fn(f,Gm)})}};return c}function JA(e){return Jt(e)&&AR.indexOf(e.mceAction)!==-1}function cB(e,o,i,u){var c,f,g,v=VA(e.title,u),b=(f={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[Ha({dom:{tag:"iframe",attributes:{src:e.url}},behaviours:Kt([Bo.config({}),De.config({})])})]}],behaviours:Kt([ve.config({mode:"acyclic",useTabstopAt:Io(ch)})])},Nr.parts.body(f)),C=e.buttons.bind(function(M){return M.length===0?w.none():w.some(KA({buttons:M},u))}),S=OR(function(){return z},UA(function(){return F},u.shared.providers,o)),O=q(q({},e.height.fold(function(){return{}},function(M){return{height:M+"px","max-height":M+"px"}})),e.width.fold(function(){return{}},function(M){return{width:M+"px","max-width":M+"px"}})),D=e.width.isNone()&&e.height.isNone()?["tox-dialog--width-lg"]:[],R=new LO(e.url,{base_uri:new LO(window.location.href)}),L=R.protocol+"://"+R.host+(R.port?":"+R.port:""),I=Hf(),F=WA({header:v,body:b,footer:C,extraClasses:D,extraBehaviours:[Me("messages",[$o(function(){var M=rr(kt.fromDom(window),"message",function(j){var K,J;R.isSameOrigin(new LO(j.raw.origin))&&(JA(K=j.raw.data)?(function(pt,ut,yt){switch(yt.mceAction){case"insertContent":pt.insertContent(yt.content);break;case"setContent":pt.setContent(yt.content);break;case"execCommand":var Tt=!!yi(yt.ui)&&yt.ui;pt.execCommand(yt.cmd,Tt,yt.value);break;case"close":ut.close();break;case"block":ut.block(yt.message);break;case"unblock":ut.unblock()}})(i,z,K):!JA(J=K)&&Jt(J)&&ht(J,"mceAction")&&e.onMessage(z,K))});I.set(M)}),os(I.clear)]),tu.config({channels:((c={})[cD]={onReceive:function(M,j){pr(M.element,"iframe").each(function(K){K.dom.contentWindow.postMessage(j,L)})}},c)})],extraStyles:O},e,S,u),z={block:function(M){if(!Tn(M))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");U(function(j){we(j,Xm,{message:M})})},unblock:function(){U(function(M){fn(M,Pb)})},close:function(){U(function(M){fn(M,Gm)})},sendMessage:function(M){U(function(j){j.getSystem().broadcastOn([cD],M)})}};function U(M){g.getSystem().isConnected()&&M(g)}return{dialog:g=F,instanceApi:z}}function lB(e){function o(D,R){return TC.open(function(L,I,F){var z,U,M,j,K,J,pt,ut,yt,Tt,xt,Nt,Lt,Qt,pe=I,Fe=(U={redial:TC.redial,closeWindow:function(){Nr.hide(Fe.dialog),R(Fe.instanceApi)}},M=v,J=VA((z={dataValidator:F,initialData:pe,internalDialog:L}).internalDialog.title,M),j=M,K=NA({body:z.internalDialog.body},w.none(),j,!1),pt=Nr.parts.body(K),ut=$A(z.internalDialog.buttons),yt=qA(ut),Tt=KA({buttons:ut},M),xt=lD(function(){return Qt},UA(function(){return Lt},M.shared.providers,U),M.shared.getSink),Nt=(function(){switch(z.internalDialog.size){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}})(),Lt=WA({header:J,body:pt,footer:w.some(Tt),extraClasses:Nt,extraBehaviours:[],extraStyles:{}},z,xt,M),Qt=YA({getRoot:ot(Lt),getBody:function(){return Nr.getBody(Lt)},getFooter:function(){return Nr.getFooter(Lt)},getFormWrapper:function(){var ln=Nr.getBody(Lt);return an.getCurrent(ln).getOr(ln)}},U.redial,yt),{dialog:Lt,instanceApi:Qt});return Nr.show(Fe.dialog),Fe.instanceApi.setData(pe),Fe.instanceApi},D)}function i(D,R,L,I){return TC.open(function(F,z,U){function M(){return Xi.on(function(In){ro.reposition(In),ya.refresh(In)})}var j,K,J,pt,ut,yt,Tt,xt,Nt,Lt,Qt,pe,Fe,ln,Sn,Vn,un,kn,Rn,Wn,gn,io,Br,Pi=Ju(go("data",U,z)),Xi=qo(),ao=v.shared.header.isPositionedAtTop(),cu=(K={dataValidator:U,initialData:Pi,internalDialog:F},J={redial:TC.redial,closeWindow:function(){Xi.on(ro.hide),b.off("ResizeEditor",M),Xi.clear(),L(cu.instanceApi)}},pt=v,ut=I,ln=fe("dialog-label"),Sn=fe("dialog-content"),Vn=_n((xt={title:K.internalDialog.title,draggable:!0},Nt=ln,Lt=pt.shared.providers,Dr.sketch({dom:bc('<div class="tox-dialog__header"></div>'),components:[HA(xt,w.some(Nt),Lt),zA(),FA(Lt)],containerBehaviours:Kt([kh.config({mode:"mouse",blockerClass:"blocker",getTarget:function(In){return la(In,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),un=_n((Qt={body:K.internalDialog.body},pe=pt,Fe=ut,NA(Qt,w.some(Sn),pe,Fe))),kn=$A(K.internalDialog.buttons),Rn=qA(kn),Wn=_n(TR({buttons:kn},pt)),gn=lD(function(){return Br},{onBlock:function(In){Ad.block(io,function(Gt,He){return jA(In.message,He,pt.shared.providers)})},onUnblock:function(){Ad.unblock(io)},onClose:function(){return J.closeWindow()}},pt.shared.getSink),io=or({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:((yt={role:"dialog"})["aria-labelledby"]=ln,yt["aria-describedby"]=Sn,yt)},eventOrder:((Tt={})[Tl()]=[Fu.name(),tu.name()],Tt[Na()]=["execute-on-form"],Tt[_o()]=["reflecting","execute-on-form"],Tt),behaviours:Kt([ve.config({mode:"cyclic",onEscape:function(In){return fn(In,Gm),w.some(!0)},useTabstopAt:function(In){return!ch(In)&&(le(In)!=="button"||so(In,"disabled")!=="disabled")}}),Fu.config({channel:IO,updateState:function(In,Gt){return w.some(Gt)},initialData:K}),De.config({}),Me("execute-on-form",gn.concat([Tf(Wc(),function(In,Gt){ve.focusIn(In)})])),Ad.config({getRoot:function(){return w.some(io)}}),Le.config({}),_d({})]),components:[Vn.asSpec(),un.asSpec(),Wn.asSpec()]}),Br=YA({getRoot:ot(io),getFooter:function(){return Wn.get(io)},getBody:function(){return un.get(io)},getFormWrapper:function(){var In=un.get(io);return an.getCurrent(In).getOr(In)}},J.redial,Rn),{dialog:io,instanceApi:Br}),Mo=or(ro.sketch(q(q({lazySink:v.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},ao?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Kt(Ge([Me("window-manager-inline-events",[Rt(Mf(),function(In,Gt){fn(cu.dialog,Ql)})])],(j=b,C&&ao?[]:[ya.config({contextual:{lazyContext:function(){return w.some(di(kt.fromDom(j.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]),!0)),isExtraPart:function(In,Gt){return dd(He=Gt,".tox-alert-dialog")||dd(He,".tox-confirm-dialog");var He}})));return Xi.set(Mo),ro.showWithin(Mo,Ja(cu.dialog),{anchor:R},w.some(Yr())),C&&ao||(ya.refresh(Mo),b.on("ResizeEditor",M)),cu.instanceApi.setData(Pi),ve.focusIn(cu.dialog),cu.instanceApi},D)}var u,c,f,g,v=e.backstage,b=e.editor,C=xb(b),S=(c=(u=e).backstage.shared,{open:function(D,R){function L(){Nr.hide(U),R()}var I=_n(Sc({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:w.none()},"cancel",u.backstage)),F=MA(),z=RA(L,c.providers),U=or(TO({lazySink:function(){return c.getSink()},header:BA(F,z),body:PA(D,c.providers),footer:w.some(IA(LA([],[I.asSpec()]))),onEscape:L,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Rt(Ql,L)],eventOrder:{}}));Nr.show(U);var M=I.get(U);De.focus(M)}}),O=(g=(f=e).backstage.shared,{open:function(D,R){function L(K){Nr.hide(M),R(K)}var I=_n(Sc({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:w.none()},"submit",f.backstage)),F=Sc({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:w.none()},"cancel",f.backstage),z=MA(),U=RA(function(){return L(!1)},g.providers),M=or(TO({lazySink:function(){return g.getSink()},header:BA(z,U),body:PA(D,g.providers),footer:w.some(IA(LA([],[F,I.asSpec()]))),onEscape:function(){return L(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Rt(Ql,function(){return L(!1)}),Rt($p,function(){return L(!0)})],eventOrder:{}}));Nr.show(M);var j=I.get(M);De.focus(j)}});return{open:function(D,R,L){return R!==void 0&&R.inline==="toolbar"?i(D,v.shared.anchors.inlineDialog(),L,R.ariaAttrs):R!==void 0&&R.inline==="cursor"?i(D,v.shared.anchors.cursor(),L,R.ariaAttrs):o(D,L)},openUrl:function(D,R){return L=R,TC.openUrl(function(I){var F=cB(I,{closeWindow:function(){Nr.hide(F.dialog),L(F.instanceApi)}},b,v);return Nr.show(F.dialog),F.instanceApi},D);var L},alert:function(D,R){S.open(D,function(){R()})},close:function(D){D.close()},confirm:function(D,R){O.open(D,function(L){R(L)})}}}(ky=_h=_h||{})[ky.None=0]="None",ky[ky.Both=1]="Both",ky[ky.Vertical=2]="Vertical";var DO,fB=ot([Bt("lazySink"),bn("dragBlockClass"),co("getBounds",na),rt("useTabstopAt",nn),rt("eventOrder",{}),Go("modalBehaviours",[ve]),Ma("onExecute"),Gy("onEscape")]),NO={sketch:ne},dB=ot([js({name:"draghandle",overrides:function(e,o){return{behaviours:Kt([kh.config({mode:"mouse",getTarget:function(i){return Rl(i,'[role="dialog"]').getOr(i)},blockerClass:e.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(o,null,2)).message),getBounds:e.getDragBounds})])}}}),oi({schema:[Bt("dom")],name:"title"}),oi({factory:NO,schema:[Bt("dom")],name:"close"}),oi({factory:NO,schema:[Bt("dom")],name:"body"}),js({factory:NO,schema:[Bt("dom")],name:"footer"}),Au({factory:{sketch:function(e,o){return q(q({},e),{dom:o.dom,components:o.components})}},schema:[rt("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),rt("components",[])],name:"blocker"})]),Nr=ni({name:"ModalDialog",configFields:fB(),partFields:dB(),factory:function(e,o,i,u){var c,f=qo(),g=fe("modal-events"),v=q(q({},e.eventOrder),((c={})[_o()]=[g].concat(e.eventOrder["alloy.system.attached"]||[]),c));return{uid:e.uid,dom:e.dom,components:o,apis:{show:function(b){f.set(b);var C=e.lazySink(b).getOrDie(),S=u.blocker(),O=C.getSystem().build(q(q({},S),{components:S.components.concat([Ja(b)]),behaviours:Kt([De.config({}),Me("dialog-blocker-events",[Tf(Wc(),function(){ve.focusIn(b)})])])}));Hl(C,O),ve.focusIn(b)},hide:function(b){f.clear(),Xe(b.element).each(function(C){b.getSystem().getByDom(C).each(function(S){zl(S)})})},getBody:function(b){return vr(b,e,"body")},getFooter:function(b){return vr(b,e,"footer")},setIdle:function(b){Ad.unblock(b)},setBusy:function(b,C){Ad.block(b,C)}},eventOrder:v,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:cr(e.modalBehaviours,[Le.config({}),ve.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),Ad.config({getRoot:f.get}),Me(g,[$o(function(b){var C,S,O,D=b.element,R=vr(b,e,"title").element,L=fo(D,"id").fold(function(){var I=fe("dialog-label");return qe(R,"id",I),I},ne);qe(D,"aria-labelledby",L),C=b.element,S=vr(b,e,"body").element,O=w.from(so(C,"id")).fold(function(){var I=fe("dialog-describe");return qe(S,"id",I),I},ne),qe(C,"aria-describedby",O)})])])}},apis:{show:function(e,o){e.show(o)},hide:function(e,o){e.hide(o)},getBody:function(e,o){return e.getBody(o)},getFooter:function(e,o){return e.getFooter(o)},setBusy:function(e,o,i){e.setBusy(o,i)},setIdle:function(e,o){e.setIdle(o)}}}),mB=ce([_e("type"),_e("name")].concat(Im)),gB=Hi,QA=[Qo("name","name",Es(function(){return fe("button-name")}),sn),Xn("icon"),aa("align","end",["start","end"]),po("primary",!1),po("disabled",!1)],ZA=Ge(Ge([],QA,!0),[_e("text")],!1),BO=Ge([Os("type",["submit","cancel","custom"])],ZA,!0),pB=Jr("type",{submit:BO,cancel:BO,custom:BO,menu:Ge([Os("type",["menu"]),Xn("text"),Xn("tooltip"),Xn("icon"),Ei("items",mB)],QA,!0)}),hB=[_e("type"),_e("text"),Os("level",["info","warn","error","success"]),_e("icon"),rt("url","")],vB=ce(hB),bB=[_e("type"),_e("text"),po("disabled",!1),po("primary",!1),Qo("name","name",Es(function(){return fe("button-name")}),sn),Xn("icon"),po("borderless",!1)],yB=ce(bB),xB=[_e("type"),_e("name"),_e("label"),po("disabled",!1)],wB=ce(xB),CB=Hi,RO=[_e("type"),_e("name")],Tc=RO.concat([Xn("label")]),_B=Tc.concat([rt("columns","auto")]),SB=ce(_B),kB=ua([_e("value"),_e("text"),_e("icon")]),EB=ce(Tc),OB=sn,TB=ce(Tc),AB=sn,DB=RO.concat([Vo("tag","textarea"),_e("scriptId"),_e("scriptUrl"),wo("settings",void 0,nc)]),NB=RO.concat([Vo("tag","textarea"),zo("init")]),BB=Ga(function(e){return go("customeditor.old",ra(NB),e).orThunk(function(){return go("customeditor.new",ra(DB),e)})}),RB=sn,MB=ce(Tc),PB=ka(Oi),IB=[_e("type"),_e("html"),aa("presets","presentation",["presentation","document"])],LB=ce(IB),FB=Tc.concat([po("sandboxed",!0)]),HB=ce(FB),zB=sn,VB=Tc.concat([mi("currentState",ce([Bt("blob"),_e("url")]))]),jB=ce(VB),UB=Tc.concat([Xn("inputMode"),Xn("placeholder"),po("maximized",!1),po("disabled",!1)]),WB=ce(UB),$B=sn,qB=[_e("text"),_e("value")],GB=[_e("text"),Ei("items",(DO=$e(function(){return tD}),{extract:function(e,o){return DO().extract(e,o)},toString:function(){return DO().toString()}}))],tD=Yu([ce(qB),ce(GB)]),XB=Tc.concat([Ei("items",tD),po("disabled",!1)]),KB=ce(XB),YB=sn,JB=Tc.concat([zc("items",[_e("text"),_e("value")]),Gd("size",1),po("disabled",!1)]),QB=ce(JB),ZB=sn,tR=Tc.concat([po("constrain",!0),po("disabled",!1)]),eR=ce(tR),eD=ce([_e("width"),_e("height")]),nR=[_e("type"),Ei("header",sn),Ei("cells",ka(sn))],oR=ce(nR),rR=Tc.concat([Xn("placeholder"),po("maximized",!1),po("disabled",!1)]),iR=ce(rR),aR=sn,uR=Tc.concat([aa("filetype","file",["image","media","file"]),rt("disabled",!1)]),sR=ce(uR),cR=ce([_e("value"),rt("meta",{})]),MO=dg(function(){return Sf("type",{alertbanner:vB,bar:ce((i=EO("bar"),[_e("type"),i])),button:yB,checkbox:wB,colorinput:EB,colorpicker:TB,dropzone:MB,grid:ce((e=EO("grid"),[_e("type"),mi("columns",Ta),e])),iframe:HB,input:WB,listbox:KB,selectbox:QB,sizeinput:eR,textarea:iR,urlinput:sR,customeditor:BB,htmlpanel:LB,imagetools:jB,collection:SB,label:ce((o=EO("label"),[_e("type"),_e("label"),o])),table:oR,panel:nD});var e,o,i}),lR=[_e("type"),rt("classes",[]),Ei("items",MO)],nD=ce(lR),fR=[Qo("name","name",Es(function(){return fe("tab-name")}),sn),_e("title"),Ei("items",MO)],dR=[_e("type"),zc("tabs",fR)],mR=ce(dR),gR=ZA,pR=pB,hR=ce([_e("title"),mi("body",Sf("type",{panel:nD,tabpanel:mR})),Vo("size","normal"),Ei("buttons",pR),rt("initialData",{}),co("onAction",Xt),co("onChange",Xt),co("onSubmit",Xt),co("onClose",Xt),co("onCancel",Xt),rt("onTabChange",Xt)]),vR=ce(Ge([Os("type",["cancel","custom"])],gR,!0)),bR=ce([_e("title"),_e("url"),kf("height"),kf("width"),yu("buttons",vR),co("onAction",Xt),co("onCancel",Xt),co("onClose",Xt),co("onMessage",Xt)]),PO=function(e){return Jt(e)?[e].concat(on(Wu(e),PO)):An(e)?on(e,PO):[]},yR={checkbox:CB,colorinput:OB,colorpicker:AB,dropzone:PB,input:$B,iframe:zB,sizeinput:eD,selectbox:ZB,listbox:YB,size:eD,textarea:aR,urlinput:cR,customeditor:RB,collection:kB,togglemenuitem:gB},TC={open:function(e,o){var i=TA(o);return e(i.internalDialog,i.initialData,i.dataValidator)},openUrl:function(e,o){return e(Ju(go("dialog",bR,o)))},redial:TA},xR=nu({name:"TabButton",configFields:[rt("uid",void 0),Bt("value"),Qo("dom","dom",Do(function(){return{attributes:{role:"tab",id:fe("aria"),"aria-selected":"false"}}}),kr()),bn("action"),rt("domModification",{}),Go("tabButtonBehaviours",[De,ve,Zt]),Bt("view")],factory:function(e,o){return{uid:e.uid,dom:e.dom,components:e.components,events:lp(e.action),behaviours:cr(e.tabButtonBehaviours,[De.config({}),ve.config({mode:"execution",useSpace:!0,useEnter:!0}),Zt.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}}}),wR=ot([Bt("tabs"),Bt("dom"),rt("clickToDismiss",!1),Go("tabbarBehaviours",[Pn,ve]),rs(["tabClass","selectedClass"])]),CR=ot([Sv({factory:xR,name:"tabs",unit:"tab",overrides:function(e){return{action:function(o){var i=o.getSystem().getByUid(e.uid).getOrDie(),u=Pn.isHighlighted(i,o);(u&&e.clickToDismiss?function(c,f){Pn.dehighlight(c,f),we(c,MC(),{tabbar:c,button:f})}:u?Xt:function(c,f){Pn.highlight(c,f),we(c,RC(),{tabbar:c,button:f})})(i,o)},domModification:{classes:[e.markers.tabClass]}}}})]),oD=ni({name:"Tabbar",configFields:wR(),partFields:CR(),factory:function(e,o,i,u){return{uid:e.uid,dom:e.dom,components:o,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:cr(e.tabbarBehaviours,[Pn.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(c,f){qe(f.element,"aria-selected","true")},onDehighlight:function(c,f){qe(f.element,"aria-selected","false")}}),ve.config({mode:"flow",getInitial:function(c){return Pn.getHighlighted(c).map(function(f){return f.element})},selector:"."+e.markers.tabClass,executeOnMove:!0})])}}}),_R=nu({name:"Tabview",configFields:[Go("tabviewBehaviours",[Le])],factory:function(e,o){return{uid:e.uid,dom:e.dom,behaviours:cr(e.tabviewBehaviours,[Le.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),SR=ot([rt("selectFirst",!0),yn("onChangeTab"),yn("onDismissTab"),rt("tabs",[]),Go("tabSectionBehaviours",[])]),kR=ot([oi({factory:oD,schema:[Bt("dom"),Xa("markers",[Bt("tabClass"),Bt("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),oi({factory:_R,name:"tabview"})]),Ey=ni({name:"TabSection",configFields:SR(),partFields:kR(),factory:function(e,o,i,u){function c(f,g){wn(f,e,"tabbar").each(function(v){g(v).each(rc)})}return{uid:e.uid,dom:e.dom,components:o,behaviours:Ug(e.tabSectionBehaviours),events:oo(Jn([e.selectFirst?[$o(function(f,g){c(f,Pn.getFirst)})]:[],[Rt(RC(),function(f,g){var v=g.event.button,b=Zt.getValue(v);wn(v,e,"tabview").each(function(C){uo(e.tabs,function(S){return S.value===b}).each(function(S){var O=S.view();fo(v.element,"id").each(function(D){qe(C.element,"aria-labelledby",D)}),Le.set(C,O),e.onChangeTab(C,v,O)})})}),Rt(MC(),function(f,g){var v=g.event.button;e.onDismissTab(f,v)})]])),apis:{getViewItems:function(f){return wn(f,e,"tabview").map(function(g){return Le.contents(g)}).getOr([])},showTab:function(f,g){c(f,function(v){return uo(Pn.getCandidates(v),function(b){return Zt.getValue(b)===g}).filter(function(b){return!Pn.isHighlighted(v,b)})})}}}},apis:{getViewItems:function(e,o){return e.getViewItems(o)},showTab:function(e,o,i){e.showTab(o,i)}}}),rD="send-data-to-section",iD="send-data-to-view",IO=fe("update-dialog"),aD=fe("update-title"),uD=fe("update-body"),sD=fe("update-footer"),cD=fe("body-send-message"),ER=kb.deviceType.isTouch(),OR=function(e,o){function i(u,c){return Rt(u,function(f,g){var v,b;v=f,b=function(C,S){c(e(),C,g.event,f)},Fu.getState(v).get().each(function(C){b(C,v)})})}return Ge(Ge([],GA(i,o),!0),[i(Xs,function(u,c,f){c.onAction(u,{name:f.name})})],!1)},lD=function(e,o,i){function u(c,f){return Rt(c,function(g,v){var b,C;b=g,C=function(S,O){f(e(),S,v.event,g)},Fu.getState(b).get().each(function(S){C(S.internalDialog,b)})})}return Ge(Ge([],GA(u,o),!0),[u($p,function(c,f){return f.onSubmit(c)}),u(Fa,function(c,f,g){f.onChange(c,{name:g.name})}),u(Xs,function(c,f,g,v){function b(){return ve.focusIn(v)}function C(D){return Zi(D,"disabled")||fo(D,"aria-disabled").exists(function(R){return R==="true"})}var S=_a(v.element),O=Qa(S);f.onAction(c,{name:g.name,value:g.value}),Qa(S).fold(b,function(D){C(D)||O.exists(function(R){return ke(D,R)&&C(R)})?b():i().toOptional().filter(function(R){return!ke(R.element,D)}).each(b)})}),u(Nw,function(c,f,g){f.onTabChange(c,{newTabName:g.name,oldTabName:g.oldName})}),os(function(c){var f=e();Zt.setValue(c,f.getData())})],!1)},TR=XA,LO=tinymce.util.Tools.resolve("tinymce.util.URI"),AR=["insertContent","setContent","execCommand","close","block","unblock"];Va.add("silver",function(e){var o=iB(e),i=o.uiMothership,u=o.backstage,c=o.renderUI,f=o.getUi;return Tw(e,u.shared),{renderUI:c,getWindowManagerImpl:ot(lB({editor:e,backstage:u})),getNotificationManagerImpl:function(){return g=e,v=i,b=u.shared,{open:function(C,S){function O(){S(),ro.hide(L)}var D=!C.closeButton&&C.timeout&&(0<C.timeout||C.timeout<0),R=or(ob.sketch({text:C.text,level:Zn(["success","error","warning","warn","info"],C.type)?C.type:void 0,progress:C.progressBar===!0,icon:w.from(C.icon),closeButton:!D,onAction:O,iconProvider:b.providers.icons,translationProvider:b.providers.translate})),L=or(ro.sketch(q({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:b.getSink,fireDismissalEventInstead:{}},b.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));function I(){var F=di(kt.fromDom(g.getContentAreaContainer())),z=na(),U=Za(z.x,F.x,F.right),M=Za(z.y,F.y,F.bottom),j=Math.max(F.right,z.right),K=Math.max(F.bottom,z.bottom);return w.some(mo(U,M,j-U,K-M))}return v.add(L),0<C.timeout&&Ia.setTimeout(function(){O()},C.timeout),{close:O,moveTo:function(F,z){ro.showAt(L,Ja(R),{anchor:{type:"makeshift",x:F,y:z}})},moveRel:function(F,z){var U,M,j,K=Ja(R),J={maxHeightFunction:Gc()};z!=="banner"&&qr(F)?(U=(function(){switch(z){case"bc-bc":return Nu;case"tc-tc":return ds;case"tc-bc":return ti;default:return gi}})(),M={type:"node",root:Yr(),node:w.some(kt.fromDom(F)),overrides:J,layouts:{onRtl:function(){return[U]},onLtr:function(){return[U]}}},ro.showWithinBounds(L,K,{anchor:M},I)):(j=q(q({},b.anchors.banner()),{overrides:J}),ro.showWithinBounds(L,K,{anchor:j},I))},text:function(F){ob.updateText(R,F)},settings:C,getEl:function(){return R.element.dom},progressBar:{value:function(F){ob.updateProgress(R,F)}}}},close:function(C){C.close()},reposition:function(C){0<C.length&&Q(C,function(S,O){O===0?S.moveRel(null,"banner"):S.moveRel(C[O-1].getEl(),"bc-tc")})},getArgs:function(C){return C.settings}};var g,v,b},ui:f()}})})();
